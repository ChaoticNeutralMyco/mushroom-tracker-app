function eK(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _t(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Jx={exports:{}},Ch={},eb={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V3;function tK(){if(V3)return bt;V3=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),f=Symbol.iterator;function h(q){return q===null||typeof q!="object"?null:(q=f&&q[f]||q["@@iterator"],typeof q=="function"?q:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function _(q,Y,ae){this.props=q,this.context=Y,this.refs=m,this.updater=ae||v}_.prototype.isReactComponent={},_.prototype.setState=function(q,Y){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Y,"setState")},_.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function b(){}b.prototype=_.prototype;function E(q,Y,ae){this.props=q,this.context=Y,this.refs=m,this.updater=ae||v}var A=E.prototype=new b;A.constructor=E,g(A,_.prototype),A.isPureReactComponent=!0;var C=Array.isArray,O=Object.prototype.hasOwnProperty,R={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function S(q,Y,ae){var xe,Oe={},Te=null,Be=null;if(Y!=null)for(xe in Y.ref!==void 0&&(Be=Y.ref),Y.key!==void 0&&(Te=""+Y.key),Y)O.call(Y,xe)&&!I.hasOwnProperty(xe)&&(Oe[xe]=Y[xe]);var Ae=arguments.length-2;if(Ae===1)Oe.children=ae;else if(1<Ae){for(var G=Array(Ae),ne=0;ne<Ae;ne++)G[ne]=arguments[ne+2];Oe.children=G}if(q&&q.defaultProps)for(xe in Ae=q.defaultProps,Ae)Oe[xe]===void 0&&(Oe[xe]=Ae[xe]);return{$$typeof:t,type:q,key:Te,ref:Be,props:Oe,_owner:R.current}}function T(q,Y){return{$$typeof:t,type:q.type,key:Y,ref:q.ref,props:q.props,_owner:q._owner}}function D(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function L(q){var Y={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ae){return Y[ae]})}var F=/\/+/g;function j(q,Y){return typeof q=="object"&&q!==null&&q.key!=null?L(""+q.key):Y.toString(36)}function K(q,Y,ae,xe,Oe){var Te=typeof q;(Te==="undefined"||Te==="boolean")&&(q=null);var Be=!1;if(q===null)Be=!0;else switch(Te){case"string":case"number":Be=!0;break;case"object":switch(q.$$typeof){case t:case e:Be=!0}}if(Be)return Be=q,Oe=Oe(Be),q=xe===""?"."+j(Be,0):xe,C(Oe)?(ae="",q!=null&&(ae=q.replace(F,"$&/")+"/"),K(Oe,Y,ae,"",function(ne){return ne})):Oe!=null&&(D(Oe)&&(Oe=T(Oe,ae+(!Oe.key||Be&&Be.key===Oe.key?"":(""+Oe.key).replace(F,"$&/")+"/")+q)),Y.push(Oe)),1;if(Be=0,xe=xe===""?".":xe+":",C(q))for(var Ae=0;Ae<q.length;Ae++){Te=q[Ae];var G=xe+j(Te,Ae);Be+=K(Te,Y,ae,G,Oe)}else if(G=h(q),typeof G=="function")for(q=G.call(q),Ae=0;!(Te=q.next()).done;)Te=Te.value,G=xe+j(Te,Ae++),Be+=K(Te,Y,ae,G,Oe);else if(Te==="object")throw Y=String(q),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Be}function ee(q,Y,ae){if(q==null)return q;var xe=[],Oe=0;return K(q,xe,"","",function(Te){return Y.call(ae,Te,Oe++)}),xe}function W(q){if(q._status===-1){var Y=q._result;Y=Y(),Y.then(function(ae){(q._status===0||q._status===-1)&&(q._status=1,q._result=ae)},function(ae){(q._status===0||q._status===-1)&&(q._status=2,q._result=ae)}),q._status===-1&&(q._status=0,q._result=Y)}if(q._status===1)return q._result.default;throw q._result}var te={current:null},X={transition:null},Q={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:X,ReactCurrentOwner:R};function se(){throw Error("act(...) is not supported in production builds of React.")}return bt.Children={map:ee,forEach:function(q,Y,ae){ee(q,function(){Y.apply(this,arguments)},ae)},count:function(q){var Y=0;return ee(q,function(){Y++}),Y},toArray:function(q){return ee(q,function(Y){return Y})||[]},only:function(q){if(!D(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},bt.Component=_,bt.Fragment=r,bt.Profiler=i,bt.PureComponent=E,bt.StrictMode=n,bt.Suspense=u,bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,bt.act=se,bt.cloneElement=function(q,Y,ae){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var xe=g({},q.props),Oe=q.key,Te=q.ref,Be=q._owner;if(Y!=null){if(Y.ref!==void 0&&(Te=Y.ref,Be=R.current),Y.key!==void 0&&(Oe=""+Y.key),q.type&&q.type.defaultProps)var Ae=q.type.defaultProps;for(G in Y)O.call(Y,G)&&!I.hasOwnProperty(G)&&(xe[G]=Y[G]===void 0&&Ae!==void 0?Ae[G]:Y[G])}var G=arguments.length-2;if(G===1)xe.children=ae;else if(1<G){Ae=Array(G);for(var ne=0;ne<G;ne++)Ae[ne]=arguments[ne+2];xe.children=Ae}return{$$typeof:t,type:q.type,key:Oe,ref:Te,props:xe,_owner:Be}},bt.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:a,_context:q},q.Consumer=q},bt.createElement=S,bt.createFactory=function(q){var Y=S.bind(null,q);return Y.type=q,Y},bt.createRef=function(){return{current:null}},bt.forwardRef=function(q){return{$$typeof:s,render:q}},bt.isValidElement=D,bt.lazy=function(q){return{$$typeof:c,_payload:{_status:-1,_result:q},_init:W}},bt.memo=function(q,Y){return{$$typeof:l,type:q,compare:Y===void 0?null:Y}},bt.startTransition=function(q){var Y=X.transition;X.transition={};try{q()}finally{X.transition=Y}},bt.unstable_act=se,bt.useCallback=function(q,Y){return te.current.useCallback(q,Y)},bt.useContext=function(q){return te.current.useContext(q)},bt.useDebugValue=function(){},bt.useDeferredValue=function(q){return te.current.useDeferredValue(q)},bt.useEffect=function(q,Y){return te.current.useEffect(q,Y)},bt.useId=function(){return te.current.useId()},bt.useImperativeHandle=function(q,Y,ae){return te.current.useImperativeHandle(q,Y,ae)},bt.useInsertionEffect=function(q,Y){return te.current.useInsertionEffect(q,Y)},bt.useLayoutEffect=function(q,Y){return te.current.useLayoutEffect(q,Y)},bt.useMemo=function(q,Y){return te.current.useMemo(q,Y)},bt.useReducer=function(q,Y,ae){return te.current.useReducer(q,Y,ae)},bt.useRef=function(q){return te.current.useRef(q)},bt.useState=function(q){return te.current.useState(q)},bt.useSyncExternalStore=function(q,Y,ae){return te.current.useSyncExternalStore(q,Y,ae)},bt.useTransition=function(){return te.current.useTransition()},bt.version="18.3.1",bt}var q3;function Z1(){return q3||(q3=1,eb.exports=tK()),eb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z3;function rK(){if(z3)return Ch;z3=1;var t=Z1(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(s,u,l){var c,f={},h=null,v=null;l!==void 0&&(h=""+l),u.key!==void 0&&(h=""+u.key),u.ref!==void 0&&(v=u.ref);for(c in u)n.call(u,c)&&!a.hasOwnProperty(c)&&(f[c]=u[c]);if(s&&s.defaultProps)for(c in u=s.defaultProps,u)f[c]===void 0&&(f[c]=u[c]);return{$$typeof:e,type:s,key:h,ref:v,props:f,_owner:i.current}}return Ch.Fragment=r,Ch.jsx=o,Ch.jsxs=o,Ch}var W3;function nK(){return W3||(W3=1,Jx.exports=rK()),Jx.exports}var k=nK(),z=Z1();const $=_t(z),iK=eK({__proto__:null,default:$},[z]);var Fg={},tb={exports:{}},bi={},rb={exports:{}},nb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H3;function aK(){return H3||(H3=1,function(t){function e(X,Q){var se=X.length;X.push(Q);e:for(;0<se;){var q=se-1>>>1,Y=X[q];if(0<i(Y,Q))X[q]=Q,X[se]=Y,se=q;else break e}}function r(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var Q=X[0],se=X.pop();if(se!==Q){X[0]=se;e:for(var q=0,Y=X.length,ae=Y>>>1;q<ae;){var xe=2*(q+1)-1,Oe=X[xe],Te=xe+1,Be=X[Te];if(0>i(Oe,se))Te<Y&&0>i(Be,Oe)?(X[q]=Be,X[Te]=se,q=Te):(X[q]=Oe,X[xe]=se,q=xe);else if(Te<Y&&0>i(Be,se))X[q]=Be,X[Te]=se,q=Te;else break e}}return Q}function i(X,Q){var se=X.sortIndex-Q.sortIndex;return se!==0?se:X.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var u=[],l=[],c=1,f=null,h=3,v=!1,g=!1,m=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(X){for(var Q=r(l);Q!==null;){if(Q.callback===null)n(l);else if(Q.startTime<=X)n(l),Q.sortIndex=Q.expirationTime,e(u,Q);else break;Q=r(l)}}function C(X){if(m=!1,A(X),!g)if(r(u)!==null)g=!0,W(O);else{var Q=r(l);Q!==null&&te(C,Q.startTime-X)}}function O(X,Q){g=!1,m&&(m=!1,b(S),S=-1),v=!0;var se=h;try{for(A(Q),f=r(u);f!==null&&(!(f.expirationTime>Q)||X&&!L());){var q=f.callback;if(typeof q=="function"){f.callback=null,h=f.priorityLevel;var Y=q(f.expirationTime<=Q);Q=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===r(u)&&n(u),A(Q)}else n(u);f=r(u)}if(f!==null)var ae=!0;else{var xe=r(l);xe!==null&&te(C,xe.startTime-Q),ae=!1}return ae}finally{f=null,h=se,v=!1}}var R=!1,I=null,S=-1,T=5,D=-1;function L(){return!(t.unstable_now()-D<T)}function F(){if(I!==null){var X=t.unstable_now();D=X;var Q=!0;try{Q=I(!0,X)}finally{Q?j():(R=!1,I=null)}}else R=!1}var j;if(typeof E=="function")j=function(){E(F)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ee=K.port2;K.port1.onmessage=F,j=function(){ee.postMessage(null)}}else j=function(){_(F,0)};function W(X){I=X,R||(R=!0,j())}function te(X,Q){S=_(function(){X(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){g||v||(g=!0,W(O))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(X){switch(h){case 1:case 2:case 3:var Q=3;break;default:Q=h}var se=h;h=Q;try{return X()}finally{h=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,Q){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var se=h;h=X;try{return Q()}finally{h=se}},t.unstable_scheduleCallback=function(X,Q,se){var q=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?q+se:q):se=q,X){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=se+Y,X={id:c++,callback:Q,priorityLevel:X,startTime:se,expirationTime:Y,sortIndex:-1},se>q?(X.sortIndex=se,e(l,X),r(u)===null&&X===r(l)&&(m?(b(S),S=-1):m=!0,te(C,se-q))):(X.sortIndex=Y,e(u,X),g||v||(g=!0,W(O))),X},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(X){var Q=h;return function(){var se=h;h=Q;try{return X.apply(this,arguments)}finally{h=se}}}}(nb)),nb}var G3;function oK(){return G3||(G3=1,rb.exports=aK()),rb.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K3;function sK(){if(K3)return bi;K3=1;var t=Z1(),e=oK();function r(d){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+d,y=1;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(d,p){o(d,p),o(d+"Capture",p)}function o(d,p){for(i[d]=p,d=0;d<p.length;d++)n.add(p[d])}var s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,l=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c={},f={};function h(d){return u.call(f,d)?!0:u.call(c,d)?!1:l.test(d)?f[d]=!0:(c[d]=!0,!1)}function v(d,p,y,x){if(y!==null&&y.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return x?!1:y!==null?!y.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function g(d,p,y,x){if(p===null||typeof p>"u"||v(d,p,y,x))return!0;if(x)return!1;if(y!==null)switch(y.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function m(d,p,y,x,P,M,U){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=x,this.attributeNamespace=P,this.mustUseProperty=y,this.propertyName=d,this.type=p,this.sanitizeURL=M,this.removeEmptyString=U}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){_[d]=new m(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var p=d[0];_[p]=new m(p,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){_[d]=new m(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){_[d]=new m(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){_[d]=new m(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){_[d]=new m(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){_[d]=new m(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){_[d]=new m(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){_[d]=new m(d,5,!1,d.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function E(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var p=d.replace(b,E);_[p]=new m(p,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var p=d.replace(b,E);_[p]=new m(p,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var p=d.replace(b,E);_[p]=new m(p,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){_[d]=new m(d,1,!1,d.toLowerCase(),null,!1,!1)}),_.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){_[d]=new m(d,1,!1,d.toLowerCase(),null,!0,!0)});function A(d,p,y,x){var P=_.hasOwnProperty(p)?_[p]:null;(P!==null?P.type!==0:x||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(g(p,y,P,x)&&(y=null),x||P===null?h(p)&&(y===null?d.removeAttribute(p):d.setAttribute(p,""+y)):P.mustUseProperty?d[P.propertyName]=y===null?P.type===3?!1:"":y:(p=P.attributeName,x=P.attributeNamespace,y===null?d.removeAttribute(p):(P=P.type,y=P===3||P===4&&y===!0?"":""+y,x?d.setAttributeNS(x,p,y):d.setAttribute(p,y))))}var C=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),R=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),L=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),X=Symbol.iterator;function Q(d){return d===null||typeof d!="object"?null:(d=X&&d[X]||d["@@iterator"],typeof d=="function"?d:null)}var se=Object.assign,q;function Y(d){if(q===void 0)try{throw Error()}catch(y){var p=y.stack.trim().match(/\n( *(at )?)/);q=p&&p[1]||""}return`
`+q+d}var ae=!1;function xe(d,p){if(!d||ae)return"";ae=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(he){var x=he}Reflect.construct(d,[],p)}else{try{p.call()}catch(he){x=he}d.call(p.prototype)}else{try{throw Error()}catch(he){x=he}d()}}catch(he){if(he&&x&&typeof he.stack=="string"){for(var P=he.stack.split(`
`),M=x.stack.split(`
`),U=P.length-1,J=M.length-1;1<=U&&0<=J&&P[U]!==M[J];)J--;for(;1<=U&&0<=J;U--,J--)if(P[U]!==M[J]){if(U!==1||J!==1)do if(U--,J--,0>J||P[U]!==M[J]){var ie=`
`+P[U].replace(" at new "," at ");return d.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",d.displayName)),ie}while(1<=U&&0<=J);break}}}finally{ae=!1,Error.prepareStackTrace=y}return(d=d?d.displayName||d.name:"")?Y(d):""}function Oe(d){switch(d.tag){case 5:return Y(d.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return d=xe(d.type,!1),d;case 11:return d=xe(d.type.render,!1),d;case 1:return d=xe(d.type,!0),d;default:return""}}function Te(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case I:return"Fragment";case R:return"Portal";case T:return"Profiler";case S:return"StrictMode";case j:return"Suspense";case K:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case L:return(d.displayName||"Context")+".Consumer";case D:return(d._context.displayName||"Context")+".Provider";case F:var p=d.render;return d=d.displayName,d||(d=p.displayName||p.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case ee:return p=d.displayName||null,p!==null?p:Te(d.type)||"Memo";case W:p=d._payload,d=d._init;try{return Te(d(p))}catch{}}return null}function Be(d){var p=d.type;switch(d.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=p.render,d=d.displayName||d.name||"",p.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(p);case 8:return p===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function Ae(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function G(d){var p=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function ne(d){var p=G(d)?"checked":"value",y=Object.getOwnPropertyDescriptor(d.constructor.prototype,p),x=""+d[p];if(!d.hasOwnProperty(p)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var P=y.get,M=y.set;return Object.defineProperty(d,p,{configurable:!0,get:function(){return P.call(this)},set:function(U){x=""+U,M.call(this,U)}}),Object.defineProperty(d,p,{enumerable:y.enumerable}),{getValue:function(){return x},setValue:function(U){x=""+U},stopTracking:function(){d._valueTracker=null,delete d[p]}}}}function re(d){d._valueTracker||(d._valueTracker=ne(d))}function Z(d){if(!d)return!1;var p=d._valueTracker;if(!p)return!0;var y=p.getValue(),x="";return d&&(x=G(d)?d.checked?"true":"false":d.value),d=x,d!==y?(p.setValue(d),!0):!1}function fe(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function ye(d,p){var y=p.checked;return se({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??d._wrapperState.initialChecked})}function pe(d,p){var y=p.defaultValue==null?"":p.defaultValue,x=p.checked!=null?p.checked:p.defaultChecked;y=Ae(p.value!=null?p.value:y),d._wrapperState={initialChecked:x,initialValue:y,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function be(d,p){p=p.checked,p!=null&&A(d,"checked",p,!1)}function Re(d,p){be(d,p);var y=Ae(p.value),x=p.type;if(y!=null)x==="number"?(y===0&&d.value===""||d.value!=y)&&(d.value=""+y):d.value!==""+y&&(d.value=""+y);else if(x==="submit"||x==="reset"){d.removeAttribute("value");return}p.hasOwnProperty("value")?Ie(d,p.type,y):p.hasOwnProperty("defaultValue")&&Ie(d,p.type,Ae(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(d.defaultChecked=!!p.defaultChecked)}function je(d,p,y){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var x=p.type;if(!(x!=="submit"&&x!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+d._wrapperState.initialValue,y||p===d.value||(d.value=p),d.defaultValue=p}y=d.name,y!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,y!==""&&(d.name=y)}function Ie(d,p,y){(p!=="number"||fe(d.ownerDocument)!==d)&&(y==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+y&&(d.defaultValue=""+y))}var Le=Array.isArray;function it(d,p,y,x){if(d=d.options,p){p={};for(var P=0;P<y.length;P++)p["$"+y[P]]=!0;for(y=0;y<d.length;y++)P=p.hasOwnProperty("$"+d[y].value),d[y].selected!==P&&(d[y].selected=P),P&&x&&(d[y].defaultSelected=!0)}else{for(y=""+Ae(y),p=null,P=0;P<d.length;P++){if(d[P].value===y){d[P].selected=!0,x&&(d[P].defaultSelected=!0);return}p!==null||d[P].disabled||(p=d[P])}p!==null&&(p.selected=!0)}}function nt(d,p){if(p.dangerouslySetInnerHTML!=null)throw Error(r(91));return se({},p,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function lt(d,p){var y=p.value;if(y==null){if(y=p.children,p=p.defaultValue,y!=null){if(p!=null)throw Error(r(92));if(Le(y)){if(1<y.length)throw Error(r(93));y=y[0]}p=y}p==null&&(p=""),y=p}d._wrapperState={initialValue:Ae(y)}}function ft(d,p){var y=Ae(p.value),x=Ae(p.defaultValue);y!=null&&(y=""+y,y!==d.value&&(d.value=y),p.defaultValue==null&&d.defaultValue!==y&&(d.defaultValue=y)),x!=null&&(d.defaultValue=""+x)}function xt(d){var p=d.textContent;p===d._wrapperState.initialValue&&p!==""&&p!==null&&(d.value=p)}function tt(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gt(d,p){return d==null||d==="http://www.w3.org/1999/xhtml"?tt(p):d==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var vt,mt=function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,y,x,P){MSApp.execUnsafeLocalFunction(function(){return d(p,y,x,P)})}:d}(function(d,p){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=p;else{for(vt=vt||document.createElement("div"),vt.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=vt.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;p.firstChild;)d.appendChild(p.firstChild)}});function At(d,p){if(p){var y=d.firstChild;if(y&&y===d.lastChild&&y.nodeType===3){y.nodeValue=p;return}}d.textContent=p}var Vt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qt=["Webkit","ms","Moz","O"];Object.keys(Vt).forEach(function(d){qt.forEach(function(p){p=p+d.charAt(0).toUpperCase()+d.substring(1),Vt[p]=Vt[d]})});function rr(d,p,y){return p==null||typeof p=="boolean"||p===""?"":y||typeof p!="number"||p===0||Vt.hasOwnProperty(d)&&Vt[d]?(""+p).trim():p+"px"}function kr(d,p){d=d.style;for(var y in p)if(p.hasOwnProperty(y)){var x=y.indexOf("--")===0,P=rr(y,p[y],x);y==="float"&&(y="cssFloat"),x?d.setProperty(y,P):d[y]=P}}var bn=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Br(d,p){if(p){if(bn[d]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(r(137,d));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(r(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(r(61))}if(p.style!=null&&typeof p.style!="object")throw Error(r(62))}}function ju(d,p){if(d.indexOf("-")===-1)return typeof p.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ta=null;function Os(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Fu=null,Ni=null,Ca=null;function Ts(d){if(d=hh(d)){if(typeof Fu!="function")throw Error(r(280));var p=d.stateNode;p&&(p=J0(p),Fu(d.stateNode,d.type,p))}}function uo(d){Ni?Ca?Ca.push(d):Ca=[d]:Ni=d}function zd(){if(Ni){var d=Ni,p=Ca;if(Ca=Ni=null,Ts(d),p)for(d=0;d<p.length;d++)Ts(p[d])}}function Bu(d,p){return d(p)}function Wd(){}var $o=!1;function Hd(d,p,y){if($o)return d(p,y);$o=!0;try{return Bu(d,p,y)}finally{$o=!1,(Ni!==null||Ca!==null)&&(Wd(),zd())}}function Mr(d,p){var y=d.stateNode;if(y===null)return null;var x=J0(y);if(x===null)return null;y=x[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(d=d.type,x=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!x;break e;default:d=!1}if(d)return null;if(y&&typeof y!="function")throw Error(r(231,p,typeof y));return y}var vc=!1;if(s)try{var Ia={};Object.defineProperty(Ia,"passive",{get:function(){vc=!0}}),window.addEventListener("test",Ia,Ia),window.removeEventListener("test",Ia,Ia)}catch{vc=!1}function $u(d,p,y,x,P,M,U,J,ie){var he=Array.prototype.slice.call(arguments,3);try{p.apply(y,he)}catch(Se){this.onError(Se)}}var Uu=!1,gc=null,Pa=!1,Gd=null,Tw={onError:function(d){Uu=!0,gc=d}};function mc(d,p,y,x,P,M,U,J,ie){Uu=!1,gc=null,$u.apply(Tw,arguments)}function A0(d,p,y,x,P,M,U,J,ie){if(mc.apply(this,arguments),Uu){if(Uu){var he=gc;Uu=!1,gc=null}else throw Error(r(198));Pa||(Pa=!0,Gd=he)}}function Ra(d){var p=d,y=d;if(d.alternate)for(;p.return;)p=p.return;else{d=p;do p=d,(p.flags&4098)!==0&&(y=p.return),d=p.return;while(d)}return p.tag===3?y:null}function Vu(d){if(d.tag===13){var p=d.memoizedState;if(p===null&&(d=d.alternate,d!==null&&(p=d.memoizedState)),p!==null)return p.dehydrated}return null}function Da(d){if(Ra(d)!==d)throw Error(r(188))}function S0(d){var p=d.alternate;if(!p){if(p=Ra(d),p===null)throw Error(r(188));return p!==d?null:d}for(var y=d,x=p;;){var P=y.return;if(P===null)break;var M=P.alternate;if(M===null){if(x=P.return,x!==null){y=x;continue}break}if(P.child===M.child){for(M=P.child;M;){if(M===y)return Da(P),d;if(M===x)return Da(P),p;M=M.sibling}throw Error(r(188))}if(y.return!==x.return)y=P,x=M;else{for(var U=!1,J=P.child;J;){if(J===y){U=!0,y=P,x=M;break}if(J===x){U=!0,x=P,y=M;break}J=J.sibling}if(!U){for(J=M.child;J;){if(J===y){U=!0,y=M,x=P;break}if(J===x){U=!0,x=M,y=P;break}J=J.sibling}if(!U)throw Error(r(189))}}if(y.alternate!==x)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?d:p}function Kd(d){return d=S0(d),d!==null?yc(d):null}function yc(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var p=yc(d);if(p!==null)return p;d=d.sibling}return null}var _c=e.unstable_scheduleCallback,Xd=e.unstable_cancelCallback,O0=e.unstable_shouldYield,Cw=e.unstable_requestPaint,nr=e.unstable_now,T0=e.unstable_getCurrentPriorityLevel,qu=e.unstable_ImmediatePriority,Cs=e.unstable_UserBlockingPriority,ra=e.unstable_NormalPriority,Yd=e.unstable_LowPriority,C0=e.unstable_IdlePriority,zu=null,ki=null;function I0(d){if(ki&&typeof ki.onCommitFiberRoot=="function")try{ki.onCommitFiberRoot(zu,d,void 0,(d.current.flags&128)===128)}catch{}}var ei=Math.clz32?Math.clz32:R0,Qd=Math.log,P0=Math.LN2;function R0(d){return d>>>=0,d===0?32:31-(Qd(d)/P0|0)|0}var wc=64,xc=4194304;function Is(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Wu(d,p){var y=d.pendingLanes;if(y===0)return 0;var x=0,P=d.suspendedLanes,M=d.pingedLanes,U=y&268435455;if(U!==0){var J=U&~P;J!==0?x=Is(J):(M&=U,M!==0&&(x=Is(M)))}else U=y&~P,U!==0?x=Is(U):M!==0&&(x=Is(M));if(x===0)return 0;if(p!==0&&p!==x&&(p&P)===0&&(P=x&-x,M=p&-p,P>=M||P===16&&(M&4194240)!==0))return p;if((x&4)!==0&&(x|=y&16),p=d.entangledLanes,p!==0)for(d=d.entanglements,p&=x;0<p;)y=31-ei(p),P=1<<y,x|=d[y],p&=~P;return x}function Iw(d,p){switch(d){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uo(d,p){for(var y=d.suspendedLanes,x=d.pingedLanes,P=d.expirationTimes,M=d.pendingLanes;0<M;){var U=31-ei(M),J=1<<U,ie=P[U];ie===-1?((J&y)===0||(J&x)!==0)&&(P[U]=Iw(J,p)):ie<=p&&(d.expiredLanes|=J),M&=~J}}function Mi(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Hu(){var d=wc;return wc<<=1,(wc&4194240)===0&&(wc=64),d}function Ps(d){for(var p=[],y=0;31>y;y++)p.push(d);return p}function Rs(d,p,y){d.pendingLanes|=p,p!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,p=31-ei(p),d[p]=y}function Zt(d,p){var y=d.pendingLanes&~p;d.pendingLanes=p,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=p,d.mutableReadLanes&=p,d.entangledLanes&=p,p=d.entanglements;var x=d.eventTimes;for(d=d.expirationTimes;0<y;){var P=31-ei(y),M=1<<P;p[P]=0,x[P]=-1,d[P]=-1,y&=~M}}function Ds(d,p){var y=d.entangledLanes|=p;for(d=d.entanglements;y;){var x=31-ei(y),P=1<<x;P&p|d[x]&p&&(d[x]|=p),y&=~P}}var Ot=0;function Ns(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var D0,bc,N0,k0,M0,Zd=!1,lo=[],En=null,Na=null,ka=null,ks=new Map,na=new Map,co=[],Pw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function L0(d,p){switch(d){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":Na=null;break;case"mouseover":case"mouseout":ka=null;break;case"pointerover":case"pointerout":ks.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":na.delete(p.pointerId)}}function vi(d,p,y,x,P,M){return d===null||d.nativeEvent!==M?(d={blockedOn:p,domEventName:y,eventSystemFlags:x,nativeEvent:M,targetContainers:[P]},p!==null&&(p=hh(p),p!==null&&bc(p)),d):(d.eventSystemFlags|=x,p=d.targetContainers,P!==null&&p.indexOf(P)===-1&&p.push(P),d)}function Rw(d,p,y,x,P){switch(p){case"focusin":return En=vi(En,d,p,y,x,P),!0;case"dragenter":return Na=vi(Na,d,p,y,x,P),!0;case"mouseover":return ka=vi(ka,d,p,y,x,P),!0;case"pointerover":var M=P.pointerId;return ks.set(M,vi(ks.get(M)||null,d,p,y,x,P)),!0;case"gotpointercapture":return M=P.pointerId,na.set(M,vi(na.get(M)||null,d,p,y,x,P)),!0}return!1}function j0(d){var p=Qu(d.target);if(p!==null){var y=Ra(p);if(y!==null){if(p=y.tag,p===13){if(p=Vu(y),p!==null){d.blockedOn=p,M0(d.priority,function(){N0(y)});return}}else if(p===3&&y.stateNode.current.memoizedState.isDehydrated){d.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Vo(d){if(d.blockedOn!==null)return!1;for(var p=d.targetContainers;0<p.length;){var y=Ec(d.domEventName,d.eventSystemFlags,p[0],d.nativeEvent);if(y===null){y=d.nativeEvent;var x=new y.constructor(y.type,y);Ta=x,y.target.dispatchEvent(x),Ta=null}else return p=hh(y),p!==null&&bc(p),d.blockedOn=y,!1;p.shift()}return!0}function Gu(d,p,y){Vo(d)&&y.delete(p)}function F0(){Zd=!1,En!==null&&Vo(En)&&(En=null),Na!==null&&Vo(Na)&&(Na=null),ka!==null&&Vo(ka)&&(ka=null),ks.forEach(Gu),na.forEach(Gu)}function Ma(d,p){d.blockedOn===p&&(d.blockedOn=null,Zd||(Zd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,F0)))}function La(d){function p(P){return Ma(P,d)}if(0<lo.length){Ma(lo[0],d);for(var y=1;y<lo.length;y++){var x=lo[y];x.blockedOn===d&&(x.blockedOn=null)}}for(En!==null&&Ma(En,d),Na!==null&&Ma(Na,d),ka!==null&&Ma(ka,d),ks.forEach(p),na.forEach(p),y=0;y<co.length;y++)x=co[y],x.blockedOn===d&&(x.blockedOn=null);for(;0<co.length&&(y=co[0],y.blockedOn===null);)j0(y),y.blockedOn===null&&co.shift()}var qo=C.ReactCurrentBatchConfig,Ms=!0;function mr(d,p,y,x){var P=Ot,M=qo.transition;qo.transition=null;try{Ot=1,Jd(d,p,y,x)}finally{Ot=P,qo.transition=M}}function Dw(d,p,y,x){var P=Ot,M=qo.transition;qo.transition=null;try{Ot=4,Jd(d,p,y,x)}finally{Ot=P,qo.transition=M}}function Jd(d,p,y,x){if(Ms){var P=Ec(d,p,y,x);if(P===null)qw(d,p,x,Ku,y),L0(d,x);else if(Rw(P,d,p,y,x))x.stopPropagation();else if(L0(d,x),p&4&&-1<Pw.indexOf(d)){for(;P!==null;){var M=hh(P);if(M!==null&&D0(M),M=Ec(d,p,y,x),M===null&&qw(d,p,x,Ku,y),M===P)break;P=M}P!==null&&x.stopPropagation()}else qw(d,p,x,null,y)}}var Ku=null;function Ec(d,p,y,x){if(Ku=null,d=Os(x),d=Qu(d),d!==null)if(p=Ra(d),p===null)d=null;else if(y=p.tag,y===13){if(d=Vu(p),d!==null)return d;d=null}else if(y===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;d=null}else p!==d&&(d=null);return Ku=d,null}function eh(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(T0()){case qu:return 1;case Cs:return 4;case ra:case Yd:return 16;case C0:return 536870912;default:return 16}default:return 16}}var Li=null,Ac=null,gi=null;function th(){if(gi)return gi;var d,p=Ac,y=p.length,x,P="value"in Li?Li.value:Li.textContent,M=P.length;for(d=0;d<y&&p[d]===P[d];d++);var U=y-d;for(x=1;x<=U&&p[y-x]===P[M-x];x++);return gi=P.slice(d,1<x?1-x:void 0)}function Sc(d){var p=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&p===13&&(d=13)):d=p,d===10&&(d=13),32<=d||d===13?d:0}function fo(){return!0}function rh(){return!1}function An(d){function p(y,x,P,M,U){this._reactName=y,this._targetInst=P,this.type=x,this.nativeEvent=M,this.target=U,this.currentTarget=null;for(var J in d)d.hasOwnProperty(J)&&(y=d[J],this[J]=y?y(M):M[J]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?fo:rh,this.isPropagationStopped=rh,this}return se(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=fo)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=fo)},persist:function(){},isPersistent:fo}),p}var ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oc=An(ja),ho=se({},ja,{view:0,detail:0}),Nw=An(ho),Tc,zo,Ls,Xu=se({},ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:po,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Ls&&(Ls&&d.type==="mousemove"?(Tc=d.screenX-Ls.screenX,zo=d.screenY-Ls.screenY):zo=Tc=0,Ls=d),Tc)},movementY:function(d){return"movementY"in d?d.movementY:zo}}),Cc=An(Xu),nh=se({},Xu,{dataTransfer:0}),B0=An(nh),Ic=se({},ho,{relatedTarget:0}),Pc=An(Ic),$0=se({},ja,{animationName:0,elapsedTime:0,pseudoElement:0}),Wo=An($0),U0=se({},ja,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),V0=An(U0),q0=se({},ja,{data:0}),ih=An(q0),Rc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ti={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W0(d){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(d):(d=z0[d])?!!p[d]:!1}function po(){return W0}var w=se({},ho,{key:function(d){if(d.key){var p=Rc[d.key]||d.key;if(p!=="Unidentified")return p}return d.type==="keypress"?(d=Sc(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?ti[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:po,charCode:function(d){return d.type==="keypress"?Sc(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Sc(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),N=An(w),B=se({},Xu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V=An(B),ue=se({},ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:po}),ve=An(ue),Me=se({},ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),zt=An(Me),Gr=se({},Xu,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),Ct=An(Gr),fn=[9,13,27,32],$r=s&&"CompositionEvent"in window,ia=null;s&&"documentMode"in document&&(ia=document.documentMode);var ji=s&&"TextEvent"in window&&!ia,Yu=s&&(!$r||ia&&8<ia&&11>=ia),Dc=" ",LR=!1;function jR(d,p){switch(d){case"keyup":return fn.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FR(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Nc=!1;function QH(d,p){switch(d){case"compositionend":return FR(p);case"keypress":return p.which!==32?null:(LR=!0,Dc);case"textInput":return d=p.data,d===Dc&&LR?null:d;default:return null}}function ZH(d,p){if(Nc)return d==="compositionend"||!$r&&jR(d,p)?(d=th(),gi=Ac=Li=null,Nc=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return Yu&&p.locale!=="ko"?null:p.data;default:return null}}var JH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BR(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p==="input"?!!JH[d.type]:p==="textarea"}function $R(d,p,y,x){uo(x),p=Y0(p,"onChange"),0<p.length&&(y=new Oc("onChange","change",null,y,x),d.push({event:y,listeners:p}))}var ah=null,oh=null;function eG(d){iD(d,0)}function H0(d){var p=Fc(d);if(Z(p))return d}function tG(d,p){if(d==="change")return p}var UR=!1;if(s){var kw;if(s){var Mw="oninput"in document;if(!Mw){var VR=document.createElement("div");VR.setAttribute("oninput","return;"),Mw=typeof VR.oninput=="function"}kw=Mw}else kw=!1;UR=kw&&(!document.documentMode||9<document.documentMode)}function qR(){ah&&(ah.detachEvent("onpropertychange",zR),oh=ah=null)}function zR(d){if(d.propertyName==="value"&&H0(oh)){var p=[];$R(p,oh,d,Os(d)),Hd(eG,p)}}function rG(d,p,y){d==="focusin"?(qR(),ah=p,oh=y,ah.attachEvent("onpropertychange",zR)):d==="focusout"&&qR()}function nG(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return H0(oh)}function iG(d,p){if(d==="click")return H0(p)}function aG(d,p){if(d==="input"||d==="change")return H0(p)}function oG(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var Fa=typeof Object.is=="function"?Object.is:oG;function sh(d,p){if(Fa(d,p))return!0;if(typeof d!="object"||d===null||typeof p!="object"||p===null)return!1;var y=Object.keys(d),x=Object.keys(p);if(y.length!==x.length)return!1;for(x=0;x<y.length;x++){var P=y[x];if(!u.call(p,P)||!Fa(d[P],p[P]))return!1}return!0}function WR(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function HR(d,p){var y=WR(d);d=0;for(var x;y;){if(y.nodeType===3){if(x=d+y.textContent.length,d<=p&&x>=p)return{node:y,offset:p-d};d=x}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=WR(y)}}function GR(d,p){return d&&p?d===p?!0:d&&d.nodeType===3?!1:p&&p.nodeType===3?GR(d,p.parentNode):"contains"in d?d.contains(p):d.compareDocumentPosition?!!(d.compareDocumentPosition(p)&16):!1:!1}function KR(){for(var d=window,p=fe();p instanceof d.HTMLIFrameElement;){try{var y=typeof p.contentWindow.location.href=="string"}catch{y=!1}if(y)d=p.contentWindow;else break;p=fe(d.document)}return p}function Lw(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p&&(p==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||p==="textarea"||d.contentEditable==="true")}function sG(d){var p=KR(),y=d.focusedElem,x=d.selectionRange;if(p!==y&&y&&y.ownerDocument&&GR(y.ownerDocument.documentElement,y)){if(x!==null&&Lw(y)){if(p=x.start,d=x.end,d===void 0&&(d=p),"selectionStart"in y)y.selectionStart=p,y.selectionEnd=Math.min(d,y.value.length);else if(d=(p=y.ownerDocument||document)&&p.defaultView||window,d.getSelection){d=d.getSelection();var P=y.textContent.length,M=Math.min(x.start,P);x=x.end===void 0?M:Math.min(x.end,P),!d.extend&&M>x&&(P=x,x=M,M=P),P=HR(y,M);var U=HR(y,x);P&&U&&(d.rangeCount!==1||d.anchorNode!==P.node||d.anchorOffset!==P.offset||d.focusNode!==U.node||d.focusOffset!==U.offset)&&(p=p.createRange(),p.setStart(P.node,P.offset),d.removeAllRanges(),M>x?(d.addRange(p),d.extend(U.node,U.offset)):(p.setEnd(U.node,U.offset),d.addRange(p)))}}for(p=[],d=y;d=d.parentNode;)d.nodeType===1&&p.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<p.length;y++)d=p[y],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var uG=s&&"documentMode"in document&&11>=document.documentMode,kc=null,jw=null,uh=null,Fw=!1;function XR(d,p,y){var x=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;Fw||kc==null||kc!==fe(x)||(x=kc,"selectionStart"in x&&Lw(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),uh&&sh(uh,x)||(uh=x,x=Y0(jw,"onSelect"),0<x.length&&(p=new Oc("onSelect","select",null,p,y),d.push({event:p,listeners:x}),p.target=kc)))}function G0(d,p){var y={};return y[d.toLowerCase()]=p.toLowerCase(),y["Webkit"+d]="webkit"+p,y["Moz"+d]="moz"+p,y}var Mc={animationend:G0("Animation","AnimationEnd"),animationiteration:G0("Animation","AnimationIteration"),animationstart:G0("Animation","AnimationStart"),transitionend:G0("Transition","TransitionEnd")},Bw={},YR={};s&&(YR=document.createElement("div").style,"AnimationEvent"in window||(delete Mc.animationend.animation,delete Mc.animationiteration.animation,delete Mc.animationstart.animation),"TransitionEvent"in window||delete Mc.transitionend.transition);function K0(d){if(Bw[d])return Bw[d];if(!Mc[d])return d;var p=Mc[d],y;for(y in p)if(p.hasOwnProperty(y)&&y in YR)return Bw[d]=p[y];return d}var QR=K0("animationend"),ZR=K0("animationiteration"),JR=K0("animationstart"),eD=K0("transitionend"),tD=new Map,rD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function js(d,p){tD.set(d,p),a(p,[d])}for(var $w=0;$w<rD.length;$w++){var Uw=rD[$w],lG=Uw.toLowerCase(),cG=Uw[0].toUpperCase()+Uw.slice(1);js(lG,"on"+cG)}js(QR,"onAnimationEnd"),js(ZR,"onAnimationIteration"),js(JR,"onAnimationStart"),js("dblclick","onDoubleClick"),js("focusin","onFocus"),js("focusout","onBlur"),js(eD,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fG=new Set("cancel close invalid load scroll toggle".split(" ").concat(lh));function nD(d,p,y){var x=d.type||"unknown-event";d.currentTarget=y,A0(x,p,void 0,d),d.currentTarget=null}function iD(d,p){p=(p&4)!==0;for(var y=0;y<d.length;y++){var x=d[y],P=x.event;x=x.listeners;e:{var M=void 0;if(p)for(var U=x.length-1;0<=U;U--){var J=x[U],ie=J.instance,he=J.currentTarget;if(J=J.listener,ie!==M&&P.isPropagationStopped())break e;nD(P,J,he),M=ie}else for(U=0;U<x.length;U++){if(J=x[U],ie=J.instance,he=J.currentTarget,J=J.listener,ie!==M&&P.isPropagationStopped())break e;nD(P,J,he),M=ie}}}if(Pa)throw d=Gd,Pa=!1,Gd=null,d}function cr(d,p){var y=p[Xw];y===void 0&&(y=p[Xw]=new Set);var x=d+"__bubble";y.has(x)||(aD(p,d,2,!1),y.add(x))}function Vw(d,p,y){var x=0;p&&(x|=4),aD(y,d,x,p)}var X0="_reactListening"+Math.random().toString(36).slice(2);function ch(d){if(!d[X0]){d[X0]=!0,n.forEach(function(y){y!=="selectionchange"&&(fG.has(y)||Vw(y,!1,d),Vw(y,!0,d))});var p=d.nodeType===9?d:d.ownerDocument;p===null||p[X0]||(p[X0]=!0,Vw("selectionchange",!1,p))}}function aD(d,p,y,x){switch(eh(p)){case 1:var P=mr;break;case 4:P=Dw;break;default:P=Jd}y=P.bind(null,p,y,d),P=void 0,!vc||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(P=!0),x?P!==void 0?d.addEventListener(p,y,{capture:!0,passive:P}):d.addEventListener(p,y,!0):P!==void 0?d.addEventListener(p,y,{passive:P}):d.addEventListener(p,y,!1)}function qw(d,p,y,x,P){var M=x;if((p&1)===0&&(p&2)===0&&x!==null)e:for(;;){if(x===null)return;var U=x.tag;if(U===3||U===4){var J=x.stateNode.containerInfo;if(J===P||J.nodeType===8&&J.parentNode===P)break;if(U===4)for(U=x.return;U!==null;){var ie=U.tag;if((ie===3||ie===4)&&(ie=U.stateNode.containerInfo,ie===P||ie.nodeType===8&&ie.parentNode===P))return;U=U.return}for(;J!==null;){if(U=Qu(J),U===null)return;if(ie=U.tag,ie===5||ie===6){x=M=U;continue e}J=J.parentNode}}x=x.return}Hd(function(){var he=M,Se=Os(y),Pe=[];e:{var Ee=tD.get(d);if(Ee!==void 0){var Fe=Oc,qe=d;switch(d){case"keypress":if(Sc(y)===0)break e;case"keydown":case"keyup":Fe=N;break;case"focusin":qe="focus",Fe=Pc;break;case"focusout":qe="blur",Fe=Pc;break;case"beforeblur":case"afterblur":Fe=Pc;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=Cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=B0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=ve;break;case QR:case ZR:case JR:Fe=Wo;break;case eD:Fe=zt;break;case"scroll":Fe=Nw;break;case"wheel":Fe=Ct;break;case"copy":case"cut":case"paste":Fe=V0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=V}var ze=(p&4)!==0,Lr=!ze&&d==="scroll",le=ze?Ee!==null?Ee+"Capture":null:Ee;ze=[];for(var oe=he,de;oe!==null;){de=oe;var De=de.stateNode;if(de.tag===5&&De!==null&&(de=De,le!==null&&(De=Mr(oe,le),De!=null&&ze.push(fh(oe,De,de)))),Lr)break;oe=oe.return}0<ze.length&&(Ee=new Fe(Ee,qe,null,y,Se),Pe.push({event:Ee,listeners:ze}))}}if((p&7)===0){e:{if(Ee=d==="mouseover"||d==="pointerover",Fe=d==="mouseout"||d==="pointerout",Ee&&y!==Ta&&(qe=y.relatedTarget||y.fromElement)&&(Qu(qe)||qe[Ho]))break e;if((Fe||Ee)&&(Ee=Se.window===Se?Se:(Ee=Se.ownerDocument)?Ee.defaultView||Ee.parentWindow:window,Fe?(qe=y.relatedTarget||y.toElement,Fe=he,qe=qe?Qu(qe):null,qe!==null&&(Lr=Ra(qe),qe!==Lr||qe.tag!==5&&qe.tag!==6)&&(qe=null)):(Fe=null,qe=he),Fe!==qe)){if(ze=Cc,De="onMouseLeave",le="onMouseEnter",oe="mouse",(d==="pointerout"||d==="pointerover")&&(ze=V,De="onPointerLeave",le="onPointerEnter",oe="pointer"),Lr=Fe==null?Ee:Fc(Fe),de=qe==null?Ee:Fc(qe),Ee=new ze(De,oe+"leave",Fe,y,Se),Ee.target=Lr,Ee.relatedTarget=de,De=null,Qu(Se)===he&&(ze=new ze(le,oe+"enter",qe,y,Se),ze.target=de,ze.relatedTarget=Lr,De=ze),Lr=De,Fe&&qe)t:{for(ze=Fe,le=qe,oe=0,de=ze;de;de=Lc(de))oe++;for(de=0,De=le;De;De=Lc(De))de++;for(;0<oe-de;)ze=Lc(ze),oe--;for(;0<de-oe;)le=Lc(le),de--;for(;oe--;){if(ze===le||le!==null&&ze===le.alternate)break t;ze=Lc(ze),le=Lc(le)}ze=null}else ze=null;Fe!==null&&oD(Pe,Ee,Fe,ze,!1),qe!==null&&Lr!==null&&oD(Pe,Lr,qe,ze,!0)}}e:{if(Ee=he?Fc(he):window,Fe=Ee.nodeName&&Ee.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&Ee.type==="file")var Ge=tG;else if(BR(Ee))if(UR)Ge=aG;else{Ge=nG;var Ze=rG}else(Fe=Ee.nodeName)&&Fe.toLowerCase()==="input"&&(Ee.type==="checkbox"||Ee.type==="radio")&&(Ge=iG);if(Ge&&(Ge=Ge(d,he))){$R(Pe,Ge,y,Se);break e}Ze&&Ze(d,Ee,he),d==="focusout"&&(Ze=Ee._wrapperState)&&Ze.controlled&&Ee.type==="number"&&Ie(Ee,"number",Ee.value)}switch(Ze=he?Fc(he):window,d){case"focusin":(BR(Ze)||Ze.contentEditable==="true")&&(kc=Ze,jw=he,uh=null);break;case"focusout":uh=jw=kc=null;break;case"mousedown":Fw=!0;break;case"contextmenu":case"mouseup":case"dragend":Fw=!1,XR(Pe,y,Se);break;case"selectionchange":if(uG)break;case"keydown":case"keyup":XR(Pe,y,Se)}var Je;if($r)e:{switch(d){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Nc?jR(d,y)&&(ot="onCompositionEnd"):d==="keydown"&&y.keyCode===229&&(ot="onCompositionStart");ot&&(Yu&&y.locale!=="ko"&&(Nc||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Nc&&(Je=th()):(Li=Se,Ac="value"in Li?Li.value:Li.textContent,Nc=!0)),Ze=Y0(he,ot),0<Ze.length&&(ot=new ih(ot,d,null,y,Se),Pe.push({event:ot,listeners:Ze}),Je?ot.data=Je:(Je=FR(y),Je!==null&&(ot.data=Je)))),(Je=ji?QH(d,y):ZH(d,y))&&(he=Y0(he,"onBeforeInput"),0<he.length&&(Se=new ih("onBeforeInput","beforeinput",null,y,Se),Pe.push({event:Se,listeners:he}),Se.data=Je))}iD(Pe,p)})}function fh(d,p,y){return{instance:d,listener:p,currentTarget:y}}function Y0(d,p){for(var y=p+"Capture",x=[];d!==null;){var P=d,M=P.stateNode;P.tag===5&&M!==null&&(P=M,M=Mr(d,y),M!=null&&x.unshift(fh(d,M,P)),M=Mr(d,p),M!=null&&x.push(fh(d,M,P))),d=d.return}return x}function Lc(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function oD(d,p,y,x,P){for(var M=p._reactName,U=[];y!==null&&y!==x;){var J=y,ie=J.alternate,he=J.stateNode;if(ie!==null&&ie===x)break;J.tag===5&&he!==null&&(J=he,P?(ie=Mr(y,M),ie!=null&&U.unshift(fh(y,ie,J))):P||(ie=Mr(y,M),ie!=null&&U.push(fh(y,ie,J)))),y=y.return}U.length!==0&&d.push({event:p,listeners:U})}var dG=/\r\n?/g,hG=/\u0000|\uFFFD/g;function sD(d){return(typeof d=="string"?d:""+d).replace(dG,`
`).replace(hG,"")}function Q0(d,p,y){if(p=sD(p),sD(d)!==p&&y)throw Error(r(425))}function Z0(){}var zw=null,Ww=null;function Hw(d,p){return d==="textarea"||d==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var Gw=typeof setTimeout=="function"?setTimeout:void 0,pG=typeof clearTimeout=="function"?clearTimeout:void 0,uD=typeof Promise=="function"?Promise:void 0,vG=typeof queueMicrotask=="function"?queueMicrotask:typeof uD<"u"?function(d){return uD.resolve(null).then(d).catch(gG)}:Gw;function gG(d){setTimeout(function(){throw d})}function Kw(d,p){var y=p,x=0;do{var P=y.nextSibling;if(d.removeChild(y),P&&P.nodeType===8)if(y=P.data,y==="/$"){if(x===0){d.removeChild(P),La(p);return}x--}else y!=="$"&&y!=="$?"&&y!=="$!"||x++;y=P}while(y);La(p)}function Fs(d){for(;d!=null;d=d.nextSibling){var p=d.nodeType;if(p===1||p===3)break;if(p===8){if(p=d.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return d}function lD(d){d=d.previousSibling;for(var p=0;d;){if(d.nodeType===8){var y=d.data;if(y==="$"||y==="$!"||y==="$?"){if(p===0)return d;p--}else y==="/$"&&p++}d=d.previousSibling}return null}var jc=Math.random().toString(36).slice(2),vo="__reactFiber$"+jc,dh="__reactProps$"+jc,Ho="__reactContainer$"+jc,Xw="__reactEvents$"+jc,mG="__reactListeners$"+jc,yG="__reactHandles$"+jc;function Qu(d){var p=d[vo];if(p)return p;for(var y=d.parentNode;y;){if(p=y[Ho]||y[vo]){if(y=p.alternate,p.child!==null||y!==null&&y.child!==null)for(d=lD(d);d!==null;){if(y=d[vo])return y;d=lD(d)}return p}d=y,y=d.parentNode}return null}function hh(d){return d=d[vo]||d[Ho],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function Fc(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(r(33))}function J0(d){return d[dh]||null}var Yw=[],Bc=-1;function Bs(d){return{current:d}}function fr(d){0>Bc||(d.current=Yw[Bc],Yw[Bc]=null,Bc--)}function ir(d,p){Bc++,Yw[Bc]=d.current,d.current=p}var $s={},jn=Bs($s),mi=Bs(!1),Zu=$s;function $c(d,p){var y=d.type.contextTypes;if(!y)return $s;var x=d.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===p)return x.__reactInternalMemoizedMaskedChildContext;var P={},M;for(M in y)P[M]=p[M];return x&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=p,d.__reactInternalMemoizedMaskedChildContext=P),P}function yi(d){return d=d.childContextTypes,d!=null}function eg(){fr(mi),fr(jn)}function cD(d,p,y){if(jn.current!==$s)throw Error(r(168));ir(jn,p),ir(mi,y)}function fD(d,p,y){var x=d.stateNode;if(p=p.childContextTypes,typeof x.getChildContext!="function")return y;x=x.getChildContext();for(var P in x)if(!(P in p))throw Error(r(108,Be(d)||"Unknown",P));return se({},y,x)}function tg(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||$s,Zu=jn.current,ir(jn,d),ir(mi,mi.current),!0}function dD(d,p,y){var x=d.stateNode;if(!x)throw Error(r(169));y?(d=fD(d,p,Zu),x.__reactInternalMemoizedMergedChildContext=d,fr(mi),fr(jn),ir(jn,d)):fr(mi),ir(mi,y)}var Go=null,rg=!1,Qw=!1;function hD(d){Go===null?Go=[d]:Go.push(d)}function _G(d){rg=!0,hD(d)}function Us(){if(!Qw&&Go!==null){Qw=!0;var d=0,p=Ot;try{var y=Go;for(Ot=1;d<y.length;d++){var x=y[d];do x=x(!0);while(x!==null)}Go=null,rg=!1}catch(P){throw Go!==null&&(Go=Go.slice(d+1)),_c(qu,Us),P}finally{Ot=p,Qw=!1}}return null}var Uc=[],Vc=0,ng=null,ig=0,aa=[],oa=0,Ju=null,Ko=1,Xo="";function el(d,p){Uc[Vc++]=ig,Uc[Vc++]=ng,ng=d,ig=p}function pD(d,p,y){aa[oa++]=Ko,aa[oa++]=Xo,aa[oa++]=Ju,Ju=d;var x=Ko;d=Xo;var P=32-ei(x)-1;x&=~(1<<P),y+=1;var M=32-ei(p)+P;if(30<M){var U=P-P%5;M=(x&(1<<U)-1).toString(32),x>>=U,P-=U,Ko=1<<32-ei(p)+P|y<<P|x,Xo=M+d}else Ko=1<<M|y<<P|x,Xo=d}function Zw(d){d.return!==null&&(el(d,1),pD(d,1,0))}function Jw(d){for(;d===ng;)ng=Uc[--Vc],Uc[Vc]=null,ig=Uc[--Vc],Uc[Vc]=null;for(;d===Ju;)Ju=aa[--oa],aa[oa]=null,Xo=aa[--oa],aa[oa]=null,Ko=aa[--oa],aa[oa]=null}var Fi=null,Bi=null,yr=!1,Ba=null;function vD(d,p){var y=ca(5,null,null,0);y.elementType="DELETED",y.stateNode=p,y.return=d,p=d.deletions,p===null?(d.deletions=[y],d.flags|=16):p.push(y)}function gD(d,p){switch(d.tag){case 5:var y=d.type;return p=p.nodeType!==1||y.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(d.stateNode=p,Fi=d,Bi=Fs(p.firstChild),!0):!1;case 6:return p=d.pendingProps===""||p.nodeType!==3?null:p,p!==null?(d.stateNode=p,Fi=d,Bi=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(y=Ju!==null?{id:Ko,overflow:Xo}:null,d.memoizedState={dehydrated:p,treeContext:y,retryLane:1073741824},y=ca(18,null,null,0),y.stateNode=p,y.return=d,d.child=y,Fi=d,Bi=null,!0):!1;default:return!1}}function ex(d){return(d.mode&1)!==0&&(d.flags&128)===0}function tx(d){if(yr){var p=Bi;if(p){var y=p;if(!gD(d,p)){if(ex(d))throw Error(r(418));p=Fs(y.nextSibling);var x=Fi;p&&gD(d,p)?vD(x,y):(d.flags=d.flags&-4097|2,yr=!1,Fi=d)}}else{if(ex(d))throw Error(r(418));d.flags=d.flags&-4097|2,yr=!1,Fi=d}}}function mD(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Fi=d}function ag(d){if(d!==Fi)return!1;if(!yr)return mD(d),yr=!0,!1;var p;if((p=d.tag!==3)&&!(p=d.tag!==5)&&(p=d.type,p=p!=="head"&&p!=="body"&&!Hw(d.type,d.memoizedProps)),p&&(p=Bi)){if(ex(d))throw yD(),Error(r(418));for(;p;)vD(d,p),p=Fs(p.nextSibling)}if(mD(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));e:{for(d=d.nextSibling,p=0;d;){if(d.nodeType===8){var y=d.data;if(y==="/$"){if(p===0){Bi=Fs(d.nextSibling);break e}p--}else y!=="$"&&y!=="$!"&&y!=="$?"||p++}d=d.nextSibling}Bi=null}}else Bi=Fi?Fs(d.stateNode.nextSibling):null;return!0}function yD(){for(var d=Bi;d;)d=Fs(d.nextSibling)}function qc(){Bi=Fi=null,yr=!1}function rx(d){Ba===null?Ba=[d]:Ba.push(d)}var wG=C.ReactCurrentBatchConfig;function ph(d,p,y){if(d=y.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(r(309));var x=y.stateNode}if(!x)throw Error(r(147,d));var P=x,M=""+d;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===M?p.ref:(p=function(U){var J=P.refs;U===null?delete J[M]:J[M]=U},p._stringRef=M,p)}if(typeof d!="string")throw Error(r(284));if(!y._owner)throw Error(r(290,d))}return d}function og(d,p){throw d=Object.prototype.toString.call(p),Error(r(31,d==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":d))}function _D(d){var p=d._init;return p(d._payload)}function wD(d){function p(le,oe){if(d){var de=le.deletions;de===null?(le.deletions=[oe],le.flags|=16):de.push(oe)}}function y(le,oe){if(!d)return null;for(;oe!==null;)p(le,oe),oe=oe.sibling;return null}function x(le,oe){for(le=new Map;oe!==null;)oe.key!==null?le.set(oe.key,oe):le.set(oe.index,oe),oe=oe.sibling;return le}function P(le,oe){return le=Xs(le,oe),le.index=0,le.sibling=null,le}function M(le,oe,de){return le.index=de,d?(de=le.alternate,de!==null?(de=de.index,de<oe?(le.flags|=2,oe):de):(le.flags|=2,oe)):(le.flags|=1048576,oe)}function U(le){return d&&le.alternate===null&&(le.flags|=2),le}function J(le,oe,de,De){return oe===null||oe.tag!==6?(oe=Gx(de,le.mode,De),oe.return=le,oe):(oe=P(oe,de),oe.return=le,oe)}function ie(le,oe,de,De){var Ge=de.type;return Ge===I?Se(le,oe,de.props.children,De,de.key):oe!==null&&(oe.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===W&&_D(Ge)===oe.type)?(De=P(oe,de.props),De.ref=ph(le,oe,de),De.return=le,De):(De=Pg(de.type,de.key,de.props,null,le.mode,De),De.ref=ph(le,oe,de),De.return=le,De)}function he(le,oe,de,De){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==de.containerInfo||oe.stateNode.implementation!==de.implementation?(oe=Kx(de,le.mode,De),oe.return=le,oe):(oe=P(oe,de.children||[]),oe.return=le,oe)}function Se(le,oe,de,De,Ge){return oe===null||oe.tag!==7?(oe=ul(de,le.mode,De,Ge),oe.return=le,oe):(oe=P(oe,de),oe.return=le,oe)}function Pe(le,oe,de){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=Gx(""+oe,le.mode,de),oe.return=le,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case O:return de=Pg(oe.type,oe.key,oe.props,null,le.mode,de),de.ref=ph(le,null,oe),de.return=le,de;case R:return oe=Kx(oe,le.mode,de),oe.return=le,oe;case W:var De=oe._init;return Pe(le,De(oe._payload),de)}if(Le(oe)||Q(oe))return oe=ul(oe,le.mode,de,null),oe.return=le,oe;og(le,oe)}return null}function Ee(le,oe,de,De){var Ge=oe!==null?oe.key:null;if(typeof de=="string"&&de!==""||typeof de=="number")return Ge!==null?null:J(le,oe,""+de,De);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case O:return de.key===Ge?ie(le,oe,de,De):null;case R:return de.key===Ge?he(le,oe,de,De):null;case W:return Ge=de._init,Ee(le,oe,Ge(de._payload),De)}if(Le(de)||Q(de))return Ge!==null?null:Se(le,oe,de,De,null);og(le,de)}return null}function Fe(le,oe,de,De,Ge){if(typeof De=="string"&&De!==""||typeof De=="number")return le=le.get(de)||null,J(oe,le,""+De,Ge);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case O:return le=le.get(De.key===null?de:De.key)||null,ie(oe,le,De,Ge);case R:return le=le.get(De.key===null?de:De.key)||null,he(oe,le,De,Ge);case W:var Ze=De._init;return Fe(le,oe,de,Ze(De._payload),Ge)}if(Le(De)||Q(De))return le=le.get(de)||null,Se(oe,le,De,Ge,null);og(oe,De)}return null}function qe(le,oe,de,De){for(var Ge=null,Ze=null,Je=oe,ot=oe=0,pn=null;Je!==null&&ot<de.length;ot++){Je.index>ot?(pn=Je,Je=null):pn=Je.sibling;var Nt=Ee(le,Je,de[ot],De);if(Nt===null){Je===null&&(Je=pn);break}d&&Je&&Nt.alternate===null&&p(le,Je),oe=M(Nt,oe,ot),Ze===null?Ge=Nt:Ze.sibling=Nt,Ze=Nt,Je=pn}if(ot===de.length)return y(le,Je),yr&&el(le,ot),Ge;if(Je===null){for(;ot<de.length;ot++)Je=Pe(le,de[ot],De),Je!==null&&(oe=M(Je,oe,ot),Ze===null?Ge=Je:Ze.sibling=Je,Ze=Je);return yr&&el(le,ot),Ge}for(Je=x(le,Je);ot<de.length;ot++)pn=Fe(Je,le,ot,de[ot],De),pn!==null&&(d&&pn.alternate!==null&&Je.delete(pn.key===null?ot:pn.key),oe=M(pn,oe,ot),Ze===null?Ge=pn:Ze.sibling=pn,Ze=pn);return d&&Je.forEach(function(Ys){return p(le,Ys)}),yr&&el(le,ot),Ge}function ze(le,oe,de,De){var Ge=Q(de);if(typeof Ge!="function")throw Error(r(150));if(de=Ge.call(de),de==null)throw Error(r(151));for(var Ze=Ge=null,Je=oe,ot=oe=0,pn=null,Nt=de.next();Je!==null&&!Nt.done;ot++,Nt=de.next()){Je.index>ot?(pn=Je,Je=null):pn=Je.sibling;var Ys=Ee(le,Je,Nt.value,De);if(Ys===null){Je===null&&(Je=pn);break}d&&Je&&Ys.alternate===null&&p(le,Je),oe=M(Ys,oe,ot),Ze===null?Ge=Ys:Ze.sibling=Ys,Ze=Ys,Je=pn}if(Nt.done)return y(le,Je),yr&&el(le,ot),Ge;if(Je===null){for(;!Nt.done;ot++,Nt=de.next())Nt=Pe(le,Nt.value,De),Nt!==null&&(oe=M(Nt,oe,ot),Ze===null?Ge=Nt:Ze.sibling=Nt,Ze=Nt);return yr&&el(le,ot),Ge}for(Je=x(le,Je);!Nt.done;ot++,Nt=de.next())Nt=Fe(Je,le,ot,Nt.value,De),Nt!==null&&(d&&Nt.alternate!==null&&Je.delete(Nt.key===null?ot:Nt.key),oe=M(Nt,oe,ot),Ze===null?Ge=Nt:Ze.sibling=Nt,Ze=Nt);return d&&Je.forEach(function(JG){return p(le,JG)}),yr&&el(le,ot),Ge}function Lr(le,oe,de,De){if(typeof de=="object"&&de!==null&&de.type===I&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case O:e:{for(var Ge=de.key,Ze=oe;Ze!==null;){if(Ze.key===Ge){if(Ge=de.type,Ge===I){if(Ze.tag===7){y(le,Ze.sibling),oe=P(Ze,de.props.children),oe.return=le,le=oe;break e}}else if(Ze.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===W&&_D(Ge)===Ze.type){y(le,Ze.sibling),oe=P(Ze,de.props),oe.ref=ph(le,Ze,de),oe.return=le,le=oe;break e}y(le,Ze);break}else p(le,Ze);Ze=Ze.sibling}de.type===I?(oe=ul(de.props.children,le.mode,De,de.key),oe.return=le,le=oe):(De=Pg(de.type,de.key,de.props,null,le.mode,De),De.ref=ph(le,oe,de),De.return=le,le=De)}return U(le);case R:e:{for(Ze=de.key;oe!==null;){if(oe.key===Ze)if(oe.tag===4&&oe.stateNode.containerInfo===de.containerInfo&&oe.stateNode.implementation===de.implementation){y(le,oe.sibling),oe=P(oe,de.children||[]),oe.return=le,le=oe;break e}else{y(le,oe);break}else p(le,oe);oe=oe.sibling}oe=Kx(de,le.mode,De),oe.return=le,le=oe}return U(le);case W:return Ze=de._init,Lr(le,oe,Ze(de._payload),De)}if(Le(de))return qe(le,oe,de,De);if(Q(de))return ze(le,oe,de,De);og(le,de)}return typeof de=="string"&&de!==""||typeof de=="number"?(de=""+de,oe!==null&&oe.tag===6?(y(le,oe.sibling),oe=P(oe,de),oe.return=le,le=oe):(y(le,oe),oe=Gx(de,le.mode,De),oe.return=le,le=oe),U(le)):y(le,oe)}return Lr}var zc=wD(!0),xD=wD(!1),sg=Bs(null),ug=null,Wc=null,nx=null;function ix(){nx=Wc=ug=null}function ax(d){var p=sg.current;fr(sg),d._currentValue=p}function ox(d,p,y){for(;d!==null;){var x=d.alternate;if((d.childLanes&p)!==p?(d.childLanes|=p,x!==null&&(x.childLanes|=p)):x!==null&&(x.childLanes&p)!==p&&(x.childLanes|=p),d===y)break;d=d.return}}function Hc(d,p){ug=d,nx=Wc=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&p)!==0&&(_i=!0),d.firstContext=null)}function sa(d){var p=d._currentValue;if(nx!==d)if(d={context:d,memoizedValue:p,next:null},Wc===null){if(ug===null)throw Error(r(308));Wc=d,ug.dependencies={lanes:0,firstContext:d}}else Wc=Wc.next=d;return p}var tl=null;function sx(d){tl===null?tl=[d]:tl.push(d)}function bD(d,p,y,x){var P=p.interleaved;return P===null?(y.next=y,sx(p)):(y.next=P.next,P.next=y),p.interleaved=y,Yo(d,x)}function Yo(d,p){d.lanes|=p;var y=d.alternate;for(y!==null&&(y.lanes|=p),y=d,d=d.return;d!==null;)d.childLanes|=p,y=d.alternate,y!==null&&(y.childLanes|=p),y=d,d=d.return;return y.tag===3?y.stateNode:null}var Vs=!1;function ux(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ED(d,p){d=d.updateQueue,p.updateQueue===d&&(p.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Qo(d,p){return{eventTime:d,lane:p,tag:0,payload:null,callback:null,next:null}}function qs(d,p,y){var x=d.updateQueue;if(x===null)return null;if(x=x.shared,(Rt&2)!==0){var P=x.pending;return P===null?p.next=p:(p.next=P.next,P.next=p),x.pending=p,Yo(d,y)}return P=x.interleaved,P===null?(p.next=p,sx(x)):(p.next=P.next,P.next=p),x.interleaved=p,Yo(d,y)}function lg(d,p,y){if(p=p.updateQueue,p!==null&&(p=p.shared,(y&4194240)!==0)){var x=p.lanes;x&=d.pendingLanes,y|=x,p.lanes=y,Ds(d,y)}}function AD(d,p){var y=d.updateQueue,x=d.alternate;if(x!==null&&(x=x.updateQueue,y===x)){var P=null,M=null;if(y=y.firstBaseUpdate,y!==null){do{var U={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};M===null?P=M=U:M=M.next=U,y=y.next}while(y!==null);M===null?P=M=p:M=M.next=p}else P=M=p;y={baseState:x.baseState,firstBaseUpdate:P,lastBaseUpdate:M,shared:x.shared,effects:x.effects},d.updateQueue=y;return}d=y.lastBaseUpdate,d===null?y.firstBaseUpdate=p:d.next=p,y.lastBaseUpdate=p}function cg(d,p,y,x){var P=d.updateQueue;Vs=!1;var M=P.firstBaseUpdate,U=P.lastBaseUpdate,J=P.shared.pending;if(J!==null){P.shared.pending=null;var ie=J,he=ie.next;ie.next=null,U===null?M=he:U.next=he,U=ie;var Se=d.alternate;Se!==null&&(Se=Se.updateQueue,J=Se.lastBaseUpdate,J!==U&&(J===null?Se.firstBaseUpdate=he:J.next=he,Se.lastBaseUpdate=ie))}if(M!==null){var Pe=P.baseState;U=0,Se=he=ie=null,J=M;do{var Ee=J.lane,Fe=J.eventTime;if((x&Ee)===Ee){Se!==null&&(Se=Se.next={eventTime:Fe,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var qe=d,ze=J;switch(Ee=p,Fe=y,ze.tag){case 1:if(qe=ze.payload,typeof qe=="function"){Pe=qe.call(Fe,Pe,Ee);break e}Pe=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=ze.payload,Ee=typeof qe=="function"?qe.call(Fe,Pe,Ee):qe,Ee==null)break e;Pe=se({},Pe,Ee);break e;case 2:Vs=!0}}J.callback!==null&&J.lane!==0&&(d.flags|=64,Ee=P.effects,Ee===null?P.effects=[J]:Ee.push(J))}else Fe={eventTime:Fe,lane:Ee,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Se===null?(he=Se=Fe,ie=Pe):Se=Se.next=Fe,U|=Ee;if(J=J.next,J===null){if(J=P.shared.pending,J===null)break;Ee=J,J=Ee.next,Ee.next=null,P.lastBaseUpdate=Ee,P.shared.pending=null}}while(!0);if(Se===null&&(ie=Pe),P.baseState=ie,P.firstBaseUpdate=he,P.lastBaseUpdate=Se,p=P.shared.interleaved,p!==null){P=p;do U|=P.lane,P=P.next;while(P!==p)}else M===null&&(P.shared.lanes=0);il|=U,d.lanes=U,d.memoizedState=Pe}}function SD(d,p,y){if(d=p.effects,p.effects=null,d!==null)for(p=0;p<d.length;p++){var x=d[p],P=x.callback;if(P!==null){if(x.callback=null,x=y,typeof P!="function")throw Error(r(191,P));P.call(x)}}}var vh={},go=Bs(vh),gh=Bs(vh),mh=Bs(vh);function rl(d){if(d===vh)throw Error(r(174));return d}function lx(d,p){switch(ir(mh,p),ir(gh,d),ir(go,vh),d=p.nodeType,d){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:gt(null,"");break;default:d=d===8?p.parentNode:p,p=d.namespaceURI||null,d=d.tagName,p=gt(p,d)}fr(go),ir(go,p)}function Gc(){fr(go),fr(gh),fr(mh)}function OD(d){rl(mh.current);var p=rl(go.current),y=gt(p,d.type);p!==y&&(ir(gh,d),ir(go,y))}function cx(d){gh.current===d&&(fr(go),fr(gh))}var wr=Bs(0);function fg(d){for(var p=d;p!==null;){if(p.tag===13){var y=p.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var fx=[];function dx(){for(var d=0;d<fx.length;d++)fx[d]._workInProgressVersionPrimary=null;fx.length=0}var dg=C.ReactCurrentDispatcher,hx=C.ReactCurrentBatchConfig,nl=0,xr=null,Kr=null,dn=null,hg=!1,yh=!1,_h=0,xG=0;function Fn(){throw Error(r(321))}function px(d,p){if(p===null)return!1;for(var y=0;y<p.length&&y<d.length;y++)if(!Fa(d[y],p[y]))return!1;return!0}function vx(d,p,y,x,P,M){if(nl=M,xr=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,dg.current=d===null||d.memoizedState===null?SG:OG,d=y(x,P),yh){M=0;do{if(yh=!1,_h=0,25<=M)throw Error(r(301));M+=1,dn=Kr=null,p.updateQueue=null,dg.current=TG,d=y(x,P)}while(yh)}if(dg.current=gg,p=Kr!==null&&Kr.next!==null,nl=0,dn=Kr=xr=null,hg=!1,p)throw Error(r(300));return d}function gx(){var d=_h!==0;return _h=0,d}function mo(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?xr.memoizedState=dn=d:dn=dn.next=d,dn}function ua(){if(Kr===null){var d=xr.alternate;d=d!==null?d.memoizedState:null}else d=Kr.next;var p=dn===null?xr.memoizedState:dn.next;if(p!==null)dn=p,Kr=d;else{if(d===null)throw Error(r(310));Kr=d,d={memoizedState:Kr.memoizedState,baseState:Kr.baseState,baseQueue:Kr.baseQueue,queue:Kr.queue,next:null},dn===null?xr.memoizedState=dn=d:dn=dn.next=d}return dn}function wh(d,p){return typeof p=="function"?p(d):p}function mx(d){var p=ua(),y=p.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=d;var x=Kr,P=x.baseQueue,M=y.pending;if(M!==null){if(P!==null){var U=P.next;P.next=M.next,M.next=U}x.baseQueue=P=M,y.pending=null}if(P!==null){M=P.next,x=x.baseState;var J=U=null,ie=null,he=M;do{var Se=he.lane;if((nl&Se)===Se)ie!==null&&(ie=ie.next={lane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),x=he.hasEagerState?he.eagerState:d(x,he.action);else{var Pe={lane:Se,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null};ie===null?(J=ie=Pe,U=x):ie=ie.next=Pe,xr.lanes|=Se,il|=Se}he=he.next}while(he!==null&&he!==M);ie===null?U=x:ie.next=J,Fa(x,p.memoizedState)||(_i=!0),p.memoizedState=x,p.baseState=U,p.baseQueue=ie,y.lastRenderedState=x}if(d=y.interleaved,d!==null){P=d;do M=P.lane,xr.lanes|=M,il|=M,P=P.next;while(P!==d)}else P===null&&(y.lanes=0);return[p.memoizedState,y.dispatch]}function yx(d){var p=ua(),y=p.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=d;var x=y.dispatch,P=y.pending,M=p.memoizedState;if(P!==null){y.pending=null;var U=P=P.next;do M=d(M,U.action),U=U.next;while(U!==P);Fa(M,p.memoizedState)||(_i=!0),p.memoizedState=M,p.baseQueue===null&&(p.baseState=M),y.lastRenderedState=M}return[M,x]}function TD(){}function CD(d,p){var y=xr,x=ua(),P=p(),M=!Fa(x.memoizedState,P);if(M&&(x.memoizedState=P,_i=!0),x=x.queue,_x(RD.bind(null,y,x,d),[d]),x.getSnapshot!==p||M||dn!==null&&dn.memoizedState.tag&1){if(y.flags|=2048,xh(9,PD.bind(null,y,x,P,p),void 0,null),hn===null)throw Error(r(349));(nl&30)!==0||ID(y,p,P)}return P}function ID(d,p,y){d.flags|=16384,d={getSnapshot:p,value:y},p=xr.updateQueue,p===null?(p={lastEffect:null,stores:null},xr.updateQueue=p,p.stores=[d]):(y=p.stores,y===null?p.stores=[d]:y.push(d))}function PD(d,p,y,x){p.value=y,p.getSnapshot=x,DD(p)&&ND(d)}function RD(d,p,y){return y(function(){DD(p)&&ND(d)})}function DD(d){var p=d.getSnapshot;d=d.value;try{var y=p();return!Fa(d,y)}catch{return!0}}function ND(d){var p=Yo(d,1);p!==null&&qa(p,d,1,-1)}function kD(d){var p=mo();return typeof d=="function"&&(d=d()),p.memoizedState=p.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wh,lastRenderedState:d},p.queue=d,d=d.dispatch=AG.bind(null,xr,d),[p.memoizedState,d]}function xh(d,p,y,x){return d={tag:d,create:p,destroy:y,deps:x,next:null},p=xr.updateQueue,p===null?(p={lastEffect:null,stores:null},xr.updateQueue=p,p.lastEffect=d.next=d):(y=p.lastEffect,y===null?p.lastEffect=d.next=d:(x=y.next,y.next=d,d.next=x,p.lastEffect=d)),d}function MD(){return ua().memoizedState}function pg(d,p,y,x){var P=mo();xr.flags|=d,P.memoizedState=xh(1|p,y,void 0,x===void 0?null:x)}function vg(d,p,y,x){var P=ua();x=x===void 0?null:x;var M=void 0;if(Kr!==null){var U=Kr.memoizedState;if(M=U.destroy,x!==null&&px(x,U.deps)){P.memoizedState=xh(p,y,M,x);return}}xr.flags|=d,P.memoizedState=xh(1|p,y,M,x)}function LD(d,p){return pg(8390656,8,d,p)}function _x(d,p){return vg(2048,8,d,p)}function jD(d,p){return vg(4,2,d,p)}function FD(d,p){return vg(4,4,d,p)}function BD(d,p){if(typeof p=="function")return d=d(),p(d),function(){p(null)};if(p!=null)return d=d(),p.current=d,function(){p.current=null}}function $D(d,p,y){return y=y!=null?y.concat([d]):null,vg(4,4,BD.bind(null,p,d),y)}function wx(){}function UD(d,p){var y=ua();p=p===void 0?null:p;var x=y.memoizedState;return x!==null&&p!==null&&px(p,x[1])?x[0]:(y.memoizedState=[d,p],d)}function VD(d,p){var y=ua();p=p===void 0?null:p;var x=y.memoizedState;return x!==null&&p!==null&&px(p,x[1])?x[0]:(d=d(),y.memoizedState=[d,p],d)}function qD(d,p,y){return(nl&21)===0?(d.baseState&&(d.baseState=!1,_i=!0),d.memoizedState=y):(Fa(y,p)||(y=Hu(),xr.lanes|=y,il|=y,d.baseState=!0),p)}function bG(d,p){var y=Ot;Ot=y!==0&&4>y?y:4,d(!0);var x=hx.transition;hx.transition={};try{d(!1),p()}finally{Ot=y,hx.transition=x}}function zD(){return ua().memoizedState}function EG(d,p,y){var x=Gs(d);if(y={lane:x,action:y,hasEagerState:!1,eagerState:null,next:null},WD(d))HD(p,y);else if(y=bD(d,p,y,x),y!==null){var P=ni();qa(y,d,x,P),GD(y,p,x)}}function AG(d,p,y){var x=Gs(d),P={lane:x,action:y,hasEagerState:!1,eagerState:null,next:null};if(WD(d))HD(p,P);else{var M=d.alternate;if(d.lanes===0&&(M===null||M.lanes===0)&&(M=p.lastRenderedReducer,M!==null))try{var U=p.lastRenderedState,J=M(U,y);if(P.hasEagerState=!0,P.eagerState=J,Fa(J,U)){var ie=p.interleaved;ie===null?(P.next=P,sx(p)):(P.next=ie.next,ie.next=P),p.interleaved=P;return}}catch{}finally{}y=bD(d,p,P,x),y!==null&&(P=ni(),qa(y,d,x,P),GD(y,p,x))}}function WD(d){var p=d.alternate;return d===xr||p!==null&&p===xr}function HD(d,p){yh=hg=!0;var y=d.pending;y===null?p.next=p:(p.next=y.next,y.next=p),d.pending=p}function GD(d,p,y){if((y&4194240)!==0){var x=p.lanes;x&=d.pendingLanes,y|=x,p.lanes=y,Ds(d,y)}}var gg={readContext:sa,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useInsertionEffect:Fn,useLayoutEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useMutableSource:Fn,useSyncExternalStore:Fn,useId:Fn,unstable_isNewReconciler:!1},SG={readContext:sa,useCallback:function(d,p){return mo().memoizedState=[d,p===void 0?null:p],d},useContext:sa,useEffect:LD,useImperativeHandle:function(d,p,y){return y=y!=null?y.concat([d]):null,pg(4194308,4,BD.bind(null,p,d),y)},useLayoutEffect:function(d,p){return pg(4194308,4,d,p)},useInsertionEffect:function(d,p){return pg(4,2,d,p)},useMemo:function(d,p){var y=mo();return p=p===void 0?null:p,d=d(),y.memoizedState=[d,p],d},useReducer:function(d,p,y){var x=mo();return p=y!==void 0?y(p):p,x.memoizedState=x.baseState=p,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:p},x.queue=d,d=d.dispatch=EG.bind(null,xr,d),[x.memoizedState,d]},useRef:function(d){var p=mo();return d={current:d},p.memoizedState=d},useState:kD,useDebugValue:wx,useDeferredValue:function(d){return mo().memoizedState=d},useTransition:function(){var d=kD(!1),p=d[0];return d=bG.bind(null,d[1]),mo().memoizedState=d,[p,d]},useMutableSource:function(){},useSyncExternalStore:function(d,p,y){var x=xr,P=mo();if(yr){if(y===void 0)throw Error(r(407));y=y()}else{if(y=p(),hn===null)throw Error(r(349));(nl&30)!==0||ID(x,p,y)}P.memoizedState=y;var M={value:y,getSnapshot:p};return P.queue=M,LD(RD.bind(null,x,M,d),[d]),x.flags|=2048,xh(9,PD.bind(null,x,M,y,p),void 0,null),y},useId:function(){var d=mo(),p=hn.identifierPrefix;if(yr){var y=Xo,x=Ko;y=(x&~(1<<32-ei(x)-1)).toString(32)+y,p=":"+p+"R"+y,y=_h++,0<y&&(p+="H"+y.toString(32)),p+=":"}else y=xG++,p=":"+p+"r"+y.toString(32)+":";return d.memoizedState=p},unstable_isNewReconciler:!1},OG={readContext:sa,useCallback:UD,useContext:sa,useEffect:_x,useImperativeHandle:$D,useInsertionEffect:jD,useLayoutEffect:FD,useMemo:VD,useReducer:mx,useRef:MD,useState:function(){return mx(wh)},useDebugValue:wx,useDeferredValue:function(d){var p=ua();return qD(p,Kr.memoizedState,d)},useTransition:function(){var d=mx(wh)[0],p=ua().memoizedState;return[d,p]},useMutableSource:TD,useSyncExternalStore:CD,useId:zD,unstable_isNewReconciler:!1},TG={readContext:sa,useCallback:UD,useContext:sa,useEffect:_x,useImperativeHandle:$D,useInsertionEffect:jD,useLayoutEffect:FD,useMemo:VD,useReducer:yx,useRef:MD,useState:function(){return yx(wh)},useDebugValue:wx,useDeferredValue:function(d){var p=ua();return Kr===null?p.memoizedState=d:qD(p,Kr.memoizedState,d)},useTransition:function(){var d=yx(wh)[0],p=ua().memoizedState;return[d,p]},useMutableSource:TD,useSyncExternalStore:CD,useId:zD,unstable_isNewReconciler:!1};function $a(d,p){if(d&&d.defaultProps){p=se({},p),d=d.defaultProps;for(var y in d)p[y]===void 0&&(p[y]=d[y]);return p}return p}function xx(d,p,y,x){p=d.memoizedState,y=y(x,p),y=y==null?p:se({},p,y),d.memoizedState=y,d.lanes===0&&(d.updateQueue.baseState=y)}var mg={isMounted:function(d){return(d=d._reactInternals)?Ra(d)===d:!1},enqueueSetState:function(d,p,y){d=d._reactInternals;var x=ni(),P=Gs(d),M=Qo(x,P);M.payload=p,y!=null&&(M.callback=y),p=qs(d,M,P),p!==null&&(qa(p,d,P,x),lg(p,d,P))},enqueueReplaceState:function(d,p,y){d=d._reactInternals;var x=ni(),P=Gs(d),M=Qo(x,P);M.tag=1,M.payload=p,y!=null&&(M.callback=y),p=qs(d,M,P),p!==null&&(qa(p,d,P,x),lg(p,d,P))},enqueueForceUpdate:function(d,p){d=d._reactInternals;var y=ni(),x=Gs(d),P=Qo(y,x);P.tag=2,p!=null&&(P.callback=p),p=qs(d,P,x),p!==null&&(qa(p,d,x,y),lg(p,d,x))}};function KD(d,p,y,x,P,M,U){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(x,M,U):p.prototype&&p.prototype.isPureReactComponent?!sh(y,x)||!sh(P,M):!0}function XD(d,p,y){var x=!1,P=$s,M=p.contextType;return typeof M=="object"&&M!==null?M=sa(M):(P=yi(p)?Zu:jn.current,x=p.contextTypes,M=(x=x!=null)?$c(d,P):$s),p=new p(y,M),d.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=mg,d.stateNode=p,p._reactInternals=d,x&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=P,d.__reactInternalMemoizedMaskedChildContext=M),p}function YD(d,p,y,x){d=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(y,x),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(y,x),p.state!==d&&mg.enqueueReplaceState(p,p.state,null)}function bx(d,p,y,x){var P=d.stateNode;P.props=y,P.state=d.memoizedState,P.refs={},ux(d);var M=p.contextType;typeof M=="object"&&M!==null?P.context=sa(M):(M=yi(p)?Zu:jn.current,P.context=$c(d,M)),P.state=d.memoizedState,M=p.getDerivedStateFromProps,typeof M=="function"&&(xx(d,p,M,y),P.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(p=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),p!==P.state&&mg.enqueueReplaceState(P,P.state,null),cg(d,y,P,x),P.state=d.memoizedState),typeof P.componentDidMount=="function"&&(d.flags|=4194308)}function Kc(d,p){try{var y="",x=p;do y+=Oe(x),x=x.return;while(x);var P=y}catch(M){P=`
Error generating stack: `+M.message+`
`+M.stack}return{value:d,source:p,stack:P,digest:null}}function Ex(d,p,y){return{value:d,source:null,stack:y??null,digest:p??null}}function Ax(d,p){try{console.error(p.value)}catch(y){setTimeout(function(){throw y})}}var CG=typeof WeakMap=="function"?WeakMap:Map;function QD(d,p,y){y=Qo(-1,y),y.tag=3,y.payload={element:null};var x=p.value;return y.callback=function(){Ag||(Ag=!0,Bx=x),Ax(d,p)},y}function ZD(d,p,y){y=Qo(-1,y),y.tag=3;var x=d.type.getDerivedStateFromError;if(typeof x=="function"){var P=p.value;y.payload=function(){return x(P)},y.callback=function(){Ax(d,p)}}var M=d.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(y.callback=function(){Ax(d,p),typeof x!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var U=p.stack;this.componentDidCatch(p.value,{componentStack:U!==null?U:""})}),y}function JD(d,p,y){var x=d.pingCache;if(x===null){x=d.pingCache=new CG;var P=new Set;x.set(p,P)}else P=x.get(p),P===void 0&&(P=new Set,x.set(p,P));P.has(y)||(P.add(y),d=VG.bind(null,d,p,y),p.then(d,d))}function e3(d){do{var p;if((p=d.tag===13)&&(p=d.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return d;d=d.return}while(d!==null);return null}function t3(d,p,y,x,P){return(d.mode&1)===0?(d===p?d.flags|=65536:(d.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(p=Qo(-1,1),p.tag=2,qs(y,p,1))),y.lanes|=1),d):(d.flags|=65536,d.lanes=P,d)}var IG=C.ReactCurrentOwner,_i=!1;function ri(d,p,y,x){p.child=d===null?xD(p,null,y,x):zc(p,d.child,y,x)}function r3(d,p,y,x,P){y=y.render;var M=p.ref;return Hc(p,P),x=vx(d,p,y,x,M,P),y=gx(),d!==null&&!_i?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~P,Zo(d,p,P)):(yr&&y&&Zw(p),p.flags|=1,ri(d,p,x,P),p.child)}function n3(d,p,y,x,P){if(d===null){var M=y.type;return typeof M=="function"&&!Hx(M)&&M.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(p.tag=15,p.type=M,i3(d,p,M,x,P)):(d=Pg(y.type,null,x,p,p.mode,P),d.ref=p.ref,d.return=p,p.child=d)}if(M=d.child,(d.lanes&P)===0){var U=M.memoizedProps;if(y=y.compare,y=y!==null?y:sh,y(U,x)&&d.ref===p.ref)return Zo(d,p,P)}return p.flags|=1,d=Xs(M,x),d.ref=p.ref,d.return=p,p.child=d}function i3(d,p,y,x,P){if(d!==null){var M=d.memoizedProps;if(sh(M,x)&&d.ref===p.ref)if(_i=!1,p.pendingProps=x=M,(d.lanes&P)!==0)(d.flags&131072)!==0&&(_i=!0);else return p.lanes=d.lanes,Zo(d,p,P)}return Sx(d,p,y,x,P)}function a3(d,p,y){var x=p.pendingProps,P=x.children,M=d!==null?d.memoizedState:null;if(x.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},ir(Yc,$i),$i|=y;else{if((y&1073741824)===0)return d=M!==null?M.baseLanes|y:y,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:d,cachePool:null,transitions:null},p.updateQueue=null,ir(Yc,$i),$i|=d,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=M!==null?M.baseLanes:y,ir(Yc,$i),$i|=x}else M!==null?(x=M.baseLanes|y,p.memoizedState=null):x=y,ir(Yc,$i),$i|=x;return ri(d,p,P,y),p.child}function o3(d,p){var y=p.ref;(d===null&&y!==null||d!==null&&d.ref!==y)&&(p.flags|=512,p.flags|=2097152)}function Sx(d,p,y,x,P){var M=yi(y)?Zu:jn.current;return M=$c(p,M),Hc(p,P),y=vx(d,p,y,x,M,P),x=gx(),d!==null&&!_i?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~P,Zo(d,p,P)):(yr&&x&&Zw(p),p.flags|=1,ri(d,p,y,P),p.child)}function s3(d,p,y,x,P){if(yi(y)){var M=!0;tg(p)}else M=!1;if(Hc(p,P),p.stateNode===null)_g(d,p),XD(p,y,x),bx(p,y,x,P),x=!0;else if(d===null){var U=p.stateNode,J=p.memoizedProps;U.props=J;var ie=U.context,he=y.contextType;typeof he=="object"&&he!==null?he=sa(he):(he=yi(y)?Zu:jn.current,he=$c(p,he));var Se=y.getDerivedStateFromProps,Pe=typeof Se=="function"||typeof U.getSnapshotBeforeUpdate=="function";Pe||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(J!==x||ie!==he)&&YD(p,U,x,he),Vs=!1;var Ee=p.memoizedState;U.state=Ee,cg(p,x,U,P),ie=p.memoizedState,J!==x||Ee!==ie||mi.current||Vs?(typeof Se=="function"&&(xx(p,y,Se,x),ie=p.memoizedState),(J=Vs||KD(p,y,J,x,Ee,ie,he))?(Pe||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(p.flags|=4194308)):(typeof U.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=x,p.memoizedState=ie),U.props=x,U.state=ie,U.context=he,x=J):(typeof U.componentDidMount=="function"&&(p.flags|=4194308),x=!1)}else{U=p.stateNode,ED(d,p),J=p.memoizedProps,he=p.type===p.elementType?J:$a(p.type,J),U.props=he,Pe=p.pendingProps,Ee=U.context,ie=y.contextType,typeof ie=="object"&&ie!==null?ie=sa(ie):(ie=yi(y)?Zu:jn.current,ie=$c(p,ie));var Fe=y.getDerivedStateFromProps;(Se=typeof Fe=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(J!==Pe||Ee!==ie)&&YD(p,U,x,ie),Vs=!1,Ee=p.memoizedState,U.state=Ee,cg(p,x,U,P);var qe=p.memoizedState;J!==Pe||Ee!==qe||mi.current||Vs?(typeof Fe=="function"&&(xx(p,y,Fe,x),qe=p.memoizedState),(he=Vs||KD(p,y,he,x,Ee,qe,ie)||!1)?(Se||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(x,qe,ie),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(x,qe,ie)),typeof U.componentDidUpdate=="function"&&(p.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof U.componentDidUpdate!="function"||J===d.memoizedProps&&Ee===d.memoizedState||(p.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||J===d.memoizedProps&&Ee===d.memoizedState||(p.flags|=1024),p.memoizedProps=x,p.memoizedState=qe),U.props=x,U.state=qe,U.context=ie,x=he):(typeof U.componentDidUpdate!="function"||J===d.memoizedProps&&Ee===d.memoizedState||(p.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||J===d.memoizedProps&&Ee===d.memoizedState||(p.flags|=1024),x=!1)}return Ox(d,p,y,x,M,P)}function Ox(d,p,y,x,P,M){o3(d,p);var U=(p.flags&128)!==0;if(!x&&!U)return P&&dD(p,y,!1),Zo(d,p,M);x=p.stateNode,IG.current=p;var J=U&&typeof y.getDerivedStateFromError!="function"?null:x.render();return p.flags|=1,d!==null&&U?(p.child=zc(p,d.child,null,M),p.child=zc(p,null,J,M)):ri(d,p,J,M),p.memoizedState=x.state,P&&dD(p,y,!0),p.child}function u3(d){var p=d.stateNode;p.pendingContext?cD(d,p.pendingContext,p.pendingContext!==p.context):p.context&&cD(d,p.context,!1),lx(d,p.containerInfo)}function l3(d,p,y,x,P){return qc(),rx(P),p.flags|=256,ri(d,p,y,x),p.child}var Tx={dehydrated:null,treeContext:null,retryLane:0};function Cx(d){return{baseLanes:d,cachePool:null,transitions:null}}function c3(d,p,y){var x=p.pendingProps,P=wr.current,M=!1,U=(p.flags&128)!==0,J;if((J=U)||(J=d!==null&&d.memoizedState===null?!1:(P&2)!==0),J?(M=!0,p.flags&=-129):(d===null||d.memoizedState!==null)&&(P|=1),ir(wr,P&1),d===null)return tx(p),d=p.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((p.mode&1)===0?p.lanes=1:d.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(U=x.children,d=x.fallback,M?(x=p.mode,M=p.child,U={mode:"hidden",children:U},(x&1)===0&&M!==null?(M.childLanes=0,M.pendingProps=U):M=Rg(U,x,0,null),d=ul(d,x,y,null),M.return=p,d.return=p,M.sibling=d,p.child=M,p.child.memoizedState=Cx(y),p.memoizedState=Tx,d):Ix(p,U));if(P=d.memoizedState,P!==null&&(J=P.dehydrated,J!==null))return PG(d,p,U,x,J,P,y);if(M){M=x.fallback,U=p.mode,P=d.child,J=P.sibling;var ie={mode:"hidden",children:x.children};return(U&1)===0&&p.child!==P?(x=p.child,x.childLanes=0,x.pendingProps=ie,p.deletions=null):(x=Xs(P,ie),x.subtreeFlags=P.subtreeFlags&14680064),J!==null?M=Xs(J,M):(M=ul(M,U,y,null),M.flags|=2),M.return=p,x.return=p,x.sibling=M,p.child=x,x=M,M=p.child,U=d.child.memoizedState,U=U===null?Cx(y):{baseLanes:U.baseLanes|y,cachePool:null,transitions:U.transitions},M.memoizedState=U,M.childLanes=d.childLanes&~y,p.memoizedState=Tx,x}return M=d.child,d=M.sibling,x=Xs(M,{mode:"visible",children:x.children}),(p.mode&1)===0&&(x.lanes=y),x.return=p,x.sibling=null,d!==null&&(y=p.deletions,y===null?(p.deletions=[d],p.flags|=16):y.push(d)),p.child=x,p.memoizedState=null,x}function Ix(d,p){return p=Rg({mode:"visible",children:p},d.mode,0,null),p.return=d,d.child=p}function yg(d,p,y,x){return x!==null&&rx(x),zc(p,d.child,null,y),d=Ix(p,p.pendingProps.children),d.flags|=2,p.memoizedState=null,d}function PG(d,p,y,x,P,M,U){if(y)return p.flags&256?(p.flags&=-257,x=Ex(Error(r(422))),yg(d,p,U,x)):p.memoizedState!==null?(p.child=d.child,p.flags|=128,null):(M=x.fallback,P=p.mode,x=Rg({mode:"visible",children:x.children},P,0,null),M=ul(M,P,U,null),M.flags|=2,x.return=p,M.return=p,x.sibling=M,p.child=x,(p.mode&1)!==0&&zc(p,d.child,null,U),p.child.memoizedState=Cx(U),p.memoizedState=Tx,M);if((p.mode&1)===0)return yg(d,p,U,null);if(P.data==="$!"){if(x=P.nextSibling&&P.nextSibling.dataset,x)var J=x.dgst;return x=J,M=Error(r(419)),x=Ex(M,x,void 0),yg(d,p,U,x)}if(J=(U&d.childLanes)!==0,_i||J){if(x=hn,x!==null){switch(U&-U){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=(P&(x.suspendedLanes|U))!==0?0:P,P!==0&&P!==M.retryLane&&(M.retryLane=P,Yo(d,P),qa(x,d,P,-1))}return Wx(),x=Ex(Error(r(421))),yg(d,p,U,x)}return P.data==="$?"?(p.flags|=128,p.child=d.child,p=qG.bind(null,d),P._reactRetry=p,null):(d=M.treeContext,Bi=Fs(P.nextSibling),Fi=p,yr=!0,Ba=null,d!==null&&(aa[oa++]=Ko,aa[oa++]=Xo,aa[oa++]=Ju,Ko=d.id,Xo=d.overflow,Ju=p),p=Ix(p,x.children),p.flags|=4096,p)}function f3(d,p,y){d.lanes|=p;var x=d.alternate;x!==null&&(x.lanes|=p),ox(d.return,p,y)}function Px(d,p,y,x,P){var M=d.memoizedState;M===null?d.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:x,tail:y,tailMode:P}:(M.isBackwards=p,M.rendering=null,M.renderingStartTime=0,M.last=x,M.tail=y,M.tailMode=P)}function d3(d,p,y){var x=p.pendingProps,P=x.revealOrder,M=x.tail;if(ri(d,p,x.children,y),x=wr.current,(x&2)!==0)x=x&1|2,p.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=p.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&f3(d,y,p);else if(d.tag===19)f3(d,y,p);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===p)break e;for(;d.sibling===null;){if(d.return===null||d.return===p)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}x&=1}if(ir(wr,x),(p.mode&1)===0)p.memoizedState=null;else switch(P){case"forwards":for(y=p.child,P=null;y!==null;)d=y.alternate,d!==null&&fg(d)===null&&(P=y),y=y.sibling;y=P,y===null?(P=p.child,p.child=null):(P=y.sibling,y.sibling=null),Px(p,!1,P,y,M);break;case"backwards":for(y=null,P=p.child,p.child=null;P!==null;){if(d=P.alternate,d!==null&&fg(d)===null){p.child=P;break}d=P.sibling,P.sibling=y,y=P,P=d}Px(p,!0,y,null,M);break;case"together":Px(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function _g(d,p){(p.mode&1)===0&&d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2)}function Zo(d,p,y){if(d!==null&&(p.dependencies=d.dependencies),il|=p.lanes,(y&p.childLanes)===0)return null;if(d!==null&&p.child!==d.child)throw Error(r(153));if(p.child!==null){for(d=p.child,y=Xs(d,d.pendingProps),p.child=y,y.return=p;d.sibling!==null;)d=d.sibling,y=y.sibling=Xs(d,d.pendingProps),y.return=p;y.sibling=null}return p.child}function RG(d,p,y){switch(p.tag){case 3:u3(p),qc();break;case 5:OD(p);break;case 1:yi(p.type)&&tg(p);break;case 4:lx(p,p.stateNode.containerInfo);break;case 10:var x=p.type._context,P=p.memoizedProps.value;ir(sg,x._currentValue),x._currentValue=P;break;case 13:if(x=p.memoizedState,x!==null)return x.dehydrated!==null?(ir(wr,wr.current&1),p.flags|=128,null):(y&p.child.childLanes)!==0?c3(d,p,y):(ir(wr,wr.current&1),d=Zo(d,p,y),d!==null?d.sibling:null);ir(wr,wr.current&1);break;case 19:if(x=(y&p.childLanes)!==0,(d.flags&128)!==0){if(x)return d3(d,p,y);p.flags|=128}if(P=p.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),ir(wr,wr.current),x)break;return null;case 22:case 23:return p.lanes=0,a3(d,p,y)}return Zo(d,p,y)}var h3,Rx,p3,v3;h3=function(d,p){for(var y=p.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===p)break;for(;y.sibling===null;){if(y.return===null||y.return===p)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},Rx=function(){},p3=function(d,p,y,x){var P=d.memoizedProps;if(P!==x){d=p.stateNode,rl(go.current);var M=null;switch(y){case"input":P=ye(d,P),x=ye(d,x),M=[];break;case"select":P=se({},P,{value:void 0}),x=se({},x,{value:void 0}),M=[];break;case"textarea":P=nt(d,P),x=nt(d,x),M=[];break;default:typeof P.onClick!="function"&&typeof x.onClick=="function"&&(d.onclick=Z0)}Br(y,x);var U;y=null;for(he in P)if(!x.hasOwnProperty(he)&&P.hasOwnProperty(he)&&P[he]!=null)if(he==="style"){var J=P[he];for(U in J)J.hasOwnProperty(U)&&(y||(y={}),y[U]="")}else he!=="dangerouslySetInnerHTML"&&he!=="children"&&he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&he!=="autoFocus"&&(i.hasOwnProperty(he)?M||(M=[]):(M=M||[]).push(he,null));for(he in x){var ie=x[he];if(J=P?.[he],x.hasOwnProperty(he)&&ie!==J&&(ie!=null||J!=null))if(he==="style")if(J){for(U in J)!J.hasOwnProperty(U)||ie&&ie.hasOwnProperty(U)||(y||(y={}),y[U]="");for(U in ie)ie.hasOwnProperty(U)&&J[U]!==ie[U]&&(y||(y={}),y[U]=ie[U])}else y||(M||(M=[]),M.push(he,y)),y=ie;else he==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,J=J?J.__html:void 0,ie!=null&&J!==ie&&(M=M||[]).push(he,ie)):he==="children"?typeof ie!="string"&&typeof ie!="number"||(M=M||[]).push(he,""+ie):he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&(i.hasOwnProperty(he)?(ie!=null&&he==="onScroll"&&cr("scroll",d),M||J===ie||(M=[])):(M=M||[]).push(he,ie))}y&&(M=M||[]).push("style",y);var he=M;(p.updateQueue=he)&&(p.flags|=4)}},v3=function(d,p,y,x){y!==x&&(p.flags|=4)};function bh(d,p){if(!yr)switch(d.tailMode){case"hidden":p=d.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?d.tail=null:y.sibling=null;break;case"collapsed":y=d.tail;for(var x=null;y!==null;)y.alternate!==null&&(x=y),y=y.sibling;x===null?p||d.tail===null?d.tail=null:d.tail.sibling=null:x.sibling=null}}function Bn(d){var p=d.alternate!==null&&d.alternate.child===d.child,y=0,x=0;if(p)for(var P=d.child;P!==null;)y|=P.lanes|P.childLanes,x|=P.subtreeFlags&14680064,x|=P.flags&14680064,P.return=d,P=P.sibling;else for(P=d.child;P!==null;)y|=P.lanes|P.childLanes,x|=P.subtreeFlags,x|=P.flags,P.return=d,P=P.sibling;return d.subtreeFlags|=x,d.childLanes=y,p}function DG(d,p,y){var x=p.pendingProps;switch(Jw(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bn(p),null;case 1:return yi(p.type)&&eg(),Bn(p),null;case 3:return x=p.stateNode,Gc(),fr(mi),fr(jn),dx(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(d===null||d.child===null)&&(ag(p)?p.flags|=4:d===null||d.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,Ba!==null&&(Vx(Ba),Ba=null))),Rx(d,p),Bn(p),null;case 5:cx(p);var P=rl(mh.current);if(y=p.type,d!==null&&p.stateNode!=null)p3(d,p,y,x,P),d.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!x){if(p.stateNode===null)throw Error(r(166));return Bn(p),null}if(d=rl(go.current),ag(p)){x=p.stateNode,y=p.type;var M=p.memoizedProps;switch(x[vo]=p,x[dh]=M,d=(p.mode&1)!==0,y){case"dialog":cr("cancel",x),cr("close",x);break;case"iframe":case"object":case"embed":cr("load",x);break;case"video":case"audio":for(P=0;P<lh.length;P++)cr(lh[P],x);break;case"source":cr("error",x);break;case"img":case"image":case"link":cr("error",x),cr("load",x);break;case"details":cr("toggle",x);break;case"input":pe(x,M),cr("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!M.multiple},cr("invalid",x);break;case"textarea":lt(x,M),cr("invalid",x)}Br(y,M),P=null;for(var U in M)if(M.hasOwnProperty(U)){var J=M[U];U==="children"?typeof J=="string"?x.textContent!==J&&(M.suppressHydrationWarning!==!0&&Q0(x.textContent,J,d),P=["children",J]):typeof J=="number"&&x.textContent!==""+J&&(M.suppressHydrationWarning!==!0&&Q0(x.textContent,J,d),P=["children",""+J]):i.hasOwnProperty(U)&&J!=null&&U==="onScroll"&&cr("scroll",x)}switch(y){case"input":re(x),je(x,M,!0);break;case"textarea":re(x),xt(x);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(x.onclick=Z0)}x=P,p.updateQueue=x,x!==null&&(p.flags|=4)}else{U=P.nodeType===9?P:P.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=tt(y)),d==="http://www.w3.org/1999/xhtml"?y==="script"?(d=U.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof x.is=="string"?d=U.createElement(y,{is:x.is}):(d=U.createElement(y),y==="select"&&(U=d,x.multiple?U.multiple=!0:x.size&&(U.size=x.size))):d=U.createElementNS(d,y),d[vo]=p,d[dh]=x,h3(d,p,!1,!1),p.stateNode=d;e:{switch(U=ju(y,x),y){case"dialog":cr("cancel",d),cr("close",d),P=x;break;case"iframe":case"object":case"embed":cr("load",d),P=x;break;case"video":case"audio":for(P=0;P<lh.length;P++)cr(lh[P],d);P=x;break;case"source":cr("error",d),P=x;break;case"img":case"image":case"link":cr("error",d),cr("load",d),P=x;break;case"details":cr("toggle",d),P=x;break;case"input":pe(d,x),P=ye(d,x),cr("invalid",d);break;case"option":P=x;break;case"select":d._wrapperState={wasMultiple:!!x.multiple},P=se({},x,{value:void 0}),cr("invalid",d);break;case"textarea":lt(d,x),P=nt(d,x),cr("invalid",d);break;default:P=x}Br(y,P),J=P;for(M in J)if(J.hasOwnProperty(M)){var ie=J[M];M==="style"?kr(d,ie):M==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,ie!=null&&mt(d,ie)):M==="children"?typeof ie=="string"?(y!=="textarea"||ie!=="")&&At(d,ie):typeof ie=="number"&&At(d,""+ie):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(i.hasOwnProperty(M)?ie!=null&&M==="onScroll"&&cr("scroll",d):ie!=null&&A(d,M,ie,U))}switch(y){case"input":re(d),je(d,x,!1);break;case"textarea":re(d),xt(d);break;case"option":x.value!=null&&d.setAttribute("value",""+Ae(x.value));break;case"select":d.multiple=!!x.multiple,M=x.value,M!=null?it(d,!!x.multiple,M,!1):x.defaultValue!=null&&it(d,!!x.multiple,x.defaultValue,!0);break;default:typeof P.onClick=="function"&&(d.onclick=Z0)}switch(y){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Bn(p),null;case 6:if(d&&p.stateNode!=null)v3(d,p,d.memoizedProps,x);else{if(typeof x!="string"&&p.stateNode===null)throw Error(r(166));if(y=rl(mh.current),rl(go.current),ag(p)){if(x=p.stateNode,y=p.memoizedProps,x[vo]=p,(M=x.nodeValue!==y)&&(d=Fi,d!==null))switch(d.tag){case 3:Q0(x.nodeValue,y,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&Q0(x.nodeValue,y,(d.mode&1)!==0)}M&&(p.flags|=4)}else x=(y.nodeType===9?y:y.ownerDocument).createTextNode(x),x[vo]=p,p.stateNode=x}return Bn(p),null;case 13:if(fr(wr),x=p.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(yr&&Bi!==null&&(p.mode&1)!==0&&(p.flags&128)===0)yD(),qc(),p.flags|=98560,M=!1;else if(M=ag(p),x!==null&&x.dehydrated!==null){if(d===null){if(!M)throw Error(r(318));if(M=p.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(r(317));M[vo]=p}else qc(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Bn(p),M=!1}else Ba!==null&&(Vx(Ba),Ba=null),M=!0;if(!M)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=y,p):(x=x!==null,x!==(d!==null&&d.memoizedState!==null)&&x&&(p.child.flags|=8192,(p.mode&1)!==0&&(d===null||(wr.current&1)!==0?Xr===0&&(Xr=3):Wx())),p.updateQueue!==null&&(p.flags|=4),Bn(p),null);case 4:return Gc(),Rx(d,p),d===null&&ch(p.stateNode.containerInfo),Bn(p),null;case 10:return ax(p.type._context),Bn(p),null;case 17:return yi(p.type)&&eg(),Bn(p),null;case 19:if(fr(wr),M=p.memoizedState,M===null)return Bn(p),null;if(x=(p.flags&128)!==0,U=M.rendering,U===null)if(x)bh(M,!1);else{if(Xr!==0||d!==null&&(d.flags&128)!==0)for(d=p.child;d!==null;){if(U=fg(d),U!==null){for(p.flags|=128,bh(M,!1),x=U.updateQueue,x!==null&&(p.updateQueue=x,p.flags|=4),p.subtreeFlags=0,x=y,y=p.child;y!==null;)M=y,d=x,M.flags&=14680066,U=M.alternate,U===null?(M.childLanes=0,M.lanes=d,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=U.childLanes,M.lanes=U.lanes,M.child=U.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=U.memoizedProps,M.memoizedState=U.memoizedState,M.updateQueue=U.updateQueue,M.type=U.type,d=U.dependencies,M.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),y=y.sibling;return ir(wr,wr.current&1|2),p.child}d=d.sibling}M.tail!==null&&nr()>Qc&&(p.flags|=128,x=!0,bh(M,!1),p.lanes=4194304)}else{if(!x)if(d=fg(U),d!==null){if(p.flags|=128,x=!0,y=d.updateQueue,y!==null&&(p.updateQueue=y,p.flags|=4),bh(M,!0),M.tail===null&&M.tailMode==="hidden"&&!U.alternate&&!yr)return Bn(p),null}else 2*nr()-M.renderingStartTime>Qc&&y!==1073741824&&(p.flags|=128,x=!0,bh(M,!1),p.lanes=4194304);M.isBackwards?(U.sibling=p.child,p.child=U):(y=M.last,y!==null?y.sibling=U:p.child=U,M.last=U)}return M.tail!==null?(p=M.tail,M.rendering=p,M.tail=p.sibling,M.renderingStartTime=nr(),p.sibling=null,y=wr.current,ir(wr,x?y&1|2:y&1),p):(Bn(p),null);case 22:case 23:return zx(),x=p.memoizedState!==null,d!==null&&d.memoizedState!==null!==x&&(p.flags|=8192),x&&(p.mode&1)!==0?($i&1073741824)!==0&&(Bn(p),p.subtreeFlags&6&&(p.flags|=8192)):Bn(p),null;case 24:return null;case 25:return null}throw Error(r(156,p.tag))}function NG(d,p){switch(Jw(p),p.tag){case 1:return yi(p.type)&&eg(),d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 3:return Gc(),fr(mi),fr(jn),dx(),d=p.flags,(d&65536)!==0&&(d&128)===0?(p.flags=d&-65537|128,p):null;case 5:return cx(p),null;case 13:if(fr(wr),d=p.memoizedState,d!==null&&d.dehydrated!==null){if(p.alternate===null)throw Error(r(340));qc()}return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 19:return fr(wr),null;case 4:return Gc(),null;case 10:return ax(p.type._context),null;case 22:case 23:return zx(),null;case 24:return null;default:return null}}var wg=!1,$n=!1,kG=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Xc(d,p){var y=d.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(x){Tr(d,p,x)}else y.current=null}function Dx(d,p,y){try{y()}catch(x){Tr(d,p,x)}}var g3=!1;function MG(d,p){if(zw=Ms,d=KR(),Lw(d)){if("selectionStart"in d)var y={start:d.selectionStart,end:d.selectionEnd};else e:{y=(y=d.ownerDocument)&&y.defaultView||window;var x=y.getSelection&&y.getSelection();if(x&&x.rangeCount!==0){y=x.anchorNode;var P=x.anchorOffset,M=x.focusNode;x=x.focusOffset;try{y.nodeType,M.nodeType}catch{y=null;break e}var U=0,J=-1,ie=-1,he=0,Se=0,Pe=d,Ee=null;t:for(;;){for(var Fe;Pe!==y||P!==0&&Pe.nodeType!==3||(J=U+P),Pe!==M||x!==0&&Pe.nodeType!==3||(ie=U+x),Pe.nodeType===3&&(U+=Pe.nodeValue.length),(Fe=Pe.firstChild)!==null;)Ee=Pe,Pe=Fe;for(;;){if(Pe===d)break t;if(Ee===y&&++he===P&&(J=U),Ee===M&&++Se===x&&(ie=U),(Fe=Pe.nextSibling)!==null)break;Pe=Ee,Ee=Pe.parentNode}Pe=Fe}y=J===-1||ie===-1?null:{start:J,end:ie}}else y=null}y=y||{start:0,end:0}}else y=null;for(Ww={focusedElem:d,selectionRange:y},Ms=!1,Ue=p;Ue!==null;)if(p=Ue,d=p.child,(p.subtreeFlags&1028)!==0&&d!==null)d.return=p,Ue=d;else for(;Ue!==null;){p=Ue;try{var qe=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(qe!==null){var ze=qe.memoizedProps,Lr=qe.memoizedState,le=p.stateNode,oe=le.getSnapshotBeforeUpdate(p.elementType===p.type?ze:$a(p.type,ze),Lr);le.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:var de=p.stateNode.containerInfo;de.nodeType===1?de.textContent="":de.nodeType===9&&de.documentElement&&de.removeChild(de.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(De){Tr(p,p.return,De)}if(d=p.sibling,d!==null){d.return=p.return,Ue=d;break}Ue=p.return}return qe=g3,g3=!1,qe}function Eh(d,p,y){var x=p.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var P=x=x.next;do{if((P.tag&d)===d){var M=P.destroy;P.destroy=void 0,M!==void 0&&Dx(p,y,M)}P=P.next}while(P!==x)}}function xg(d,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&d)===d){var x=y.create;y.destroy=x()}y=y.next}while(y!==p)}}function Nx(d){var p=d.ref;if(p!==null){var y=d.stateNode;switch(d.tag){case 5:d=y;break;default:d=y}typeof p=="function"?p(d):p.current=d}}function m3(d){var p=d.alternate;p!==null&&(d.alternate=null,m3(p)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(p=d.stateNode,p!==null&&(delete p[vo],delete p[dh],delete p[Xw],delete p[mG],delete p[yG])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function y3(d){return d.tag===5||d.tag===3||d.tag===4}function _3(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||y3(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function kx(d,p,y){var x=d.tag;if(x===5||x===6)d=d.stateNode,p?y.nodeType===8?y.parentNode.insertBefore(d,p):y.insertBefore(d,p):(y.nodeType===8?(p=y.parentNode,p.insertBefore(d,y)):(p=y,p.appendChild(d)),y=y._reactRootContainer,y!=null||p.onclick!==null||(p.onclick=Z0));else if(x!==4&&(d=d.child,d!==null))for(kx(d,p,y),d=d.sibling;d!==null;)kx(d,p,y),d=d.sibling}function Mx(d,p,y){var x=d.tag;if(x===5||x===6)d=d.stateNode,p?y.insertBefore(d,p):y.appendChild(d);else if(x!==4&&(d=d.child,d!==null))for(Mx(d,p,y),d=d.sibling;d!==null;)Mx(d,p,y),d=d.sibling}var Sn=null,Ua=!1;function zs(d,p,y){for(y=y.child;y!==null;)w3(d,p,y),y=y.sibling}function w3(d,p,y){if(ki&&typeof ki.onCommitFiberUnmount=="function")try{ki.onCommitFiberUnmount(zu,y)}catch{}switch(y.tag){case 5:$n||Xc(y,p);case 6:var x=Sn,P=Ua;Sn=null,zs(d,p,y),Sn=x,Ua=P,Sn!==null&&(Ua?(d=Sn,y=y.stateNode,d.nodeType===8?d.parentNode.removeChild(y):d.removeChild(y)):Sn.removeChild(y.stateNode));break;case 18:Sn!==null&&(Ua?(d=Sn,y=y.stateNode,d.nodeType===8?Kw(d.parentNode,y):d.nodeType===1&&Kw(d,y),La(d)):Kw(Sn,y.stateNode));break;case 4:x=Sn,P=Ua,Sn=y.stateNode.containerInfo,Ua=!0,zs(d,p,y),Sn=x,Ua=P;break;case 0:case 11:case 14:case 15:if(!$n&&(x=y.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){P=x=x.next;do{var M=P,U=M.destroy;M=M.tag,U!==void 0&&((M&2)!==0||(M&4)!==0)&&Dx(y,p,U),P=P.next}while(P!==x)}zs(d,p,y);break;case 1:if(!$n&&(Xc(y,p),x=y.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=y.memoizedProps,x.state=y.memoizedState,x.componentWillUnmount()}catch(J){Tr(y,p,J)}zs(d,p,y);break;case 21:zs(d,p,y);break;case 22:y.mode&1?($n=(x=$n)||y.memoizedState!==null,zs(d,p,y),$n=x):zs(d,p,y);break;default:zs(d,p,y)}}function x3(d){var p=d.updateQueue;if(p!==null){d.updateQueue=null;var y=d.stateNode;y===null&&(y=d.stateNode=new kG),p.forEach(function(x){var P=zG.bind(null,d,x);y.has(x)||(y.add(x),x.then(P,P))})}}function Va(d,p){var y=p.deletions;if(y!==null)for(var x=0;x<y.length;x++){var P=y[x];try{var M=d,U=p,J=U;e:for(;J!==null;){switch(J.tag){case 5:Sn=J.stateNode,Ua=!1;break e;case 3:Sn=J.stateNode.containerInfo,Ua=!0;break e;case 4:Sn=J.stateNode.containerInfo,Ua=!0;break e}J=J.return}if(Sn===null)throw Error(r(160));w3(M,U,P),Sn=null,Ua=!1;var ie=P.alternate;ie!==null&&(ie.return=null),P.return=null}catch(he){Tr(P,p,he)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)b3(p,d),p=p.sibling}function b3(d,p){var y=d.alternate,x=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(Va(p,d),yo(d),x&4){try{Eh(3,d,d.return),xg(3,d)}catch(ze){Tr(d,d.return,ze)}try{Eh(5,d,d.return)}catch(ze){Tr(d,d.return,ze)}}break;case 1:Va(p,d),yo(d),x&512&&y!==null&&Xc(y,y.return);break;case 5:if(Va(p,d),yo(d),x&512&&y!==null&&Xc(y,y.return),d.flags&32){var P=d.stateNode;try{At(P,"")}catch(ze){Tr(d,d.return,ze)}}if(x&4&&(P=d.stateNode,P!=null)){var M=d.memoizedProps,U=y!==null?y.memoizedProps:M,J=d.type,ie=d.updateQueue;if(d.updateQueue=null,ie!==null)try{J==="input"&&M.type==="radio"&&M.name!=null&&be(P,M),ju(J,U);var he=ju(J,M);for(U=0;U<ie.length;U+=2){var Se=ie[U],Pe=ie[U+1];Se==="style"?kr(P,Pe):Se==="dangerouslySetInnerHTML"?mt(P,Pe):Se==="children"?At(P,Pe):A(P,Se,Pe,he)}switch(J){case"input":Re(P,M);break;case"textarea":ft(P,M);break;case"select":var Ee=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!M.multiple;var Fe=M.value;Fe!=null?it(P,!!M.multiple,Fe,!1):Ee!==!!M.multiple&&(M.defaultValue!=null?it(P,!!M.multiple,M.defaultValue,!0):it(P,!!M.multiple,M.multiple?[]:"",!1))}P[dh]=M}catch(ze){Tr(d,d.return,ze)}}break;case 6:if(Va(p,d),yo(d),x&4){if(d.stateNode===null)throw Error(r(162));P=d.stateNode,M=d.memoizedProps;try{P.nodeValue=M}catch(ze){Tr(d,d.return,ze)}}break;case 3:if(Va(p,d),yo(d),x&4&&y!==null&&y.memoizedState.isDehydrated)try{La(p.containerInfo)}catch(ze){Tr(d,d.return,ze)}break;case 4:Va(p,d),yo(d);break;case 13:Va(p,d),yo(d),P=d.child,P.flags&8192&&(M=P.memoizedState!==null,P.stateNode.isHidden=M,!M||P.alternate!==null&&P.alternate.memoizedState!==null||(Fx=nr())),x&4&&x3(d);break;case 22:if(Se=y!==null&&y.memoizedState!==null,d.mode&1?($n=(he=$n)||Se,Va(p,d),$n=he):Va(p,d),yo(d),x&8192){if(he=d.memoizedState!==null,(d.stateNode.isHidden=he)&&!Se&&(d.mode&1)!==0)for(Ue=d,Se=d.child;Se!==null;){for(Pe=Ue=Se;Ue!==null;){switch(Ee=Ue,Fe=Ee.child,Ee.tag){case 0:case 11:case 14:case 15:Eh(4,Ee,Ee.return);break;case 1:Xc(Ee,Ee.return);var qe=Ee.stateNode;if(typeof qe.componentWillUnmount=="function"){x=Ee,y=Ee.return;try{p=x,qe.props=p.memoizedProps,qe.state=p.memoizedState,qe.componentWillUnmount()}catch(ze){Tr(x,y,ze)}}break;case 5:Xc(Ee,Ee.return);break;case 22:if(Ee.memoizedState!==null){S3(Pe);continue}}Fe!==null?(Fe.return=Ee,Ue=Fe):S3(Pe)}Se=Se.sibling}e:for(Se=null,Pe=d;;){if(Pe.tag===5){if(Se===null){Se=Pe;try{P=Pe.stateNode,he?(M=P.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(J=Pe.stateNode,ie=Pe.memoizedProps.style,U=ie!=null&&ie.hasOwnProperty("display")?ie.display:null,J.style.display=rr("display",U))}catch(ze){Tr(d,d.return,ze)}}}else if(Pe.tag===6){if(Se===null)try{Pe.stateNode.nodeValue=he?"":Pe.memoizedProps}catch(ze){Tr(d,d.return,ze)}}else if((Pe.tag!==22&&Pe.tag!==23||Pe.memoizedState===null||Pe===d)&&Pe.child!==null){Pe.child.return=Pe,Pe=Pe.child;continue}if(Pe===d)break e;for(;Pe.sibling===null;){if(Pe.return===null||Pe.return===d)break e;Se===Pe&&(Se=null),Pe=Pe.return}Se===Pe&&(Se=null),Pe.sibling.return=Pe.return,Pe=Pe.sibling}}break;case 19:Va(p,d),yo(d),x&4&&x3(d);break;case 21:break;default:Va(p,d),yo(d)}}function yo(d){var p=d.flags;if(p&2){try{e:{for(var y=d.return;y!==null;){if(y3(y)){var x=y;break e}y=y.return}throw Error(r(160))}switch(x.tag){case 5:var P=x.stateNode;x.flags&32&&(At(P,""),x.flags&=-33);var M=_3(d);Mx(d,M,P);break;case 3:case 4:var U=x.stateNode.containerInfo,J=_3(d);kx(d,J,U);break;default:throw Error(r(161))}}catch(ie){Tr(d,d.return,ie)}d.flags&=-3}p&4096&&(d.flags&=-4097)}function LG(d,p,y){Ue=d,E3(d)}function E3(d,p,y){for(var x=(d.mode&1)!==0;Ue!==null;){var P=Ue,M=P.child;if(P.tag===22&&x){var U=P.memoizedState!==null||wg;if(!U){var J=P.alternate,ie=J!==null&&J.memoizedState!==null||$n;J=wg;var he=$n;if(wg=U,($n=ie)&&!he)for(Ue=P;Ue!==null;)U=Ue,ie=U.child,U.tag===22&&U.memoizedState!==null?O3(P):ie!==null?(ie.return=U,Ue=ie):O3(P);for(;M!==null;)Ue=M,E3(M),M=M.sibling;Ue=P,wg=J,$n=he}A3(d)}else(P.subtreeFlags&8772)!==0&&M!==null?(M.return=P,Ue=M):A3(d)}}function A3(d){for(;Ue!==null;){var p=Ue;if((p.flags&8772)!==0){var y=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:$n||xg(5,p);break;case 1:var x=p.stateNode;if(p.flags&4&&!$n)if(y===null)x.componentDidMount();else{var P=p.elementType===p.type?y.memoizedProps:$a(p.type,y.memoizedProps);x.componentDidUpdate(P,y.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var M=p.updateQueue;M!==null&&SD(p,M,x);break;case 3:var U=p.updateQueue;if(U!==null){if(y=null,p.child!==null)switch(p.child.tag){case 5:y=p.child.stateNode;break;case 1:y=p.child.stateNode}SD(p,U,y)}break;case 5:var J=p.stateNode;if(y===null&&p.flags&4){y=J;var ie=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":ie.autoFocus&&y.focus();break;case"img":ie.src&&(y.src=ie.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var he=p.alternate;if(he!==null){var Se=he.memoizedState;if(Se!==null){var Pe=Se.dehydrated;Pe!==null&&La(Pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}$n||p.flags&512&&Nx(p)}catch(Ee){Tr(p,p.return,Ee)}}if(p===d){Ue=null;break}if(y=p.sibling,y!==null){y.return=p.return,Ue=y;break}Ue=p.return}}function S3(d){for(;Ue!==null;){var p=Ue;if(p===d){Ue=null;break}var y=p.sibling;if(y!==null){y.return=p.return,Ue=y;break}Ue=p.return}}function O3(d){for(;Ue!==null;){var p=Ue;try{switch(p.tag){case 0:case 11:case 15:var y=p.return;try{xg(4,p)}catch(ie){Tr(p,y,ie)}break;case 1:var x=p.stateNode;if(typeof x.componentDidMount=="function"){var P=p.return;try{x.componentDidMount()}catch(ie){Tr(p,P,ie)}}var M=p.return;try{Nx(p)}catch(ie){Tr(p,M,ie)}break;case 5:var U=p.return;try{Nx(p)}catch(ie){Tr(p,U,ie)}}}catch(ie){Tr(p,p.return,ie)}if(p===d){Ue=null;break}var J=p.sibling;if(J!==null){J.return=p.return,Ue=J;break}Ue=p.return}}var jG=Math.ceil,bg=C.ReactCurrentDispatcher,Lx=C.ReactCurrentOwner,la=C.ReactCurrentBatchConfig,Rt=0,hn=null,Ur=null,On=0,$i=0,Yc=Bs(0),Xr=0,Ah=null,il=0,Eg=0,jx=0,Sh=null,wi=null,Fx=0,Qc=1/0,Jo=null,Ag=!1,Bx=null,Ws=null,Sg=!1,Hs=null,Og=0,Oh=0,$x=null,Tg=-1,Cg=0;function ni(){return(Rt&6)!==0?nr():Tg!==-1?Tg:Tg=nr()}function Gs(d){return(d.mode&1)===0?1:(Rt&2)!==0&&On!==0?On&-On:wG.transition!==null?(Cg===0&&(Cg=Hu()),Cg):(d=Ot,d!==0||(d=window.event,d=d===void 0?16:eh(d.type)),d)}function qa(d,p,y,x){if(50<Oh)throw Oh=0,$x=null,Error(r(185));Rs(d,y,x),((Rt&2)===0||d!==hn)&&(d===hn&&((Rt&2)===0&&(Eg|=y),Xr===4&&Ks(d,On)),xi(d,x),y===1&&Rt===0&&(p.mode&1)===0&&(Qc=nr()+500,rg&&Us()))}function xi(d,p){var y=d.callbackNode;Uo(d,p);var x=Wu(d,d===hn?On:0);if(x===0)y!==null&&Xd(y),d.callbackNode=null,d.callbackPriority=0;else if(p=x&-x,d.callbackPriority!==p){if(y!=null&&Xd(y),p===1)d.tag===0?_G(C3.bind(null,d)):hD(C3.bind(null,d)),vG(function(){(Rt&6)===0&&Us()}),y=null;else{switch(Ns(x)){case 1:y=qu;break;case 4:y=Cs;break;case 16:y=ra;break;case 536870912:y=C0;break;default:y=ra}y=L3(y,T3.bind(null,d))}d.callbackPriority=p,d.callbackNode=y}}function T3(d,p){if(Tg=-1,Cg=0,(Rt&6)!==0)throw Error(r(327));var y=d.callbackNode;if(Zc()&&d.callbackNode!==y)return null;var x=Wu(d,d===hn?On:0);if(x===0)return null;if((x&30)!==0||(x&d.expiredLanes)!==0||p)p=Ig(d,x);else{p=x;var P=Rt;Rt|=2;var M=P3();(hn!==d||On!==p)&&(Jo=null,Qc=nr()+500,ol(d,p));do try{$G();break}catch(J){I3(d,J)}while(!0);ix(),bg.current=M,Rt=P,Ur!==null?p=0:(hn=null,On=0,p=Xr)}if(p!==0){if(p===2&&(P=Mi(d),P!==0&&(x=P,p=Ux(d,P))),p===1)throw y=Ah,ol(d,0),Ks(d,x),xi(d,nr()),y;if(p===6)Ks(d,x);else{if(P=d.current.alternate,(x&30)===0&&!FG(P)&&(p=Ig(d,x),p===2&&(M=Mi(d),M!==0&&(x=M,p=Ux(d,M))),p===1))throw y=Ah,ol(d,0),Ks(d,x),xi(d,nr()),y;switch(d.finishedWork=P,d.finishedLanes=x,p){case 0:case 1:throw Error(r(345));case 2:sl(d,wi,Jo);break;case 3:if(Ks(d,x),(x&130023424)===x&&(p=Fx+500-nr(),10<p)){if(Wu(d,0)!==0)break;if(P=d.suspendedLanes,(P&x)!==x){ni(),d.pingedLanes|=d.suspendedLanes&P;break}d.timeoutHandle=Gw(sl.bind(null,d,wi,Jo),p);break}sl(d,wi,Jo);break;case 4:if(Ks(d,x),(x&4194240)===x)break;for(p=d.eventTimes,P=-1;0<x;){var U=31-ei(x);M=1<<U,U=p[U],U>P&&(P=U),x&=~M}if(x=P,x=nr()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*jG(x/1960))-x,10<x){d.timeoutHandle=Gw(sl.bind(null,d,wi,Jo),x);break}sl(d,wi,Jo);break;case 5:sl(d,wi,Jo);break;default:throw Error(r(329))}}}return xi(d,nr()),d.callbackNode===y?T3.bind(null,d):null}function Ux(d,p){var y=Sh;return d.current.memoizedState.isDehydrated&&(ol(d,p).flags|=256),d=Ig(d,p),d!==2&&(p=wi,wi=y,p!==null&&Vx(p)),d}function Vx(d){wi===null?wi=d:wi.push.apply(wi,d)}function FG(d){for(var p=d;;){if(p.flags&16384){var y=p.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var x=0;x<y.length;x++){var P=y[x],M=P.getSnapshot;P=P.value;try{if(!Fa(M(),P))return!1}catch{return!1}}}if(y=p.child,p.subtreeFlags&16384&&y!==null)y.return=p,p=y;else{if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Ks(d,p){for(p&=~jx,p&=~Eg,d.suspendedLanes|=p,d.pingedLanes&=~p,d=d.expirationTimes;0<p;){var y=31-ei(p),x=1<<y;d[y]=-1,p&=~x}}function C3(d){if((Rt&6)!==0)throw Error(r(327));Zc();var p=Wu(d,0);if((p&1)===0)return xi(d,nr()),null;var y=Ig(d,p);if(d.tag!==0&&y===2){var x=Mi(d);x!==0&&(p=x,y=Ux(d,x))}if(y===1)throw y=Ah,ol(d,0),Ks(d,p),xi(d,nr()),y;if(y===6)throw Error(r(345));return d.finishedWork=d.current.alternate,d.finishedLanes=p,sl(d,wi,Jo),xi(d,nr()),null}function qx(d,p){var y=Rt;Rt|=1;try{return d(p)}finally{Rt=y,Rt===0&&(Qc=nr()+500,rg&&Us())}}function al(d){Hs!==null&&Hs.tag===0&&(Rt&6)===0&&Zc();var p=Rt;Rt|=1;var y=la.transition,x=Ot;try{if(la.transition=null,Ot=1,d)return d()}finally{Ot=x,la.transition=y,Rt=p,(Rt&6)===0&&Us()}}function zx(){$i=Yc.current,fr(Yc)}function ol(d,p){d.finishedWork=null,d.finishedLanes=0;var y=d.timeoutHandle;if(y!==-1&&(d.timeoutHandle=-1,pG(y)),Ur!==null)for(y=Ur.return;y!==null;){var x=y;switch(Jw(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&eg();break;case 3:Gc(),fr(mi),fr(jn),dx();break;case 5:cx(x);break;case 4:Gc();break;case 13:fr(wr);break;case 19:fr(wr);break;case 10:ax(x.type._context);break;case 22:case 23:zx()}y=y.return}if(hn=d,Ur=d=Xs(d.current,null),On=$i=p,Xr=0,Ah=null,jx=Eg=il=0,wi=Sh=null,tl!==null){for(p=0;p<tl.length;p++)if(y=tl[p],x=y.interleaved,x!==null){y.interleaved=null;var P=x.next,M=y.pending;if(M!==null){var U=M.next;M.next=P,x.next=U}y.pending=x}tl=null}return d}function I3(d,p){do{var y=Ur;try{if(ix(),dg.current=gg,hg){for(var x=xr.memoizedState;x!==null;){var P=x.queue;P!==null&&(P.pending=null),x=x.next}hg=!1}if(nl=0,dn=Kr=xr=null,yh=!1,_h=0,Lx.current=null,y===null||y.return===null){Xr=1,Ah=p,Ur=null;break}e:{var M=d,U=y.return,J=y,ie=p;if(p=On,J.flags|=32768,ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var he=ie,Se=J,Pe=Se.tag;if((Se.mode&1)===0&&(Pe===0||Pe===11||Pe===15)){var Ee=Se.alternate;Ee?(Se.updateQueue=Ee.updateQueue,Se.memoizedState=Ee.memoizedState,Se.lanes=Ee.lanes):(Se.updateQueue=null,Se.memoizedState=null)}var Fe=e3(U);if(Fe!==null){Fe.flags&=-257,t3(Fe,U,J,M,p),Fe.mode&1&&JD(M,he,p),p=Fe,ie=he;var qe=p.updateQueue;if(qe===null){var ze=new Set;ze.add(ie),p.updateQueue=ze}else qe.add(ie);break e}else{if((p&1)===0){JD(M,he,p),Wx();break e}ie=Error(r(426))}}else if(yr&&J.mode&1){var Lr=e3(U);if(Lr!==null){(Lr.flags&65536)===0&&(Lr.flags|=256),t3(Lr,U,J,M,p),rx(Kc(ie,J));break e}}M=ie=Kc(ie,J),Xr!==4&&(Xr=2),Sh===null?Sh=[M]:Sh.push(M),M=U;do{switch(M.tag){case 3:M.flags|=65536,p&=-p,M.lanes|=p;var le=QD(M,ie,p);AD(M,le);break e;case 1:J=ie;var oe=M.type,de=M.stateNode;if((M.flags&128)===0&&(typeof oe.getDerivedStateFromError=="function"||de!==null&&typeof de.componentDidCatch=="function"&&(Ws===null||!Ws.has(de)))){M.flags|=65536,p&=-p,M.lanes|=p;var De=ZD(M,J,p);AD(M,De);break e}}M=M.return}while(M!==null)}D3(y)}catch(Ge){p=Ge,Ur===y&&y!==null&&(Ur=y=y.return);continue}break}while(!0)}function P3(){var d=bg.current;return bg.current=gg,d===null?gg:d}function Wx(){(Xr===0||Xr===3||Xr===2)&&(Xr=4),hn===null||(il&268435455)===0&&(Eg&268435455)===0||Ks(hn,On)}function Ig(d,p){var y=Rt;Rt|=2;var x=P3();(hn!==d||On!==p)&&(Jo=null,ol(d,p));do try{BG();break}catch(P){I3(d,P)}while(!0);if(ix(),Rt=y,bg.current=x,Ur!==null)throw Error(r(261));return hn=null,On=0,Xr}function BG(){for(;Ur!==null;)R3(Ur)}function $G(){for(;Ur!==null&&!O0();)R3(Ur)}function R3(d){var p=M3(d.alternate,d,$i);d.memoizedProps=d.pendingProps,p===null?D3(d):Ur=p,Lx.current=null}function D3(d){var p=d;do{var y=p.alternate;if(d=p.return,(p.flags&32768)===0){if(y=DG(y,p,$i),y!==null){Ur=y;return}}else{if(y=NG(y,p),y!==null){y.flags&=32767,Ur=y;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Xr=6,Ur=null;return}}if(p=p.sibling,p!==null){Ur=p;return}Ur=p=d}while(p!==null);Xr===0&&(Xr=5)}function sl(d,p,y){var x=Ot,P=la.transition;try{la.transition=null,Ot=1,UG(d,p,y,x)}finally{la.transition=P,Ot=x}return null}function UG(d,p,y,x){do Zc();while(Hs!==null);if((Rt&6)!==0)throw Error(r(327));y=d.finishedWork;var P=d.finishedLanes;if(y===null)return null;if(d.finishedWork=null,d.finishedLanes=0,y===d.current)throw Error(r(177));d.callbackNode=null,d.callbackPriority=0;var M=y.lanes|y.childLanes;if(Zt(d,M),d===hn&&(Ur=hn=null,On=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||Sg||(Sg=!0,L3(ra,function(){return Zc(),null})),M=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||M){M=la.transition,la.transition=null;var U=Ot;Ot=1;var J=Rt;Rt|=4,Lx.current=null,MG(d,y),b3(y,d),sG(Ww),Ms=!!zw,Ww=zw=null,d.current=y,LG(y),Cw(),Rt=J,Ot=U,la.transition=M}else d.current=y;if(Sg&&(Sg=!1,Hs=d,Og=P),M=d.pendingLanes,M===0&&(Ws=null),I0(y.stateNode),xi(d,nr()),p!==null)for(x=d.onRecoverableError,y=0;y<p.length;y++)P=p[y],x(P.value,{componentStack:P.stack,digest:P.digest});if(Ag)throw Ag=!1,d=Bx,Bx=null,d;return(Og&1)!==0&&d.tag!==0&&Zc(),M=d.pendingLanes,(M&1)!==0?d===$x?Oh++:(Oh=0,$x=d):Oh=0,Us(),null}function Zc(){if(Hs!==null){var d=Ns(Og),p=la.transition,y=Ot;try{if(la.transition=null,Ot=16>d?16:d,Hs===null)var x=!1;else{if(d=Hs,Hs=null,Og=0,(Rt&6)!==0)throw Error(r(331));var P=Rt;for(Rt|=4,Ue=d.current;Ue!==null;){var M=Ue,U=M.child;if((Ue.flags&16)!==0){var J=M.deletions;if(J!==null){for(var ie=0;ie<J.length;ie++){var he=J[ie];for(Ue=he;Ue!==null;){var Se=Ue;switch(Se.tag){case 0:case 11:case 15:Eh(8,Se,M)}var Pe=Se.child;if(Pe!==null)Pe.return=Se,Ue=Pe;else for(;Ue!==null;){Se=Ue;var Ee=Se.sibling,Fe=Se.return;if(m3(Se),Se===he){Ue=null;break}if(Ee!==null){Ee.return=Fe,Ue=Ee;break}Ue=Fe}}}var qe=M.alternate;if(qe!==null){var ze=qe.child;if(ze!==null){qe.child=null;do{var Lr=ze.sibling;ze.sibling=null,ze=Lr}while(ze!==null)}}Ue=M}}if((M.subtreeFlags&2064)!==0&&U!==null)U.return=M,Ue=U;else e:for(;Ue!==null;){if(M=Ue,(M.flags&2048)!==0)switch(M.tag){case 0:case 11:case 15:Eh(9,M,M.return)}var le=M.sibling;if(le!==null){le.return=M.return,Ue=le;break e}Ue=M.return}}var oe=d.current;for(Ue=oe;Ue!==null;){U=Ue;var de=U.child;if((U.subtreeFlags&2064)!==0&&de!==null)de.return=U,Ue=de;else e:for(U=oe;Ue!==null;){if(J=Ue,(J.flags&2048)!==0)try{switch(J.tag){case 0:case 11:case 15:xg(9,J)}}catch(Ge){Tr(J,J.return,Ge)}if(J===U){Ue=null;break e}var De=J.sibling;if(De!==null){De.return=J.return,Ue=De;break e}Ue=J.return}}if(Rt=P,Us(),ki&&typeof ki.onPostCommitFiberRoot=="function")try{ki.onPostCommitFiberRoot(zu,d)}catch{}x=!0}return x}finally{Ot=y,la.transition=p}}return!1}function N3(d,p,y){p=Kc(y,p),p=QD(d,p,1),d=qs(d,p,1),p=ni(),d!==null&&(Rs(d,1,p),xi(d,p))}function Tr(d,p,y){if(d.tag===3)N3(d,d,y);else for(;p!==null;){if(p.tag===3){N3(p,d,y);break}else if(p.tag===1){var x=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Ws===null||!Ws.has(x))){d=Kc(y,d),d=ZD(p,d,1),p=qs(p,d,1),d=ni(),p!==null&&(Rs(p,1,d),xi(p,d));break}}p=p.return}}function VG(d,p,y){var x=d.pingCache;x!==null&&x.delete(p),p=ni(),d.pingedLanes|=d.suspendedLanes&y,hn===d&&(On&y)===y&&(Xr===4||Xr===3&&(On&130023424)===On&&500>nr()-Fx?ol(d,0):jx|=y),xi(d,p)}function k3(d,p){p===0&&((d.mode&1)===0?p=1:(p=xc,xc<<=1,(xc&130023424)===0&&(xc=4194304)));var y=ni();d=Yo(d,p),d!==null&&(Rs(d,p,y),xi(d,y))}function qG(d){var p=d.memoizedState,y=0;p!==null&&(y=p.retryLane),k3(d,y)}function zG(d,p){var y=0;switch(d.tag){case 13:var x=d.stateNode,P=d.memoizedState;P!==null&&(y=P.retryLane);break;case 19:x=d.stateNode;break;default:throw Error(r(314))}x!==null&&x.delete(p),k3(d,y)}var M3;M3=function(d,p,y){if(d!==null)if(d.memoizedProps!==p.pendingProps||mi.current)_i=!0;else{if((d.lanes&y)===0&&(p.flags&128)===0)return _i=!1,RG(d,p,y);_i=(d.flags&131072)!==0}else _i=!1,yr&&(p.flags&1048576)!==0&&pD(p,ig,p.index);switch(p.lanes=0,p.tag){case 2:var x=p.type;_g(d,p),d=p.pendingProps;var P=$c(p,jn.current);Hc(p,y),P=vx(null,p,x,d,P,y);var M=gx();return p.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,yi(x)?(M=!0,tg(p)):M=!1,p.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,ux(p),P.updater=mg,p.stateNode=P,P._reactInternals=p,bx(p,x,d,y),p=Ox(null,p,x,!0,M,y)):(p.tag=0,yr&&M&&Zw(p),ri(null,p,P,y),p=p.child),p;case 16:x=p.elementType;e:{switch(_g(d,p),d=p.pendingProps,P=x._init,x=P(x._payload),p.type=x,P=p.tag=HG(x),d=$a(x,d),P){case 0:p=Sx(null,p,x,d,y);break e;case 1:p=s3(null,p,x,d,y);break e;case 11:p=r3(null,p,x,d,y);break e;case 14:p=n3(null,p,x,$a(x.type,d),y);break e}throw Error(r(306,x,""))}return p;case 0:return x=p.type,P=p.pendingProps,P=p.elementType===x?P:$a(x,P),Sx(d,p,x,P,y);case 1:return x=p.type,P=p.pendingProps,P=p.elementType===x?P:$a(x,P),s3(d,p,x,P,y);case 3:e:{if(u3(p),d===null)throw Error(r(387));x=p.pendingProps,M=p.memoizedState,P=M.element,ED(d,p),cg(p,x,null,y);var U=p.memoizedState;if(x=U.element,M.isDehydrated)if(M={element:x,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},p.updateQueue.baseState=M,p.memoizedState=M,p.flags&256){P=Kc(Error(r(423)),p),p=l3(d,p,x,y,P);break e}else if(x!==P){P=Kc(Error(r(424)),p),p=l3(d,p,x,y,P);break e}else for(Bi=Fs(p.stateNode.containerInfo.firstChild),Fi=p,yr=!0,Ba=null,y=xD(p,null,x,y),p.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(qc(),x===P){p=Zo(d,p,y);break e}ri(d,p,x,y)}p=p.child}return p;case 5:return OD(p),d===null&&tx(p),x=p.type,P=p.pendingProps,M=d!==null?d.memoizedProps:null,U=P.children,Hw(x,P)?U=null:M!==null&&Hw(x,M)&&(p.flags|=32),o3(d,p),ri(d,p,U,y),p.child;case 6:return d===null&&tx(p),null;case 13:return c3(d,p,y);case 4:return lx(p,p.stateNode.containerInfo),x=p.pendingProps,d===null?p.child=zc(p,null,x,y):ri(d,p,x,y),p.child;case 11:return x=p.type,P=p.pendingProps,P=p.elementType===x?P:$a(x,P),r3(d,p,x,P,y);case 7:return ri(d,p,p.pendingProps,y),p.child;case 8:return ri(d,p,p.pendingProps.children,y),p.child;case 12:return ri(d,p,p.pendingProps.children,y),p.child;case 10:e:{if(x=p.type._context,P=p.pendingProps,M=p.memoizedProps,U=P.value,ir(sg,x._currentValue),x._currentValue=U,M!==null)if(Fa(M.value,U)){if(M.children===P.children&&!mi.current){p=Zo(d,p,y);break e}}else for(M=p.child,M!==null&&(M.return=p);M!==null;){var J=M.dependencies;if(J!==null){U=M.child;for(var ie=J.firstContext;ie!==null;){if(ie.context===x){if(M.tag===1){ie=Qo(-1,y&-y),ie.tag=2;var he=M.updateQueue;if(he!==null){he=he.shared;var Se=he.pending;Se===null?ie.next=ie:(ie.next=Se.next,Se.next=ie),he.pending=ie}}M.lanes|=y,ie=M.alternate,ie!==null&&(ie.lanes|=y),ox(M.return,y,p),J.lanes|=y;break}ie=ie.next}}else if(M.tag===10)U=M.type===p.type?null:M.child;else if(M.tag===18){if(U=M.return,U===null)throw Error(r(341));U.lanes|=y,J=U.alternate,J!==null&&(J.lanes|=y),ox(U,y,p),U=M.sibling}else U=M.child;if(U!==null)U.return=M;else for(U=M;U!==null;){if(U===p){U=null;break}if(M=U.sibling,M!==null){M.return=U.return,U=M;break}U=U.return}M=U}ri(d,p,P.children,y),p=p.child}return p;case 9:return P=p.type,x=p.pendingProps.children,Hc(p,y),P=sa(P),x=x(P),p.flags|=1,ri(d,p,x,y),p.child;case 14:return x=p.type,P=$a(x,p.pendingProps),P=$a(x.type,P),n3(d,p,x,P,y);case 15:return i3(d,p,p.type,p.pendingProps,y);case 17:return x=p.type,P=p.pendingProps,P=p.elementType===x?P:$a(x,P),_g(d,p),p.tag=1,yi(x)?(d=!0,tg(p)):d=!1,Hc(p,y),XD(p,x,P),bx(p,x,P,y),Ox(null,p,x,!0,d,y);case 19:return d3(d,p,y);case 22:return a3(d,p,y)}throw Error(r(156,p.tag))};function L3(d,p){return _c(d,p)}function WG(d,p,y,x){this.tag=d,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ca(d,p,y,x){return new WG(d,p,y,x)}function Hx(d){return d=d.prototype,!(!d||!d.isReactComponent)}function HG(d){if(typeof d=="function")return Hx(d)?1:0;if(d!=null){if(d=d.$$typeof,d===F)return 11;if(d===ee)return 14}return 2}function Xs(d,p){var y=d.alternate;return y===null?(y=ca(d.tag,p,d.key,d.mode),y.elementType=d.elementType,y.type=d.type,y.stateNode=d.stateNode,y.alternate=d,d.alternate=y):(y.pendingProps=p,y.type=d.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=d.flags&14680064,y.childLanes=d.childLanes,y.lanes=d.lanes,y.child=d.child,y.memoizedProps=d.memoizedProps,y.memoizedState=d.memoizedState,y.updateQueue=d.updateQueue,p=d.dependencies,y.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},y.sibling=d.sibling,y.index=d.index,y.ref=d.ref,y}function Pg(d,p,y,x,P,M){var U=2;if(x=d,typeof d=="function")Hx(d)&&(U=1);else if(typeof d=="string")U=5;else e:switch(d){case I:return ul(y.children,P,M,p);case S:U=8,P|=8;break;case T:return d=ca(12,y,p,P|2),d.elementType=T,d.lanes=M,d;case j:return d=ca(13,y,p,P),d.elementType=j,d.lanes=M,d;case K:return d=ca(19,y,p,P),d.elementType=K,d.lanes=M,d;case te:return Rg(y,P,M,p);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case D:U=10;break e;case L:U=9;break e;case F:U=11;break e;case ee:U=14;break e;case W:U=16,x=null;break e}throw Error(r(130,d==null?d:typeof d,""))}return p=ca(U,y,p,P),p.elementType=d,p.type=x,p.lanes=M,p}function ul(d,p,y,x){return d=ca(7,d,x,p),d.lanes=y,d}function Rg(d,p,y,x){return d=ca(22,d,x,p),d.elementType=te,d.lanes=y,d.stateNode={isHidden:!1},d}function Gx(d,p,y){return d=ca(6,d,null,p),d.lanes=y,d}function Kx(d,p,y){return p=ca(4,d.children!==null?d.children:[],d.key,p),p.lanes=y,p.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},p}function GG(d,p,y,x,P){this.tag=p,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ps(0),this.expirationTimes=Ps(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ps(0),this.identifierPrefix=x,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function Xx(d,p,y,x,P,M,U,J,ie){return d=new GG(d,p,y,J,ie),p===1?(p=1,M===!0&&(p|=8)):p=0,M=ca(3,null,null,p),d.current=M,M.stateNode=d,M.memoizedState={element:x,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},ux(M),d}function KG(d,p,y){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:x==null?null:""+x,children:d,containerInfo:p,implementation:y}}function j3(d){if(!d)return $s;d=d._reactInternals;e:{if(Ra(d)!==d||d.tag!==1)throw Error(r(170));var p=d;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(yi(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(r(171))}if(d.tag===1){var y=d.type;if(yi(y))return fD(d,y,p)}return p}function F3(d,p,y,x,P,M,U,J,ie){return d=Xx(y,x,!0,d,P,M,U,J,ie),d.context=j3(null),y=d.current,x=ni(),P=Gs(y),M=Qo(x,P),M.callback=p??null,qs(y,M,P),d.current.lanes=P,Rs(d,P,x),xi(d,x),d}function Dg(d,p,y,x){var P=p.current,M=ni(),U=Gs(P);return y=j3(y),p.context===null?p.context=y:p.pendingContext=y,p=Qo(M,U),p.payload={element:d},x=x===void 0?null:x,x!==null&&(p.callback=x),d=qs(P,p,U),d!==null&&(qa(d,P,U,M),lg(d,P,U)),U}function Ng(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function B3(d,p){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var y=d.retryLane;d.retryLane=y!==0&&y<p?y:p}}function Yx(d,p){B3(d,p),(d=d.alternate)&&B3(d,p)}function XG(){return null}var $3=typeof reportError=="function"?reportError:function(d){console.error(d)};function Qx(d){this._internalRoot=d}kg.prototype.render=Qx.prototype.render=function(d){var p=this._internalRoot;if(p===null)throw Error(r(409));Dg(d,p,null,null)},kg.prototype.unmount=Qx.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var p=d.containerInfo;al(function(){Dg(null,d,null,null)}),p[Ho]=null}};function kg(d){this._internalRoot=d}kg.prototype.unstable_scheduleHydration=function(d){if(d){var p=k0();d={blockedOn:null,target:d,priority:p};for(var y=0;y<co.length&&p!==0&&p<co[y].priority;y++);co.splice(y,0,d),y===0&&j0(d)}};function Zx(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function Mg(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function U3(){}function YG(d,p,y,x,P){if(P){if(typeof x=="function"){var M=x;x=function(){var he=Ng(U);M.call(he)}}var U=F3(p,x,d,0,null,!1,!1,"",U3);return d._reactRootContainer=U,d[Ho]=U.current,ch(d.nodeType===8?d.parentNode:d),al(),U}for(;P=d.lastChild;)d.removeChild(P);if(typeof x=="function"){var J=x;x=function(){var he=Ng(ie);J.call(he)}}var ie=Xx(d,0,!1,null,null,!1,!1,"",U3);return d._reactRootContainer=ie,d[Ho]=ie.current,ch(d.nodeType===8?d.parentNode:d),al(function(){Dg(p,ie,y,x)}),ie}function Lg(d,p,y,x,P){var M=y._reactRootContainer;if(M){var U=M;if(typeof P=="function"){var J=P;P=function(){var ie=Ng(U);J.call(ie)}}Dg(p,U,d,P)}else U=YG(y,p,d,P,x);return Ng(U)}D0=function(d){switch(d.tag){case 3:var p=d.stateNode;if(p.current.memoizedState.isDehydrated){var y=Is(p.pendingLanes);y!==0&&(Ds(p,y|1),xi(p,nr()),(Rt&6)===0&&(Qc=nr()+500,Us()))}break;case 13:al(function(){var x=Yo(d,1);if(x!==null){var P=ni();qa(x,d,1,P)}}),Yx(d,1)}},bc=function(d){if(d.tag===13){var p=Yo(d,134217728);if(p!==null){var y=ni();qa(p,d,134217728,y)}Yx(d,134217728)}},N0=function(d){if(d.tag===13){var p=Gs(d),y=Yo(d,p);if(y!==null){var x=ni();qa(y,d,p,x)}Yx(d,p)}},k0=function(){return Ot},M0=function(d,p){var y=Ot;try{return Ot=d,p()}finally{Ot=y}},Fu=function(d,p,y){switch(p){case"input":if(Re(d,y),p=y.name,y.type==="radio"&&p!=null){for(y=d;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<y.length;p++){var x=y[p];if(x!==d&&x.form===d.form){var P=J0(x);if(!P)throw Error(r(90));Z(x),Re(x,P)}}}break;case"textarea":ft(d,y);break;case"select":p=y.value,p!=null&&it(d,!!y.multiple,p,!1)}},Bu=qx,Wd=al;var QG={usingClientEntryPoint:!1,Events:[hh,Fc,J0,uo,zd,qx]},Th={findFiberByHostInstance:Qu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZG={bundleType:Th.bundleType,version:Th.version,rendererPackageName:Th.rendererPackageName,rendererConfig:Th.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=Kd(d),d===null?null:d.stateNode},findFiberByHostInstance:Th.findFiberByHostInstance||XG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jg.isDisabled&&jg.supportsFiber)try{zu=jg.inject(ZG),ki=jg}catch{}}return bi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QG,bi.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zx(p))throw Error(r(200));return KG(d,p,null,y)},bi.createRoot=function(d,p){if(!Zx(d))throw Error(r(299));var y=!1,x="",P=$3;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(x=p.identifierPrefix),p.onRecoverableError!==void 0&&(P=p.onRecoverableError)),p=Xx(d,1,!1,null,null,y,!1,x,P),d[Ho]=p.current,ch(d.nodeType===8?d.parentNode:d),new Qx(p)},bi.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var p=d._reactInternals;if(p===void 0)throw typeof d.render=="function"?Error(r(188)):(d=Object.keys(d).join(","),Error(r(268,d)));return d=Kd(p),d=d===null?null:d.stateNode,d},bi.flushSync=function(d){return al(d)},bi.hydrate=function(d,p,y){if(!Mg(p))throw Error(r(200));return Lg(null,d,p,!0,y)},bi.hydrateRoot=function(d,p,y){if(!Zx(d))throw Error(r(405));var x=y!=null&&y.hydratedSources||null,P=!1,M="",U=$3;if(y!=null&&(y.unstable_strictMode===!0&&(P=!0),y.identifierPrefix!==void 0&&(M=y.identifierPrefix),y.onRecoverableError!==void 0&&(U=y.onRecoverableError)),p=F3(p,null,d,1,y??null,P,!1,M,U),d[Ho]=p.current,ch(d),x)for(d=0;d<x.length;d++)y=x[d],P=y._getVersion,P=P(y._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[y,P]:p.mutableSourceEagerHydrationData.push(y,P);return new kg(p)},bi.render=function(d,p,y){if(!Mg(p))throw Error(r(200));return Lg(null,d,p,!1,y)},bi.unmountComponentAtNode=function(d){if(!Mg(d))throw Error(r(40));return d._reactRootContainer?(al(function(){Lg(null,null,d,!1,function(){d._reactRootContainer=null,d[Ho]=null})}),!0):!1},bi.unstable_batchedUpdates=qx,bi.unstable_renderSubtreeIntoContainer=function(d,p,y,x){if(!Mg(y))throw Error(r(200));if(d==null||d._reactInternals===void 0)throw Error(r(38));return Lg(d,p,y,!1,x)},bi.version="18.3.1-next-f1338f8080-20240426",bi}var X3;function qC(){if(X3)return tb.exports;X3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tb.exports=sK(),tb.exports}var Y3;function uK(){if(Y3)return Fg;Y3=1;var t=qC();return Fg.createRoot=t.createRoot,Fg.hydrateRoot=t.hydrateRoot,Fg}var lK=uK();const cK=_t(lK);var fK=qC();const W7=_t(fK);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ip(){return Ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ip.apply(this,arguments)}var cu;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(cu||(cu={}));const Q3="popstate";function dK(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:o,hash:s}=n.location;return EO("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:G7(i)}return pK(e,r,null,t)}function sn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function H7(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hK(){return Math.random().toString(36).substr(2,8)}function Z3(t,e){return{usr:t.state,key:t.key,idx:e}}function EO(t,e,r,n){return r===void 0&&(r=null),Ip({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_d(e):e,{state:r,key:e&&e.key||n||hK()})}function G7(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function _d(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function pK(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s=cu.Pop,u=null,l=c();l==null&&(l=0,o.replaceState(Ip({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function f(){s=cu.Pop;let _=c(),b=_==null?null:_-l;l=_,u&&u({action:s,location:m.location,delta:b})}function h(_,b){s=cu.Push;let E=EO(m.location,_,b);l=c()+1;let A=Z3(E,l),C=m.createHref(E);try{o.pushState(A,"",C)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(C)}a&&u&&u({action:s,location:m.location,delta:1})}function v(_,b){s=cu.Replace;let E=EO(m.location,_,b);l=c();let A=Z3(E,l),C=m.createHref(E);o.replaceState(A,"",C),a&&u&&u({action:s,location:m.location,delta:0})}function g(_){let b=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof _=="string"?_:G7(_);return E=E.replace(/ $/,"%20"),sn(b,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,b)}let m={get action(){return s},get location(){return t(i,o)},listen(_){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Q3,f),u=_,()=>{i.removeEventListener(Q3,f),u=null}},createHref(_){return e(i,_)},createURL:g,encodeLocation(_){let b=g(_);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:v,go(_){return o.go(_)}};return m}var J3;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(J3||(J3={}));function vK(t,e,r){return r===void 0&&(r="/"),gK(t,e,r)}function gK(t,e,r,n){let i=typeof e=="string"?_d(e):e,a=Y7(i.pathname||"/",r);if(a==null)return null;let o=K7(t);mK(o);let s=null;for(let u=0;s==null&&u<o.length;++u){let l=IK(a);s=OK(o[u],l)}return s}function K7(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,s)=>{let u={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};u.relativePath.startsWith("/")&&(sn(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let l=Il([n,u.relativePath]),c=r.concat(u);a.children&&a.children.length>0&&(sn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),K7(a.children,e,c,l)),!(a.path==null&&!a.index)&&e.push({path:l,score:AK(l,a.index),routesMeta:c})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let u of X7(a.path))i(a,o,u)}),e}function X7(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=X7(n.join("/")),s=[];return s.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&s.push(...o),s.map(u=>t.startsWith("/")&&u===""?"/":u)}function mK(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:SK(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const yK=/^:[\w-]+$/,_K=3,wK=2,xK=1,bK=10,EK=-2,eN=t=>t==="*";function AK(t,e){let r=t.split("/"),n=r.length;return r.some(eN)&&(n+=EK),e&&(n+=wK),r.filter(i=>!eN(i)).reduce((i,a)=>i+(yK.test(a)?_K:a===""?xK:bK),n)}function SK(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function OK(t,e,r){let{routesMeta:n}=t,i={},a="/",o=[];for(let s=0;s<n.length;++s){let u=n[s],l=s===n.length-1,c=a==="/"?e:e.slice(a.length)||"/",f=TK({path:u.relativePath,caseSensitive:u.caseSensitive,end:l},c),h=u.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Il([a,f.pathname]),pathnameBase:MK(Il([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Il([a,f.pathnameBase]))}return o}function TK(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=CK(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((l,c,f)=>{let{paramName:h,isOptional:v}=c;if(h==="*"){let m=s[f]||"";o=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}const g=s[f];return v&&!g?l[h]=void 0:l[h]=(g||"").replace(/%2F/g,"/"),l},{}),pathname:a,pathnameBase:o,pattern:t}}function CK(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),H7(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,u)=>(n.push({paramName:s,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function IK(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return H7(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Y7(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function PK(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?_d(t):t;return{pathname:r?r.startsWith("/")?r:RK(r,e):e,search:LK(n),hash:jK(i)}}function RK(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function ib(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function DK(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function NK(t,e){let r=DK(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function kK(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=_d(t):(i=Ip({},t),sn(!i.pathname||!i.pathname.includes("?"),ib("?","pathname","search",i)),sn(!i.pathname||!i.pathname.includes("#"),ib("#","pathname","hash",i)),sn(!i.search||!i.search.includes("#"),ib("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let u=PK(i,s),l=o&&o!=="/"&&o.endsWith("/"),c=(a||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const Il=t=>t.join("/").replace(/\/\/+/g,"/"),MK=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LK=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jK=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function FK(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Q7=["post","put","patch","delete"];new Set(Q7);const BK=["get",...Q7];new Set(BK);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pp(){return Pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pp.apply(this,arguments)}const zC=z.createContext(null),$K=z.createContext(null),J1=z.createContext(null),e_=z.createContext(null),ac=z.createContext({outlet:null,matches:[],isDataRoute:!1}),Z7=z.createContext(null);function t_(){return z.useContext(e_)!=null}function J7(){return t_()||sn(!1),z.useContext(e_).location}function eB(t){z.useContext(J1).static||z.useLayoutEffect(t)}function UK(){let{isDataRoute:t}=z.useContext(ac);return t?tX():VK()}function VK(){t_()||sn(!1);let t=z.useContext(zC),{basename:e,future:r,navigator:n}=z.useContext(J1),{matches:i}=z.useContext(ac),{pathname:a}=J7(),o=JSON.stringify(NK(i,r.v7_relativeSplatPath)),s=z.useRef(!1);return eB(()=>{s.current=!0}),z.useCallback(function(l,c){if(c===void 0&&(c={}),!s.current)return;if(typeof l=="number"){n.go(l);return}let f=kK(l,JSON.parse(o),a,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Il([e,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[e,n,o,a,t])}function qK(){let{matches:t}=z.useContext(ac),e=t[t.length-1];return e?e.params:{}}function zK(t,e){return WK(t,e)}function WK(t,e,r,n){t_()||sn(!1);let{navigator:i}=z.useContext(J1),{matches:a}=z.useContext(ac),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let l=J7(),c;if(e){var f;let _=typeof e=="string"?_d(e):e;u==="/"||(f=_.pathname)!=null&&f.startsWith(u)||sn(!1),c=_}else c=l;let h=c.pathname||"/",v=h;if(u!=="/"){let _=u.replace(/^\//,"").split("/");v="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let g=vK(t,{pathname:v}),m=YK(g&&g.map(_=>Object.assign({},_,{params:Object.assign({},s,_.params),pathname:Il([u,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?u:Il([u,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),a,r,n);return e&&m?z.createElement(e_.Provider,{value:{location:Pp({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:cu.Pop}},m):m}function HK(){let t=eX(),e=FK(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),r?z.createElement("pre",{style:i},r):null,null)}const GK=z.createElement(HK,null);class KK extends z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?z.createElement(ac.Provider,{value:this.props.routeContext},z.createElement(Z7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XK(t){let{routeContext:e,match:r,children:n}=t,i=z.useContext(zC);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),z.createElement(ac.Provider,{value:e},n)}function YK(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,s=(i=r)==null?void 0:i.errors;if(s!=null){let c=o.findIndex(f=>f.route.id&&s?.[f.route.id]!==void 0);c>=0||sn(!1),o=o.slice(0,Math.min(o.length,c+1))}let u=!1,l=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:h,errors:v}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||g){u=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((c,f,h)=>{let v,g=!1,m=null,_=null;r&&(v=s&&f.route.id?s[f.route.id]:void 0,m=f.route.errorElement||GK,u&&(l<0&&h===0?(rX("route-fallback"),g=!0,_=null):l===h&&(g=!0,_=f.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,h+1)),E=()=>{let A;return v?A=m:g?A=_:f.route.Component?A=z.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=c,z.createElement(XK,{match:f,routeContext:{outlet:c,matches:b,isDataRoute:r!=null},children:A})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?z.createElement(KK,{location:r.location,revalidation:r.revalidation,component:m,error:v,children:E(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):E()},null)}var tB=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(tB||{}),rB=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(rB||{});function QK(t){let e=z.useContext(zC);return e||sn(!1),e}function ZK(t){let e=z.useContext($K);return e||sn(!1),e}function JK(t){let e=z.useContext(ac);return e||sn(!1),e}function nB(t){let e=JK(),r=e.matches[e.matches.length-1];return r.route.id||sn(!1),r.route.id}function eX(){var t;let e=z.useContext(Z7),r=ZK(),n=nB();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function tX(){let{router:t}=QK(tB.UseNavigateStable),e=nB(rB.UseNavigateStable),r=z.useRef(!1);return eB(()=>{r.current=!0}),z.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Pp({fromRouteId:e},a)))},[t,e])}const tN={};function rX(t,e,r){tN[t]||(tN[t]=!0)}function nX(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function AO(t){sn(!1)}function iX(t){let{basename:e="/",children:r=null,location:n,navigationType:i=cu.Pop,navigator:a,static:o=!1,future:s}=t;t_()&&sn(!1);let u=e.replace(/^\/*/,"/"),l=z.useMemo(()=>({basename:u,navigator:a,static:o,future:Pp({v7_relativeSplatPath:!1},s)}),[u,s,a,o]);typeof n=="string"&&(n=_d(n));let{pathname:c="/",search:f="",hash:h="",state:v=null,key:g="default"}=n,m=z.useMemo(()=>{let _=Y7(c,u);return _==null?null:{location:{pathname:_,search:f,hash:h,state:v,key:g},navigationType:i}},[u,c,f,h,v,g,i]);return m==null?null:z.createElement(J1.Provider,{value:l},z.createElement(e_.Provider,{children:r,value:m}))}function aX(t){let{children:e,location:r}=t;return zK(SO(e),r)}new Promise(()=>{});function SO(t,e){e===void 0&&(e=[]);let r=[];return z.Children.forEach(t,(n,i)=>{if(!z.isValidElement(n))return;let a=[...e,i];if(n.type===z.Fragment){r.push.apply(r,SO(n.props.children,a));return}n.type!==AO&&sn(!1),!n.props.index||!n.props.children||sn(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=SO(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const oX="6";try{window.__reactRouterVersion=oX}catch{}const sX="startTransition",rN=iK[sX];function uX(t){let{basename:e,children:r,future:n,window:i}=t,a=z.useRef();a.current==null&&(a.current=dK({window:i,v5Compat:!0}));let o=a.current,[s,u]=z.useState({action:o.action,location:o.location}),{v7_startTransition:l}=n||{},c=z.useCallback(f=>{l&&rN?rN(()=>u(f)):u(f)},[u,l]);return z.useLayoutEffect(()=>o.listen(c),[o,c]),z.useEffect(()=>nX(n),[n]),z.createElement(iX,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}var nN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(nN||(nN={}));var iN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(iN||(iN={}));var aN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},lX=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],s=t[r++],u=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[n++]=String.fromCharCode(55296+(u>>10)),e[n++]=String.fromCharCode(56320+(u&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},aB={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=a>>2,f=(a&3)<<4|s>>4;let h=(s&15)<<2|l>>6,v=l&63;u||(v=64,o||(h=64)),n.push(r[c],r[f],r[h],r[v])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iB(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lX(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],s=i<t.length?r[t.charAt(i)]:0;++i;const l=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||s==null||l==null||f==null)throw new cX;const h=a<<2|s>>4;if(n.push(h),l!==64){const v=s<<4&240|l>>2;if(n.push(v),f!==64){const g=l<<6&192|f;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cX extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fX=function(t){const e=iB(t);return aB.encodeByteArray(e,!0)},Ay=function(t){return fX(t).replace(/\./g,"")},oB=function(t){try{return aB.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dX(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hX=()=>dX().__FIREBASE_DEFAULTS__,pX=()=>{if(typeof process>"u"||typeof aN>"u")return;const t=aN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vX=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oB(t[1]);return e&&JSON.parse(e)},r_=()=>{try{return hX()||pX()||vX()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sB=t=>{var e,r;return(r=(e=r_())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},uB=t=>{const e=sB(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},lB=()=>{var t;return(t=r_())===null||t===void 0?void 0:t.config},cB=t=>{var e;return(e=r_())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gX{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ay(JSON.stringify(r)),Ay(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mX(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xn())}function yX(){var t;const e=(t=r_())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _X(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wX(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xX(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bX(){const t=Xn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function EX(){return!yX()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AX(){try{return typeof indexedDB=="object"}catch{return!1}}function SX(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OX="FirebaseError";class Bo extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=OX,Object.setPrototypeOf(this,Bo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uv.prototype.create)}}class Uv{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?TX(a,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new Bo(i,s,n)}}function TX(t,e){return t.replace(CX,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const CX=/\{\$([^}]+)}/g;function IX(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sy(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(oN(a)&&oN(o)){if(!Sy(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function oN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function ep(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function tp(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function PX(t,e){const r=new RX(t,e);return r.subscribe.bind(r)}class RX{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");DX(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=ab),i.error===void 0&&(i.error=ab),i.complete===void 0&&(i.complete=ab);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DX(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function ab(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(t){return t&&t._delegate?t._delegate:t}class xu{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NX{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new gX;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e?.identifier),i=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MX(e))try{this.getOrInitializeService({instanceIdentifier:gl})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=gl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gl){return this.instances.has(e)}getOptions(e=gl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:kX(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=gl){return this.component?this.component.multipleInstances?e:gl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kX(t){return t===gl?void 0:t}function MX(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LX{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new NX(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Tt||(Tt={}));const jX={debug:Tt.DEBUG,verbose:Tt.VERBOSE,info:Tt.INFO,warn:Tt.WARN,error:Tt.ERROR,silent:Tt.SILENT},FX=Tt.INFO,BX={[Tt.DEBUG]:"log",[Tt.VERBOSE]:"log",[Tt.INFO]:"info",[Tt.WARN]:"warn",[Tt.ERROR]:"error"},$X=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=BX[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class WC{constructor(e){this.name=e,this._logLevel=FX,this._logHandler=$X,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jX[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Tt.DEBUG,...e),this._logHandler(this,Tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Tt.VERBOSE,...e),this._logHandler(this,Tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Tt.INFO,...e),this._logHandler(this,Tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Tt.WARN,...e),this._logHandler(this,Tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Tt.ERROR,...e),this._logHandler(this,Tt.ERROR,...e)}}const UX=(t,e)=>e.some(r=>t instanceof r);let sN,uN;function VX(){return sN||(sN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qX(){return uN||(uN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dB=new WeakMap,OO=new WeakMap,hB=new WeakMap,ob=new WeakMap,HC=new WeakMap;function zX(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(vu(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&dB.set(r,t)}).catch(()=>{}),HC.set(e,t),e}function WX(t){if(OO.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});OO.set(t,e)}let TO={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return OO.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hB.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return vu(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HX(t){TO=t(TO)}function GX(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(sb(this),e,...r);return hB.set(n,e.sort?e.sort():[e]),vu(n)}:qX().includes(t)?function(...e){return t.apply(sb(this),e),vu(dB.get(this))}:function(...e){return vu(t.apply(sb(this),e))}}function KX(t){return typeof t=="function"?GX(t):(t instanceof IDBTransaction&&WX(t),UX(t,VX())?new Proxy(t,TO):t)}function vu(t){if(t instanceof IDBRequest)return zX(t);if(ob.has(t))return ob.get(t);const e=KX(t);return e!==t&&(ob.set(t,e),HC.set(e,t)),e}const sb=t=>HC.get(t);function XX(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=vu(o);return n&&o.addEventListener("upgradeneeded",u=>{n(vu(o.result),u.oldVersion,u.newVersion,vu(o.transaction),u)}),r&&o.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),s.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),s}const YX=["get","getKey","getAll","getAllKeys","count"],QX=["put","add","delete","clear"],ub=new Map;function lN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ub.get(e))return ub.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=QX.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||YX.includes(r)))return;const a=async function(o,...s){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return n&&(l=l.index(s.shift())),(await Promise.all([l[r](...s),i&&u.done]))[0]};return ub.set(e,a),a}HX(t=>({...t,get:(e,r,n)=>lN(e,r)||t.get(e,r,n),has:(e,r)=>!!lN(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZX{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(JX(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function JX(t){const e=t.getComponent();return e?.type==="VERSION"}const CO="@firebase/app",cN="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new WC("@firebase/app"),eY="@firebase/app-compat",tY="@firebase/analytics-compat",rY="@firebase/analytics",nY="@firebase/app-check-compat",iY="@firebase/app-check",aY="@firebase/auth",oY="@firebase/auth-compat",sY="@firebase/database",uY="@firebase/data-connect",lY="@firebase/database-compat",cY="@firebase/functions",fY="@firebase/functions-compat",dY="@firebase/installations",hY="@firebase/installations-compat",pY="@firebase/messaging",vY="@firebase/messaging-compat",gY="@firebase/performance",mY="@firebase/performance-compat",yY="@firebase/remote-config",_Y="@firebase/remote-config-compat",wY="@firebase/storage",xY="@firebase/storage-compat",bY="@firebase/firestore",EY="@firebase/vertexai-preview",AY="@firebase/firestore-compat",SY="firebase",OY="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="[DEFAULT]",TY={[CO]:"fire-core",[eY]:"fire-core-compat",[rY]:"fire-analytics",[tY]:"fire-analytics-compat",[iY]:"fire-app-check",[nY]:"fire-app-check-compat",[aY]:"fire-auth",[oY]:"fire-auth-compat",[sY]:"fire-rtdb",[uY]:"fire-data-connect",[lY]:"fire-rtdb-compat",[cY]:"fire-fn",[fY]:"fire-fn-compat",[dY]:"fire-iid",[hY]:"fire-iid-compat",[pY]:"fire-fcm",[vY]:"fire-fcm-compat",[gY]:"fire-perf",[mY]:"fire-perf-compat",[yY]:"fire-rc",[_Y]:"fire-rc-compat",[wY]:"fire-gcs",[xY]:"fire-gcs-compat",[bY]:"fire-fst",[AY]:"fire-fst-compat",[EY]:"fire-vertex","fire-js":"fire-js",[SY]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=new Map,CY=new Map,PO=new Map;function fN(t,e){try{t.container.addComponent(e)}catch(r){vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Fl(t){const e=t.name;if(PO.has(e))return vs.debug(`There were multiple attempts to register component ${e}.`),!1;PO.set(e,t);for(const r of Oy.values())fN(r,t);for(const r of CY.values())fN(r,t);return!0}function n_(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function wo(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gu=new Uv("app","Firebase",IY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PY{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new xu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=OY;function pB(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:IO,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw gu.create("bad-app-name",{appName:String(i)});if(r||(r=lB()),!r)throw gu.create("no-options");const a=Oy.get(i);if(a){if(Sy(r,a.options)&&Sy(n,a.config))return a;throw gu.create("duplicate-app",{appName:i})}const o=new LX(i);for(const u of PO.values())o.addComponent(u);const s=new PY(r,n,o);return Oy.set(i,s),s}function GC(t=IO){const e=Oy.get(t);if(!e&&t===IO&&lB())return pB();if(!e)throw gu.create("no-app",{appName:t});return e}function Ao(t,e,r){var n;let i=(n=TY[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vs.warn(s.join(" "));return}Fl(new xu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RY="firebase-heartbeat-database",DY=1,Rp="firebase-heartbeat-store";let lb=null;function vB(){return lb||(lb=XX(RY,DY,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Rp)}catch(r){console.warn(r)}}}}).catch(t=>{throw gu.create("idb-open",{originalErrorMessage:t.message})})),lb}async function NY(t){try{const r=(await vB()).transaction(Rp),n=await r.objectStore(Rp).get(gB(t));return await r.done,n}catch(e){if(e instanceof Bo)vs.warn(e.message);else{const r=gu.create("idb-get",{originalErrorMessage:e?.message});vs.warn(r.message)}}}async function dN(t,e){try{const n=(await vB()).transaction(Rp,"readwrite");await n.objectStore(Rp).put(e,gB(t)),await n.done}catch(r){if(r instanceof Bo)vs.warn(r.message);else{const n=gu.create("idb-set",{originalErrorMessage:r?.message});vs.warn(n.message)}}}function gB(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kY=1024,MY=720*60*60*1e3;class LY{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new FY(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=hN();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=MY}),this._storage.overwrite(this._heartbeatsCache))}catch(n){vs.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=hN(),{heartbeatsToSend:n,unsentEntries:i}=jY(this._heartbeatsCache.heartbeats),a=Ay(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return vs.warn(r),""}}}function hN(){return new Date().toISOString().substring(0,10)}function jY(t,e=kY){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),pN(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),pN(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class FY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AX()?SX().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await NY(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return dN(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return dN(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function pN(t){return Ay(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BY(t){Fl(new xu("platform-logger",e=>new ZX(e),"PRIVATE")),Fl(new xu("heartbeat",e=>new LY(e),"PRIVATE")),Ao(CO,cN,t),Ao(CO,cN,"esm2017"),Ao("fire-js","")}BY("");var $Y="firebase",UY="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ao($Y,UY,"app");function KC(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function mB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VY=mB,yB=new Uv("auth","Firebase",mB());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=new WC("@firebase/auth");function qY(t,...e){Ty.logLevel<=Tt.WARN&&Ty.warn(`Auth (${oc}): ${t}`,...e)}function Ym(t,...e){Ty.logLevel<=Tt.ERROR&&Ty.error(`Auth (${oc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t,...e){throw XC(t,...e)}function So(t,...e){return XC(t,...e)}function _B(t,e,r){const n=Object.assign(Object.assign({},VY()),{[e]:r});return new Uv("auth","Firebase",n).create(e,{appName:t.name})}function cs(t){return _B(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function XC(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return yB.create(t,...e)}function at(t,e,...r){if(!t)throw XC(e,...r)}function is(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ym(e),new Error(e)}function gs(t,e){t||is(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function zY(){return vN()==="http:"||vN()==="https:"}function vN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zY()||wX()||"connection"in navigator)?navigator.onLine:!0}function HY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,r){this.shortDelay=e,this.longDelay=r,gs(r>e,"Short delay should be less than long delay!"),this.isMobile=mX()||xX()}get(){return WY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(t,e){gs(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KY=new qv(3e4,6e4);function Cu(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Iu(t,e,r,n,i={}){return xB(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const s=Vv(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const l=Object.assign({method:e,headers:u},a);return _X()||(l.referrerPolicy="no-referrer"),wB.fetch()(bB(t,t.config.apiHost,r,s),l)})}async function xB(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},GY),e);try{const i=new YY(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Bg(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[u,l]=s.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bg(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Bg(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Bg(t,"user-disabled",o);const c=n[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw _B(t,c,l);eo(t,c)}}catch(i){if(i instanceof Bo)throw i;eo(t,"network-request-failed",{message:String(i)})}}async function zv(t,e,r,n,i={}){const a=await Iu(t,e,r,n,i);return"mfaPendingCredential"in a&&eo(t,"multi-factor-auth-required",{_serverResponse:a}),a}function bB(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?YC(t.config,i):`${t.config.apiScheme}://${i}`}function XY(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YY{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(So(this.auth,"network-request-failed")),KY.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bg(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=So(t,e,n);return i.customData._tokenResponse=r,i}function gN(t){return t!==void 0&&t.enterprise!==void 0}class QY{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return XY(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function ZY(t,e){return Iu(t,"GET","/v2/recaptchaConfig",Cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JY(t,e){return Iu(t,"POST","/v1/accounts:delete",e)}async function EB(t,e){return Iu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eQ(t,e=!1){const r=Sr(t),n=await r.getIdToken(e),i=QC(n);at(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:n,authTime:pp(cb(i.auth_time)),issuedAtTime:pp(cb(i.iat)),expirationTime:pp(cb(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function cb(t){return Number(t)*1e3}function QC(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Ym("JWT malformed, contained fewer than 3 sections"),null;try{const i=oB(r);return i?JSON.parse(i):(Ym("Failed to decode base64 JWT payload"),null)}catch(i){return Ym("Caught error parsing JWT payload as JSON",i?.toString()),null}}function mN(t){const e=QC(t);return at(e,"internal-error"),at(typeof e.exp<"u","internal-error"),at(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dp(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Bo&&tQ(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function tQ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=pp(this.lastLoginAt),this.creationTime=pp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cy(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Dp(t,EB(r,{idToken:n}));at(i?.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?AB(a.providerUserInfo):[],s=iQ(t.providerData,o),u=t.isAnonymous,l=!(t.email&&a.passwordHash)&&!s?.length,c=u?l:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new DO(a.createdAt,a.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function nQ(t){const e=Sr(t);await Cy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iQ(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function AB(t){return t.map(e=>{var{providerId:r}=e,n=KC(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aQ(t,e){const r=await xB(t,{},async()=>{const n=Vv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=bB(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",wB.fetch()(o,{method:"POST",headers:s,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function oQ(t,e){return Iu(t,"POST","/v2/accounts:revokeToken",Cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){at(e.idToken,"internal-error"),at(typeof e.idToken<"u","internal-error"),at(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){at(e.length!==0,"internal-error");const r=mN(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(at(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await aQ(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new Of;return n&&(at(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(at(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(at(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Of,this.toJSON())}_performRefresh(){return is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(t,e){at(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class as{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=KC(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new DO(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await Dp(this,this.stsTokenManager.getToken(this.auth,e));return at(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return eQ(this,e)}reload(){return nQ(this)}_assign(e){this!==e&&(at(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new as(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){at(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Cy(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wo(this.auth.app))return Promise.reject(cs(this.auth));const e=await this.getIdToken();return await Dp(this,JY(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,o,s,u,l,c;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,h=(i=r.email)!==null&&i!==void 0?i:void 0,v=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,g=(o=r.photoURL)!==null&&o!==void 0?o:void 0,m=(s=r.tenantId)!==null&&s!==void 0?s:void 0,_=(u=r._redirectEventId)!==null&&u!==void 0?u:void 0,b=(l=r.createdAt)!==null&&l!==void 0?l:void 0,E=(c=r.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:A,emailVerified:C,isAnonymous:O,providerData:R,stsTokenManager:I}=r;at(A&&I,e,"internal-error");const S=Of.fromJSON(this.name,I);at(typeof A=="string",e,"internal-error"),Qs(f,e.name),Qs(h,e.name),at(typeof C=="boolean",e,"internal-error"),at(typeof O=="boolean",e,"internal-error"),Qs(v,e.name),Qs(g,e.name),Qs(m,e.name),Qs(_,e.name),Qs(b,e.name),Qs(E,e.name);const T=new as({uid:A,auth:e,email:h,emailVerified:C,displayName:f,isAnonymous:O,photoURL:g,phoneNumber:v,tenantId:m,stsTokenManager:S,createdAt:b,lastLoginAt:E});return R&&Array.isArray(R)&&(T.providerData=R.map(D=>Object.assign({},D))),_&&(T._redirectEventId=_),T}static async _fromIdTokenResponse(e,r,n=!1){const i=new Of;i.updateFromServerResponse(r);const a=new as({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Cy(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];at(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?AB(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!a?.length,s=new Of;s.updateFromIdToken(n);const u=new as({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new DO(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(u,l),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new Map;function os(t){gs(t instanceof Function,"Expected a class definition");let e=yN.get(t);return e?(gs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}SB.type="NONE";const _N=SB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(t,e,r){return`firebase:${t}:${e}:${r}`}class Tf{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Qm(this.userKey,i.apiKey,a),this.fullPersistenceKey=Qm("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?as._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Tf(os(_N),e,n);const i=(await Promise.all(r.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let a=i[0]||os(_N);const o=Qm(n,e.config.apiKey,e.name);let s=null;for(const l of r)try{const c=await l._get(o);if(c){const f=as._fromJSON(e,c);l!==a&&(s=f),a=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new Tf(a,e,n):(a=u[0],s&&await a._set(o,s.toJSON()),await Promise.all(r.map(async l=>{if(l!==a)try{await l._remove(o)}catch{}})),new Tf(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RB(e))return"Blackberry";if(DB(e))return"Webos";if(TB(e))return"Safari";if((e.includes("chrome/")||CB(e))&&!e.includes("edge/"))return"Chrome";if(PB(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function OB(t=Xn()){return/firefox\//i.test(t)}function TB(t=Xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CB(t=Xn()){return/crios\//i.test(t)}function IB(t=Xn()){return/iemobile/i.test(t)}function PB(t=Xn()){return/android/i.test(t)}function RB(t=Xn()){return/blackberry/i.test(t)}function DB(t=Xn()){return/webos/i.test(t)}function ZC(t=Xn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sQ(t=Xn()){var e;return ZC(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uQ(){return bX()&&document.documentMode===10}function NB(t=Xn()){return ZC(t)||PB(t)||DB(t)||RB(t)||/windows phone/i.test(t)||IB(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kB(t,e=[]){let r;switch(t){case"Browser":r=wN(Xn());break;case"Worker":r=`${wN(Xn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${oc}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lQ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,s)=>{try{const u=e(a);o(u)}catch(u){s(u)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cQ(t,e={}){return Iu(t,"GET","/v2/passwordPolicy",Cu(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fQ=6;class dQ{constructor(e){var r,n,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:fQ,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,o,s;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(r=u.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(n=u.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(a=u.containsUppercaseLetter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),u}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hQ{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xN(this),this.idTokenSubscription=new xN(this),this.beforeStateQueue=new lQ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=os(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Tf.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await EB(this,{idToken:e}),n=await as._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(wo(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,s=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===s)&&u?.user&&(i=u.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return at(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Cy(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HY()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wo(this.app))return Promise.reject(cs(this));const r=e?Sr(e):null;return r&&at(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&at(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wo(this.app)?Promise.reject(cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wo(this.app)?Promise.reject(cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(os(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cQ(this),r=new dQ(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Uv("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await oQ(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&os(e)||this._popupRedirectResolver;at(r,this,"argument-error"),this.redirectPersistenceManager=await Tf.create(this,[os(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(at(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const u=e.addObserver(r,n,i);return()=>{o=!0,u()}}else{const u=e.addObserver(r);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return at(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r?.error&&qY(`Error while retrieving App Check token: ${r.error}`),r?.token}}function sc(t){return Sr(t)}class xN{constructor(e){this.auth=e,this.observer=null,this.addObserver=PX(r=>this.observer=r)}get next(){return at(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pQ(t){i_=t}function MB(t){return i_.loadJS(t)}function vQ(){return i_.recaptchaEnterpriseScript}function gQ(){return i_.gapiScript}function mQ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const yQ="recaptcha-enterprise",_Q="NO_RECAPTCHA";class wQ{constructor(e){this.type=yQ,this.auth=sc(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{ZY(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const l=new QY(u);return a.tenantId==null?a._agentRecaptchaConfig=l:a._tenantRecaptchaConfigs[a.tenantId]=l,o(l.siteKey)}}).catch(u=>{s(u)})})}function i(a,o,s){const u=window.grecaptcha;gN(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(l=>{o(l)}).catch(()=>{o(_Q)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,o)=>{n(this.auth).then(s=>{if(!r&&gN(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=vQ();u.length!==0&&(u+=s),MB(u).then(()=>{i(s,a,o)}).catch(l=>{o(l)})}}).catch(s=>{o(s)})})}}async function bN(t,e,r,n=!1){const i=new wQ(t);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const o=Object.assign({},e);return n?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function NO(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await bN(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await bN(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xQ(t,e){const r=n_(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Sy(a,e??{}))return i;eo(i,"already-initialized")}return r.initialize({options:e})}function bQ(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(os);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function EQ(t,e,r){const n=sc(t);at(n._canInitEmulator,n,"emulator-config-failed"),at(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=LB(e),{host:o,port:s}=AQ(e),u=s===null?"":`:${s}`;n.config.emulator={url:`${a}//${o}${u}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),SQ()}function LB(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function AQ(t){const e=LB(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:EN(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:EN(o)}}}function EN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function SQ(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return is("not implemented")}_getIdTokenResponse(e){return is("not implemented")}_linkToIdToken(e,r){return is("not implemented")}_getReauthenticationResolver(e){return is("not implemented")}}async function OQ(t,e){return Iu(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TQ(t,e){return zv(t,"POST","/v1/accounts:signInWithPassword",Cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CQ(t,e){return zv(t,"POST","/v1/accounts:signInWithEmailLink",Cu(t,e))}async function IQ(t,e){return zv(t,"POST","/v1/accounts:signInWithEmailLink",Cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np extends JC{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Np(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Np(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return NO(e,r,"signInWithPassword",TQ);case"emailLink":return CQ(e,{email:this._email,oobCode:this._password});default:eo(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return NO(e,n,"signUpPassword",OQ);case"emailLink":return IQ(e,{idToken:r,email:this._email,oobCode:this._password});default:eo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cf(t,e){return zv(t,"POST","/v1/accounts:signInWithIdp",Cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PQ="http://localhost";class Bl extends JC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Bl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):eo("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=KC(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new Bl(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Cf(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Cf(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Cf(e,r)}buildRequest(){const e={requestUri:PQ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Vv(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RQ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DQ(t){const e=ep(tp(t)).link,r=e?ep(tp(e)).deep_link_id:null,n=ep(tp(t)).deep_link_id;return(n?ep(tp(n)).link:null)||n||r||e||t}class eI{constructor(e){var r,n,i,a,o,s;const u=ep(tp(e)),l=(r=u.apiKey)!==null&&r!==void 0?r:null,c=(n=u.oobCode)!==null&&n!==void 0?n:null,f=RQ((i=u.mode)!==null&&i!==void 0?i:null);at(l&&c&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=c,this.continueUrl=(a=u.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(s=u.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const r=DQ(e);try{return new eI(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(){this.providerId=wd.PROVIDER_ID}static credential(e,r){return Np._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=eI.parseLink(r);return at(n,"argument-error"),Np._fromEmailAndCode(e,n.code,n.tenantId)}}wd.PROVIDER_ID="password";wd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv extends jB{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends Wv{constructor(){super("facebook.com")}static credential(e){return Bl._fromParams({providerId:nu.PROVIDER_ID,signInMethod:nu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nu.credentialFromTaggedObject(e)}static credentialFromError(e){return nu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nu.credential(e.oauthAccessToken)}catch{return null}}}nu.FACEBOOK_SIGN_IN_METHOD="facebook.com";nu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends Wv{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Bl._fromParams({providerId:iu.PROVIDER_ID,signInMethod:iu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return iu.credentialFromTaggedObject(e)}static credentialFromError(e){return iu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return iu.credential(r,n)}catch{return null}}}iu.GOOGLE_SIGN_IN_METHOD="google.com";iu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends Wv{constructor(){super("github.com")}static credential(e){return Bl._fromParams({providerId:au.PROVIDER_ID,signInMethod:au.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return au.credentialFromTaggedObject(e)}static credentialFromError(e){return au.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return au.credential(e.oauthAccessToken)}catch{return null}}}au.GITHUB_SIGN_IN_METHOD="github.com";au.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends Wv{constructor(){super("twitter.com")}static credential(e,r){return Bl._fromParams({providerId:ou.PROVIDER_ID,signInMethod:ou.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return ou.credentialFromTaggedObject(e)}static credentialFromError(e){return ou.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return ou.credential(r,n)}catch{return null}}}ou.TWITTER_SIGN_IN_METHOD="twitter.com";ou.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NQ(t,e){return zv(t,"POST","/v1/accounts:signUp",Cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await as._fromIdTokenResponse(e,n,i),o=AN(n);return new $l({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=AN(n);return new $l({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function AN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy extends Bo{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Iy.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Iy(e,r,n,i)}}function FB(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Iy._fromErrorAndOperation(t,a,e,n):a})}async function kQ(t,e,r=!1){const n=await Dp(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return $l._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MQ(t,e,r=!1){const{auth:n}=t;if(wo(n.app))return Promise.reject(cs(n));const i="reauthenticate";try{const a=await Dp(t,FB(n,i,e,t),r);at(a.idToken,n,"internal-error");const o=QC(a.idToken);at(o,n,"internal-error");const{sub:s}=o;return at(t.uid===s,n,"user-mismatch"),$l._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&eo(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BB(t,e,r=!1){if(wo(t.app))return Promise.reject(cs(t));const n="signIn",i=await FB(t,n,e),a=await $l._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function LQ(t,e){return BB(sc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $B(t){const e=sc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function UB(t,e,r){if(wo(t.app))return Promise.reject(cs(t));const n=sc(t),o=await NO(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",NQ).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&$B(t),u}),s=await $l._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(s.user),s}function VB(t,e,r){return wo(t.app)?Promise.reject(cs(t)):LQ(Sr(t),wd.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&$B(t),n})}function jQ(t,e,r,n){return Sr(t).onIdTokenChanged(e,r,n)}function FQ(t,e,r){return Sr(t).beforeAuthStateChanged(e,r)}function tI(t,e,r,n){return Sr(t).onAuthStateChanged(e,r,n)}function qB(t){return Sr(t).signOut()}const Py="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Py,"1"),this.storage.removeItem(Py),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BQ=1e3,$Q=10;class WB extends zB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NB(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,s,u)=>{this.notifyListeners(o,u)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);uQ()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$Q):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},BQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}WB.type="LOCAL";const UQ=WB;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB extends zB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}HB.type="SESSION";const GB=HB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VQ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new a_(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!o?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map(async l=>l(r.origin,a)),u=await VQ(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:u})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}a_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,u)=>{const l=rI("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(h.data.response);break;default:clearTimeout(c),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(){return window}function zQ(t){Oo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KB(){return typeof Oo().WorkerGlobalScope<"u"&&typeof Oo().importScripts=="function"}async function WQ(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HQ(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function GQ(){return KB()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XB="firebaseLocalStorageDb",KQ=1,Ry="firebaseLocalStorage",YB="fbase_key";class Hv{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function o_(t,e){return t.transaction([Ry],e?"readwrite":"readonly").objectStore(Ry)}function XQ(){const t=indexedDB.deleteDatabase(XB);return new Hv(t).toPromise()}function kO(){const t=indexedDB.open(XB,KQ);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Ry,{keyPath:YB})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Ry)?e(n):(n.close(),await XQ(),e(await kO()))})})}async function SN(t,e,r){const n=o_(t,!0).put({[YB]:e,value:r});return new Hv(n).toPromise()}async function YQ(t,e){const r=o_(t,!1).get(e),n=await new Hv(r).toPromise();return n===void 0?null:n.value}function ON(t,e){const r=o_(t,!0).delete(e);return new Hv(r).toPromise()}const QQ=800,ZQ=3;class QB{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kO(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>ZQ)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KB()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=a_._getInstance(GQ()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await WQ(),!this.activeServiceWorker)return;this.sender=new qQ(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kO();return await SN(e,Py,"1"),await ON(e,Py),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>SN(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>YQ(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>ON(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=o_(i,!1).getAll();return new Hv(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QB.type="LOCAL";const JQ=QB;new qv(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eZ(t,e){return e?os(e):(at(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI extends JC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cf(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Cf(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Cf(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function tZ(t){return BB(t.auth,new nI(t),t.bypassAuthState)}function rZ(t){const{auth:e,user:r}=t;return at(r,e,"internal-error"),MQ(r,new nI(t),t.bypassAuthState)}async function nZ(t){const{auth:e,user:r}=t;return at(r,e,"internal-error"),kQ(r,new nI(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tZ;case"linkViaPopup":case"linkViaRedirect":return nZ;case"reauthViaPopup":case"reauthViaRedirect":return rZ;default:eo(this.auth,"internal-error")}}resolve(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iZ=new qv(2e3,1e4);class vf extends ZB{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,vf.currentPopupAction&&vf.currentPopupAction.cancel(),vf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return at(e,this.auth,"internal-error"),e}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const e=rI();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(So(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(So(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(So(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iZ.get())};e()}}vf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aZ="pendingRedirect",Zm=new Map;class oZ extends ZB{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Zm.get(this.auth._key());if(!e){try{const n=await sZ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Zm.set(this.auth._key(),e)}return this.bypassAuthState||Zm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sZ(t,e){const r=cZ(e),n=lZ(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function uZ(t,e){Zm.set(t._key(),e)}function lZ(t){return os(t._redirectPersistence)}function cZ(t){return Qm(aZ,t.config.apiKey,t.name)}async function fZ(t,e,r=!1){if(wo(t.app))return Promise.reject(cs(t));const n=sc(t),i=eZ(n,e),o=await new oZ(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dZ=600*1e3;class hZ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pZ(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!JB(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(So(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dZ&&this.cachedEventUids.clear(),this.cachedEventUids.has(TN(e))}saveEventToCache(e){this.cachedEventUids.add(TN(e)),this.lastProcessedEventTime=Date.now()}}function TN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function JB({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function pZ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JB(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vZ(t,e={}){return Iu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mZ=/^https?/;async function yZ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await vZ(t);for(const r of e)try{if(_Z(r))return}catch{}eo(t,"unauthorized-domain")}function _Z(t){const e=RO(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!mZ.test(r))return!1;if(gZ.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wZ=new qv(3e4,6e4);function CN(){const t=Oo().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function xZ(t){return new Promise((e,r)=>{var n,i,a;function o(){CN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CN(),r(So(t,"network-request-failed"))},timeout:wZ.get()})}if(!((i=(n=Oo().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Oo().gapi)===null||a===void 0)&&a.load)o();else{const s=mQ("iframefcb");return Oo()[s]=()=>{gapi.load?o():r(So(t,"network-request-failed"))},MB(`${gQ()}?onload=${s}`).catch(u=>r(u))}}).catch(e=>{throw Jm=null,e})}let Jm=null;function bZ(t){return Jm=Jm||xZ(t),Jm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EZ=new qv(5e3,15e3),AZ="__/auth/iframe",SZ="emulator/auth/iframe",OZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CZ(t){const e=t.config;at(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?YC(e,SZ):`https://${t.config.authDomain}/${AZ}`,n={apiKey:e.apiKey,appName:t.name,v:oc},i=TZ.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Vv(n).slice(1)}`}async function IZ(t){const e=await bZ(t),r=Oo().gapi;return at(r,t,"internal-error"),e.open({where:document.body,url:CZ(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OZ,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=So(t,"network-request-failed"),s=Oo().setTimeout(()=>{a(o)},EZ.get());function u(){Oo().clearTimeout(s),i(n)}n.ping(u).then(u,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RZ=500,DZ=600,NZ="_blank",kZ="http://localhost";class IN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MZ(t,e,r,n=RZ,i=DZ){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const u=Object.assign(Object.assign({},PZ),{width:n.toString(),height:i.toString(),top:a,left:o}),l=Xn().toLowerCase();r&&(s=CB(l)?NZ:r),OB(l)&&(e=e||kZ,u.scrollbars="yes");const c=Object.entries(u).reduce((h,[v,g])=>`${h}${v}=${g},`,"");if(sQ(l)&&s!=="_self")return LZ(e||"",s),new IN(null);const f=window.open(e||"",s,c);at(f,t,"popup-blocked");try{f.focus()}catch{}return new IN(f)}function LZ(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jZ="__/auth/handler",FZ="emulator/auth/handler",BZ=encodeURIComponent("fac");async function PN(t,e,r,n,i,a){at(t.config.authDomain,t,"auth-domain-config-required"),at(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:oc,eventId:i};if(e instanceof jB){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",IX(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))o[c]=f}if(e instanceof Wv){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const u=await t._getAppCheckToken(),l=u?`#${BZ}=${encodeURIComponent(u)}`:"";return`${$Z(t)}?${Vv(s).slice(1)}${l}`}function $Z({config:t}){return t.emulator?YC(t,FZ):`https://${t.authDomain}/${jZ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="webStorageSupport";class UZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GB,this._completeRedirectFn=fZ,this._overrideRedirectResult=uZ}async _openPopup(e,r,n,i){var a;gs((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await PN(e,r,n,RO(),i);return MZ(e,o,rI())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await PN(e,r,n,RO(),i);return zQ(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(gs(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await IZ(e),n=new hZ(e);return r.register("authEvent",i=>(at(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(fb,{type:fb},i=>{var a;const o=(a=i?.[0])===null||a===void 0?void 0:a[fb];o!==void 0&&r(!!o),eo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=yZ(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return NB()||TB()||ZC()}}const VZ=UZ;var RN="@firebase/auth",DN="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qZ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){at(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zZ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WZ(t){Fl(new xu("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;at(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const u={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kB(t)},l=new hQ(n,i,a,u);return bQ(l,r),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Fl(new xu("auth-internal",e=>{const r=sc(e.getProvider("auth").getImmediate());return(n=>new qZ(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ao(RN,DN,zZ(t)),Ao(RN,DN,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HZ=300,GZ=cB("authIdTokenMaxAge")||HZ;let NN=null;const KZ=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>GZ)return;const i=r?.token;NN!==i&&(NN=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function XZ(t=GC()){const e=n_(t,"auth");if(e.isInitialized())return e.getImmediate();const r=xQ(t,{popupRedirectResolver:VZ,persistence:[JQ,UQ,GB]}),n=cB("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=KZ(a.toString());FQ(r,o,()=>o(r.currentUser)),jQ(r,s=>o(s))}}const i=sB("auth");return i&&EQ(r,`http://${i}`),r}function YZ(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}pQ({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=So("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",YZ().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WZ("Browser");var kN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pl,e$;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function T(){}T.prototype=S.prototype,I.D=S.prototype,I.prototype=new T,I.prototype.constructor=I,I.C=function(D,L,F){for(var j=Array(arguments.length-2),K=2;K<arguments.length;K++)j[K-2]=arguments[K];return S.prototype[L].apply(D,j)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,S,T){T||(T=0);var D=Array(16);if(typeof S=="string")for(var L=0;16>L;++L)D[L]=S.charCodeAt(T++)|S.charCodeAt(T++)<<8|S.charCodeAt(T++)<<16|S.charCodeAt(T++)<<24;else for(L=0;16>L;++L)D[L]=S[T++]|S[T++]<<8|S[T++]<<16|S[T++]<<24;S=I.g[0],T=I.g[1],L=I.g[2];var F=I.g[3],j=S+(F^T&(L^F))+D[0]+3614090360&4294967295;S=T+(j<<7&4294967295|j>>>25),j=F+(L^S&(T^L))+D[1]+3905402710&4294967295,F=S+(j<<12&4294967295|j>>>20),j=L+(T^F&(S^T))+D[2]+606105819&4294967295,L=F+(j<<17&4294967295|j>>>15),j=T+(S^L&(F^S))+D[3]+3250441966&4294967295,T=L+(j<<22&4294967295|j>>>10),j=S+(F^T&(L^F))+D[4]+4118548399&4294967295,S=T+(j<<7&4294967295|j>>>25),j=F+(L^S&(T^L))+D[5]+1200080426&4294967295,F=S+(j<<12&4294967295|j>>>20),j=L+(T^F&(S^T))+D[6]+2821735955&4294967295,L=F+(j<<17&4294967295|j>>>15),j=T+(S^L&(F^S))+D[7]+4249261313&4294967295,T=L+(j<<22&4294967295|j>>>10),j=S+(F^T&(L^F))+D[8]+1770035416&4294967295,S=T+(j<<7&4294967295|j>>>25),j=F+(L^S&(T^L))+D[9]+2336552879&4294967295,F=S+(j<<12&4294967295|j>>>20),j=L+(T^F&(S^T))+D[10]+4294925233&4294967295,L=F+(j<<17&4294967295|j>>>15),j=T+(S^L&(F^S))+D[11]+2304563134&4294967295,T=L+(j<<22&4294967295|j>>>10),j=S+(F^T&(L^F))+D[12]+1804603682&4294967295,S=T+(j<<7&4294967295|j>>>25),j=F+(L^S&(T^L))+D[13]+4254626195&4294967295,F=S+(j<<12&4294967295|j>>>20),j=L+(T^F&(S^T))+D[14]+2792965006&4294967295,L=F+(j<<17&4294967295|j>>>15),j=T+(S^L&(F^S))+D[15]+1236535329&4294967295,T=L+(j<<22&4294967295|j>>>10),j=S+(L^F&(T^L))+D[1]+4129170786&4294967295,S=T+(j<<5&4294967295|j>>>27),j=F+(T^L&(S^T))+D[6]+3225465664&4294967295,F=S+(j<<9&4294967295|j>>>23),j=L+(S^T&(F^S))+D[11]+643717713&4294967295,L=F+(j<<14&4294967295|j>>>18),j=T+(F^S&(L^F))+D[0]+3921069994&4294967295,T=L+(j<<20&4294967295|j>>>12),j=S+(L^F&(T^L))+D[5]+3593408605&4294967295,S=T+(j<<5&4294967295|j>>>27),j=F+(T^L&(S^T))+D[10]+38016083&4294967295,F=S+(j<<9&4294967295|j>>>23),j=L+(S^T&(F^S))+D[15]+3634488961&4294967295,L=F+(j<<14&4294967295|j>>>18),j=T+(F^S&(L^F))+D[4]+3889429448&4294967295,T=L+(j<<20&4294967295|j>>>12),j=S+(L^F&(T^L))+D[9]+568446438&4294967295,S=T+(j<<5&4294967295|j>>>27),j=F+(T^L&(S^T))+D[14]+3275163606&4294967295,F=S+(j<<9&4294967295|j>>>23),j=L+(S^T&(F^S))+D[3]+4107603335&4294967295,L=F+(j<<14&4294967295|j>>>18),j=T+(F^S&(L^F))+D[8]+1163531501&4294967295,T=L+(j<<20&4294967295|j>>>12),j=S+(L^F&(T^L))+D[13]+2850285829&4294967295,S=T+(j<<5&4294967295|j>>>27),j=F+(T^L&(S^T))+D[2]+4243563512&4294967295,F=S+(j<<9&4294967295|j>>>23),j=L+(S^T&(F^S))+D[7]+1735328473&4294967295,L=F+(j<<14&4294967295|j>>>18),j=T+(F^S&(L^F))+D[12]+2368359562&4294967295,T=L+(j<<20&4294967295|j>>>12),j=S+(T^L^F)+D[5]+4294588738&4294967295,S=T+(j<<4&4294967295|j>>>28),j=F+(S^T^L)+D[8]+2272392833&4294967295,F=S+(j<<11&4294967295|j>>>21),j=L+(F^S^T)+D[11]+1839030562&4294967295,L=F+(j<<16&4294967295|j>>>16),j=T+(L^F^S)+D[14]+4259657740&4294967295,T=L+(j<<23&4294967295|j>>>9),j=S+(T^L^F)+D[1]+2763975236&4294967295,S=T+(j<<4&4294967295|j>>>28),j=F+(S^T^L)+D[4]+1272893353&4294967295,F=S+(j<<11&4294967295|j>>>21),j=L+(F^S^T)+D[7]+4139469664&4294967295,L=F+(j<<16&4294967295|j>>>16),j=T+(L^F^S)+D[10]+3200236656&4294967295,T=L+(j<<23&4294967295|j>>>9),j=S+(T^L^F)+D[13]+681279174&4294967295,S=T+(j<<4&4294967295|j>>>28),j=F+(S^T^L)+D[0]+3936430074&4294967295,F=S+(j<<11&4294967295|j>>>21),j=L+(F^S^T)+D[3]+3572445317&4294967295,L=F+(j<<16&4294967295|j>>>16),j=T+(L^F^S)+D[6]+76029189&4294967295,T=L+(j<<23&4294967295|j>>>9),j=S+(T^L^F)+D[9]+3654602809&4294967295,S=T+(j<<4&4294967295|j>>>28),j=F+(S^T^L)+D[12]+3873151461&4294967295,F=S+(j<<11&4294967295|j>>>21),j=L+(F^S^T)+D[15]+530742520&4294967295,L=F+(j<<16&4294967295|j>>>16),j=T+(L^F^S)+D[2]+3299628645&4294967295,T=L+(j<<23&4294967295|j>>>9),j=S+(L^(T|~F))+D[0]+4096336452&4294967295,S=T+(j<<6&4294967295|j>>>26),j=F+(T^(S|~L))+D[7]+1126891415&4294967295,F=S+(j<<10&4294967295|j>>>22),j=L+(S^(F|~T))+D[14]+2878612391&4294967295,L=F+(j<<15&4294967295|j>>>17),j=T+(F^(L|~S))+D[5]+4237533241&4294967295,T=L+(j<<21&4294967295|j>>>11),j=S+(L^(T|~F))+D[12]+1700485571&4294967295,S=T+(j<<6&4294967295|j>>>26),j=F+(T^(S|~L))+D[3]+2399980690&4294967295,F=S+(j<<10&4294967295|j>>>22),j=L+(S^(F|~T))+D[10]+4293915773&4294967295,L=F+(j<<15&4294967295|j>>>17),j=T+(F^(L|~S))+D[1]+2240044497&4294967295,T=L+(j<<21&4294967295|j>>>11),j=S+(L^(T|~F))+D[8]+1873313359&4294967295,S=T+(j<<6&4294967295|j>>>26),j=F+(T^(S|~L))+D[15]+4264355552&4294967295,F=S+(j<<10&4294967295|j>>>22),j=L+(S^(F|~T))+D[6]+2734768916&4294967295,L=F+(j<<15&4294967295|j>>>17),j=T+(F^(L|~S))+D[13]+1309151649&4294967295,T=L+(j<<21&4294967295|j>>>11),j=S+(L^(T|~F))+D[4]+4149444226&4294967295,S=T+(j<<6&4294967295|j>>>26),j=F+(T^(S|~L))+D[11]+3174756917&4294967295,F=S+(j<<10&4294967295|j>>>22),j=L+(S^(F|~T))+D[2]+718787259&4294967295,L=F+(j<<15&4294967295|j>>>17),j=T+(F^(L|~S))+D[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(L+(j<<21&4294967295|j>>>11))&4294967295,I.g[2]=I.g[2]+L&4294967295,I.g[3]=I.g[3]+F&4294967295}n.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var T=S-this.blockSize,D=this.B,L=this.h,F=0;F<S;){if(L==0)for(;F<=T;)i(this,I,F),F+=this.blockSize;if(typeof I=="string"){for(;F<S;)if(D[L++]=I.charCodeAt(F++),L==this.blockSize){i(this,D),L=0;break}}else for(;F<S;)if(D[L++]=I[F++],L==this.blockSize){i(this,D),L=0;break}}this.h=L,this.o+=S},n.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var T=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=T&255,T/=256;for(this.u(I),I=Array(16),S=T=0;4>S;++S)for(var D=0;32>D;D+=8)I[T++]=this.g[S]>>>D&255;return I};function a(I,S){var T=s;return Object.prototype.hasOwnProperty.call(T,I)?T[I]:T[I]=S(I)}function o(I,S){this.h=S;for(var T=[],D=!0,L=I.length-1;0<=L;L--){var F=I[L]|0;D&&F==S||(T[L]=F,D=!1)}this.g=T}var s={};function u(I){return-128<=I&&128>I?a(I,function(S){return new o([S|0],0>S?-1:0)}):new o([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return _(l(-I));for(var S=[],T=1,D=0;I>=T;D++)S[D]=I/T|0,T*=4294967296;return new o(S,0)}function c(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return _(c(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=l(Math.pow(S,8)),D=f,L=0;L<I.length;L+=8){var F=Math.min(8,I.length-L),j=parseInt(I.substring(L,L+F),S);8>F?(F=l(Math.pow(S,F)),D=D.j(F).add(l(j))):(D=D.j(T),D=D.add(l(j)))}return D}var f=u(0),h=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(m(this))return-_(this).m();for(var I=0,S=1,T=0;T<this.g.length;T++){var D=this.i(T);I+=(0<=D?D:4294967296+D)*S,S*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(g(this))return"0";if(m(this))return"-"+_(this).toString(I);for(var S=l(Math.pow(I,6)),T=this,D="";;){var L=C(T,S).g;T=b(T,L.j(S));var F=((0<T.g.length?T.g[0]:T.h)>>>0).toString(I);if(T=L,g(T))return F+D;for(;6>F.length;)F="0"+F;D=F+D}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function g(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function m(I){return I.h==-1}t.l=function(I){return I=b(this,I),m(I)?-1:g(I)?0:1};function _(I){for(var S=I.g.length,T=[],D=0;D<S;D++)T[D]=~I.g[D];return new o(T,~I.h).add(h)}t.abs=function(){return m(this)?_(this):this},t.add=function(I){for(var S=Math.max(this.g.length,I.g.length),T=[],D=0,L=0;L<=S;L++){var F=D+(this.i(L)&65535)+(I.i(L)&65535),j=(F>>>16)+(this.i(L)>>>16)+(I.i(L)>>>16);D=j>>>16,F&=65535,j&=65535,T[L]=j<<16|F}return new o(T,T[T.length-1]&-2147483648?-1:0)};function b(I,S){return I.add(_(S))}t.j=function(I){if(g(this)||g(I))return f;if(m(this))return m(I)?_(this).j(_(I)):_(_(this).j(I));if(m(I))return _(this.j(_(I)));if(0>this.l(v)&&0>I.l(v))return l(this.m()*I.m());for(var S=this.g.length+I.g.length,T=[],D=0;D<2*S;D++)T[D]=0;for(D=0;D<this.g.length;D++)for(var L=0;L<I.g.length;L++){var F=this.i(D)>>>16,j=this.i(D)&65535,K=I.i(L)>>>16,ee=I.i(L)&65535;T[2*D+2*L]+=j*ee,E(T,2*D+2*L),T[2*D+2*L+1]+=F*ee,E(T,2*D+2*L+1),T[2*D+2*L+1]+=j*K,E(T,2*D+2*L+1),T[2*D+2*L+2]+=F*K,E(T,2*D+2*L+2)}for(D=0;D<S;D++)T[D]=T[2*D+1]<<16|T[2*D];for(D=S;D<2*S;D++)T[D]=0;return new o(T,0)};function E(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function A(I,S){this.g=I,this.h=S}function C(I,S){if(g(S))throw Error("division by zero");if(g(I))return new A(f,f);if(m(I))return S=C(_(I),S),new A(_(S.g),_(S.h));if(m(S))return S=C(I,_(S)),new A(_(S.g),S.h);if(30<I.g.length){if(m(I)||m(S))throw Error("slowDivide_ only works with positive integers.");for(var T=h,D=S;0>=D.l(I);)T=O(T),D=O(D);var L=R(T,1),F=R(D,1);for(D=R(D,2),T=R(T,2);!g(D);){var j=F.add(D);0>=j.l(I)&&(L=L.add(T),F=j),D=R(D,1),T=R(T,1)}return S=b(I,L.j(S)),new A(L,S)}for(L=f;0<=I.l(S);){for(T=Math.max(1,Math.floor(I.m()/S.m())),D=Math.ceil(Math.log(T)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),F=l(T),j=F.j(S);m(j)||0<j.l(I);)T-=D,F=l(T),j=F.j(S);g(F)&&(F=h),L=L.add(F),I=b(I,j)}return new A(L,I)}t.A=function(I){return C(this,I).h},t.and=function(I){for(var S=Math.max(this.g.length,I.g.length),T=[],D=0;D<S;D++)T[D]=this.i(D)&I.i(D);return new o(T,this.h&I.h)},t.or=function(I){for(var S=Math.max(this.g.length,I.g.length),T=[],D=0;D<S;D++)T[D]=this.i(D)|I.i(D);return new o(T,this.h|I.h)},t.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),T=[],D=0;D<S;D++)T[D]=this.i(D)^I.i(D);return new o(T,this.h^I.h)};function O(I){for(var S=I.g.length+1,T=[],D=0;D<S;D++)T[D]=I.i(D)<<1|I.i(D-1)>>>31;return new o(T,I.h)}function R(I,S){var T=S>>5;S%=32;for(var D=I.g.length-T,L=[],F=0;F<D;F++)L[F]=0<S?I.i(F+T)>>>S|I.i(F+T+1)<<32-S:I.i(F+T);return new o(L,I.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,e$=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=c,Pl=o}).apply(typeof kN<"u"?kN:typeof self<"u"?self:typeof window<"u"?window:{});var $g=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var t$,rp,r$,ey,MO,n$,i$,a$;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(w,N,B){return w==Array.prototype||w==Object.prototype||(w[N]=B.value),w};function r(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof $g=="object"&&$g];for(var N=0;N<w.length;++N){var B=w[N];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var n=r(this);function i(w,N){if(N)e:{var B=n;w=w.split(".");for(var V=0;V<w.length-1;V++){var ue=w[V];if(!(ue in B))break e;B=B[ue]}w=w[w.length-1],V=B[w],N=N(V),N!=V&&N!=null&&e(B,w,{configurable:!0,writable:!0,value:N})}}function a(w,N){w instanceof String&&(w+="");var B=0,V=!1,ue={next:function(){if(!V&&B<w.length){var ve=B++;return{value:N(ve,w[ve]),done:!1}}return V=!0,{done:!0,value:void 0}}};return ue[Symbol.iterator]=function(){return ue},ue}i("Array.prototype.values",function(w){return w||function(){return a(this,function(N,B){return B})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function u(w){var N=typeof w;return N=N!="object"?N:w?Array.isArray(w)?"array":N:"null",N=="array"||N=="object"&&typeof w.length=="number"}function l(w){var N=typeof w;return N=="object"&&w!=null||N=="function"}function c(w,N,B){return w.call.apply(w.bind,arguments)}function f(w,N,B){if(!w)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var ue=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ue,V),w.apply(N,ue)}}return function(){return w.apply(N,arguments)}}function h(w,N,B){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,h.apply(null,arguments)}function v(w,N){var B=Array.prototype.slice.call(arguments,1);return function(){var V=B.slice();return V.push.apply(V,arguments),w.apply(this,V)}}function g(w,N){function B(){}B.prototype=N.prototype,w.aa=N.prototype,w.prototype=new B,w.prototype.constructor=w,w.Qb=function(V,ue,ve){for(var Me=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)Me[zt-2]=arguments[zt];return N.prototype[ue].apply(V,Me)}}function m(w){const N=w.length;if(0<N){const B=Array(N);for(let V=0;V<N;V++)B[V]=w[V];return B}return[]}function _(w,N){for(let B=1;B<arguments.length;B++){const V=arguments[B];if(u(V)){const ue=w.length||0,ve=V.length||0;w.length=ue+ve;for(let Me=0;Me<ve;Me++)w[ue+Me]=V[Me]}else w.push(V)}}class b{constructor(N,B){this.i=N,this.j=B,this.h=0,this.g=null}get(){let N;return 0<this.h?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function E(w){return/^[\s\xa0]*$/.test(w)}function A(){var w=s.navigator;return w&&(w=w.userAgent)?w:""}function C(w){return C[" "](w),w}C[" "]=function(){};var O=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function R(w,N,B){for(const V in w)N.call(B,w[V],V,w)}function I(w,N){for(const B in w)N.call(void 0,w[B],B,w)}function S(w){const N={};for(const B in w)N[B]=w[B];return N}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(w,N){let B,V;for(let ue=1;ue<arguments.length;ue++){V=arguments[ue];for(B in V)w[B]=V[B];for(let ve=0;ve<T.length;ve++)B=T[ve],Object.prototype.hasOwnProperty.call(V,B)&&(w[B]=V[B])}}function L(w){var N=1;w=w.split(":");const B=[];for(;0<N&&w.length;)B.push(w.shift()),N--;return w.length&&B.push(w.join(":")),B}function F(w){s.setTimeout(()=>{throw w},0)}function j(){var w=Q;let N=null;return w.g&&(N=w.g,w.g=w.g.next,w.g||(w.h=null),N.next=null),N}class K{constructor(){this.h=this.g=null}add(N,B){const V=ee.get();V.set(N,B),this.h?this.h.next=V:this.g=V,this.h=V}}var ee=new b(()=>new W,w=>w.reset());class W{constructor(){this.next=this.g=this.h=null}set(N,B){this.h=N,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let te,X=!1,Q=new K,se=()=>{const w=s.Promise.resolve(void 0);te=()=>{w.then(q)}};var q=()=>{for(var w;w=j();){try{w.h.call(w.g)}catch(B){F(B)}var N=ee;N.j(w),100>N.h&&(N.h++,w.next=N.g,N.g=w)}X=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(w,N){this.type=w,this.g=this.target=N,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var w=!1,N=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const B=()=>{};s.addEventListener("test",B,N),s.removeEventListener("test",B,N)}catch{}return w}();function Oe(w,N){if(ae.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w){var B=this.type=w.type,V=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;if(this.target=w.target||w.srcElement,this.g=N,N=w.relatedTarget){if(O){e:{try{C(N.nodeName);var ue=!0;break e}catch{}ue=!1}ue||(N=null)}}else B=="mouseover"?N=w.fromElement:B=="mouseout"&&(N=w.toElement);this.relatedTarget=N,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=typeof w.pointerType=="string"?w.pointerType:Te[w.pointerType]||"",this.state=w.state,this.i=w,w.defaultPrevented&&Oe.aa.h.call(this)}}g(Oe,ae);var Te={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function G(w,N,B,V,ue){this.listener=w,this.proxy=null,this.src=N,this.type=B,this.capture=!!V,this.ha=ue,this.key=++Ae,this.da=this.fa=!1}function ne(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function re(w){this.src=w,this.g={},this.h=0}re.prototype.add=function(w,N,B,V,ue){var ve=w.toString();w=this.g[ve],w||(w=this.g[ve]=[],this.h++);var Me=fe(w,N,V,ue);return-1<Me?(N=w[Me],B||(N.fa=!1)):(N=new G(N,this.src,ve,!!V,ue),N.fa=B,w.push(N)),N};function Z(w,N){var B=N.type;if(B in w.g){var V=w.g[B],ue=Array.prototype.indexOf.call(V,N,void 0),ve;(ve=0<=ue)&&Array.prototype.splice.call(V,ue,1),ve&&(ne(N),w.g[B].length==0&&(delete w.g[B],w.h--))}}function fe(w,N,B,V){for(var ue=0;ue<w.length;++ue){var ve=w[ue];if(!ve.da&&ve.listener==N&&ve.capture==!!B&&ve.ha==V)return ue}return-1}var ye="closure_lm_"+(1e6*Math.random()|0),pe={};function be(w,N,B,V,ue){if(Array.isArray(N)){for(var ve=0;ve<N.length;ve++)be(w,N[ve],B,V,ue);return null}return B=xt(B),w&&w[Be]?w.K(N,B,l(V)?!!V.capture:!1,ue):Re(w,N,B,!1,V,ue)}function Re(w,N,B,V,ue,ve){if(!N)throw Error("Invalid event type");var Me=l(ue)?!!ue.capture:!!ue,zt=lt(w);if(zt||(w[ye]=zt=new re(w)),B=zt.add(N,B,V,Me,ve),B.proxy)return B;if(V=je(),B.proxy=V,V.src=w,V.listener=B,w.addEventListener)xe||(ue=Me),ue===void 0&&(ue=!1),w.addEventListener(N.toString(),V,ue);else if(w.attachEvent)w.attachEvent(it(N.toString()),V);else if(w.addListener&&w.removeListener)w.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return B}function je(){function w(B){return N.call(w.src,w.listener,B)}const N=nt;return w}function Ie(w,N,B,V,ue){if(Array.isArray(N))for(var ve=0;ve<N.length;ve++)Ie(w,N[ve],B,V,ue);else V=l(V)?!!V.capture:!!V,B=xt(B),w&&w[Be]?(w=w.i,N=String(N).toString(),N in w.g&&(ve=w.g[N],B=fe(ve,B,V,ue),-1<B&&(ne(ve[B]),Array.prototype.splice.call(ve,B,1),ve.length==0&&(delete w.g[N],w.h--)))):w&&(w=lt(w))&&(N=w.g[N.toString()],w=-1,N&&(w=fe(N,B,V,ue)),(B=-1<w?N[w]:null)&&Le(B))}function Le(w){if(typeof w!="number"&&w&&!w.da){var N=w.src;if(N&&N[Be])Z(N.i,w);else{var B=w.type,V=w.proxy;N.removeEventListener?N.removeEventListener(B,V,w.capture):N.detachEvent?N.detachEvent(it(B),V):N.addListener&&N.removeListener&&N.removeListener(V),(B=lt(N))?(Z(B,w),B.h==0&&(B.src=null,N[ye]=null)):ne(w)}}}function it(w){return w in pe?pe[w]:pe[w]="on"+w}function nt(w,N){if(w.da)w=!0;else{N=new Oe(N,this);var B=w.listener,V=w.ha||w.src;w.fa&&Le(w),w=B.call(V,N)}return w}function lt(w){return w=w[ye],w instanceof re?w:null}var ft="__closure_events_fn_"+(1e9*Math.random()>>>0);function xt(w){return typeof w=="function"?w:(w[ft]||(w[ft]=function(N){return w.handleEvent(N)}),w[ft])}function tt(){Y.call(this),this.i=new re(this),this.M=this,this.F=null}g(tt,Y),tt.prototype[Be]=!0,tt.prototype.removeEventListener=function(w,N,B,V){Ie(this,w,N,B,V)};function gt(w,N){var B,V=w.F;if(V)for(B=[];V;V=V.F)B.push(V);if(w=w.M,V=N.type||N,typeof N=="string")N=new ae(N,w);else if(N instanceof ae)N.target=N.target||w;else{var ue=N;N=new ae(V,w),D(N,ue)}if(ue=!0,B)for(var ve=B.length-1;0<=ve;ve--){var Me=N.g=B[ve];ue=vt(Me,V,!0,N)&&ue}if(Me=N.g=w,ue=vt(Me,V,!0,N)&&ue,ue=vt(Me,V,!1,N)&&ue,B)for(ve=0;ve<B.length;ve++)Me=N.g=B[ve],ue=vt(Me,V,!1,N)&&ue}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var w=this.i,N;for(N in w.g){for(var B=w.g[N],V=0;V<B.length;V++)ne(B[V]);delete w.g[N],w.h--}}this.F=null},tt.prototype.K=function(w,N,B,V){return this.i.add(String(w),N,!1,B,V)},tt.prototype.L=function(w,N,B,V){return this.i.add(String(w),N,!0,B,V)};function vt(w,N,B,V){if(N=w.i.g[String(N)],!N)return!0;N=N.concat();for(var ue=!0,ve=0;ve<N.length;++ve){var Me=N[ve];if(Me&&!Me.da&&Me.capture==B){var zt=Me.listener,Gr=Me.ha||Me.src;Me.fa&&Z(w.i,Me),ue=zt.call(Gr,V)!==!1&&ue}}return ue&&!V.defaultPrevented}function mt(w,N,B){if(typeof w=="function")B&&(w=h(w,B));else if(w&&typeof w.handleEvent=="function")w=h(w.handleEvent,w);else throw Error("Invalid listener argument");return 2147483647<Number(N)?-1:s.setTimeout(w,N||0)}function At(w){w.g=mt(()=>{w.g=null,w.i&&(w.i=!1,At(w))},w.l);const N=w.h;w.h=null,w.m.apply(null,N)}class Vt extends Y{constructor(N,B){super(),this.m=N,this.l=B,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:At(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qt(w){Y.call(this),this.h=w,this.g={}}g(qt,Y);var rr=[];function kr(w){R(w.g,function(N,B){this.g.hasOwnProperty(B)&&Le(N)},w),w.g={}}qt.prototype.N=function(){qt.aa.N.call(this),kr(this)},qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bn=s.JSON.stringify,Br=s.JSON.parse,ju=class{stringify(w){return s.JSON.stringify(w,void 0)}parse(w){return s.JSON.parse(w,void 0)}};function Ta(){}Ta.prototype.h=null;function Os(w){return w.h||(w.h=w.i())}function Fu(){}var Ni={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ca(){ae.call(this,"d")}g(Ca,ae);function Ts(){ae.call(this,"c")}g(Ts,ae);var uo={},zd=null;function Bu(){return zd=zd||new tt}uo.La="serverreachability";function Wd(w){ae.call(this,uo.La,w)}g(Wd,ae);function $o(w){const N=Bu();gt(N,new Wd(N))}uo.STAT_EVENT="statevent";function Hd(w,N){ae.call(this,uo.STAT_EVENT,w),this.stat=N}g(Hd,ae);function Mr(w){const N=Bu();gt(N,new Hd(N,w))}uo.Ma="timingevent";function vc(w,N){ae.call(this,uo.Ma,w),this.size=N}g(vc,ae);function Ia(w,N){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){w()},N)}function $u(){this.g=!0}$u.prototype.xa=function(){this.g=!1};function Uu(w,N,B,V,ue,ve){w.info(function(){if(w.g)if(ve)for(var Me="",zt=ve.split("&"),Gr=0;Gr<zt.length;Gr++){var Ct=zt[Gr].split("=");if(1<Ct.length){var fn=Ct[0];Ct=Ct[1];var $r=fn.split("_");Me=2<=$r.length&&$r[1]=="type"?Me+(fn+"="+Ct+"&"):Me+(fn+"=redacted&")}}else Me=null;else Me=ve;return"XMLHTTP REQ ("+V+") [attempt "+ue+"]: "+N+`
`+B+`
`+Me})}function gc(w,N,B,V,ue,ve,Me){w.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+ue+"]: "+N+`
`+B+`
`+ve+" "+Me})}function Pa(w,N,B,V){w.info(function(){return"XMLHTTP TEXT ("+N+"): "+Tw(w,B)+(V?" "+V:"")})}function Gd(w,N){w.info(function(){return"TIMEOUT: "+N})}$u.prototype.info=function(){};function Tw(w,N){if(!w.g)return N;if(!N)return null;try{var B=JSON.parse(N);if(B){for(w=0;w<B.length;w++)if(Array.isArray(B[w])){var V=B[w];if(!(2>V.length)){var ue=V[1];if(Array.isArray(ue)&&!(1>ue.length)){var ve=ue[0];if(ve!="noop"&&ve!="stop"&&ve!="close")for(var Me=1;Me<ue.length;Me++)ue[Me]=""}}}}return bn(B)}catch{return N}}var mc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},A0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ra;function Vu(){}g(Vu,Ta),Vu.prototype.g=function(){return new XMLHttpRequest},Vu.prototype.i=function(){return{}},Ra=new Vu;function Da(w,N,B,V){this.j=w,this.i=N,this.l=B,this.R=V||1,this.U=new qt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new S0}function S0(){this.i=null,this.g="",this.h=!1}var Kd={},yc={};function _c(w,N,B){w.L=1,w.v=Ds(Mi(N)),w.m=B,w.P=!0,Xd(w,null)}function Xd(w,N){w.F=Date.now(),nr(w),w.A=Mi(w.v);var B=w.A,V=w.R;Array.isArray(V)||(V=[String(V)]),ks(B.i,"t",V),w.C=0,B=w.j.J,w.h=new S0,w.g=q0(w.j,B?N:null,!w.m),0<w.O&&(w.M=new Vt(h(w.Y,w,w.g),w.O)),N=w.U,B=w.g,V=w.ca;var ue="readystatechange";Array.isArray(ue)||(ue&&(rr[0]=ue.toString()),ue=rr);for(var ve=0;ve<ue.length;ve++){var Me=be(B,ue[ve],V||N.handleEvent,!1,N.h||N);if(!Me)break;N.g[Me.key]=Me}N=w.H?S(w.H):{},w.m?(w.u||(w.u="POST"),N["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.A,w.u,w.m,N)):(w.u="GET",w.g.ea(w.A,w.u,null,N)),$o(),Uu(w.i,w.u,w.A,w.l,w.R,w.m)}Da.prototype.ca=function(w){w=w.target;const N=this.M;N&&gi(w)==3?N.j():this.Y(w)},Da.prototype.Y=function(w){try{if(w==this.g)e:{const $r=gi(this.g);var N=this.g.Ba();const ia=this.g.Z();if(!(3>$r)&&($r!=3||this.g&&(this.h.h||this.g.oa()||th(this.g)))){this.J||$r!=4||N==7||(N==8||0>=ia?$o(3):$o(2)),qu(this);var B=this.g.Z();this.X=B;t:if(O0(this)){var V=th(this.g);w="";var ue=V.length,ve=gi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ra(this),Cs(this);var Me="";break t}this.h.i=new s.TextDecoder}for(N=0;N<ue;N++)this.h.h=!0,w+=this.h.i.decode(V[N],{stream:!(ve&&N==ue-1)});V.length=0,this.h.g+=w,this.C=0,Me=this.h.g}else Me=this.g.oa();if(this.o=B==200,gc(this.i,this.u,this.A,this.l,this.R,$r,B),this.o){if(this.T&&!this.K){t:{if(this.g){var zt,Gr=this.g;if((zt=Gr.g?Gr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(zt)){var Ct=zt;break t}}Ct=null}if(B=Ct)Pa(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yd(this,B);else{this.o=!1,this.s=3,Mr(12),ra(this),Cs(this);break e}}if(this.P){B=!0;let ji;for(;!this.J&&this.C<Me.length;)if(ji=Cw(this,Me),ji==yc){$r==4&&(this.s=4,Mr(14),B=!1),Pa(this.i,this.l,null,"[Incomplete Response]");break}else if(ji==Kd){this.s=4,Mr(15),Pa(this.i,this.l,Me,"[Invalid Chunk]"),B=!1;break}else Pa(this.i,this.l,ji,null),Yd(this,ji);if(O0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$r!=4||Me.length!=0||this.h.h||(this.s=1,Mr(16),B=!1),this.o=this.o&&B,!B)Pa(this.i,this.l,Me,"[Invalid Chunked Response]"),ra(this),Cs(this);else if(0<Me.length&&!this.W){this.W=!0;var fn=this.j;fn.g==this&&fn.ba&&!fn.M&&(fn.j.info("Great, no buffering proxy detected. Bytes received: "+Me.length),nh(fn),fn.M=!0,Mr(11))}}else Pa(this.i,this.l,Me,null),Yd(this,Me);$r==4&&ra(this),this.o&&!this.J&&($r==4?Pc(this.j,this):(this.o=!1,nr(this)))}else Sc(this.g),B==400&&0<Me.indexOf("Unknown SID")?(this.s=3,Mr(12)):(this.s=0,Mr(13)),ra(this),Cs(this)}}}catch{}finally{}};function O0(w){return w.g?w.u=="GET"&&w.L!=2&&w.j.Ca:!1}function Cw(w,N){var B=w.C,V=N.indexOf(`
`,B);return V==-1?yc:(B=Number(N.substring(B,V)),isNaN(B)?Kd:(V+=1,V+B>N.length?yc:(N=N.slice(V,V+B),w.C=V+B,N)))}Da.prototype.cancel=function(){this.J=!0,ra(this)};function nr(w){w.S=Date.now()+w.I,T0(w,w.I)}function T0(w,N){if(w.B!=null)throw Error("WatchDog timer not null");w.B=Ia(h(w.ba,w),N)}function qu(w){w.B&&(s.clearTimeout(w.B),w.B=null)}Da.prototype.ba=function(){this.B=null;const w=Date.now();0<=w-this.S?(Gd(this.i,this.A),this.L!=2&&($o(),Mr(17)),ra(this),this.s=2,Cs(this)):T0(this,this.S-w)};function Cs(w){w.j.G==0||w.J||Pc(w.j,w)}function ra(w){qu(w);var N=w.M;N&&typeof N.ma=="function"&&N.ma(),w.M=null,kr(w.U),w.g&&(N=w.g,w.g=null,N.abort(),N.ma())}function Yd(w,N){try{var B=w.j;if(B.G!=0&&(B.g==w||ei(B.h,w))){if(!w.K&&ei(B.h,w)&&B.G==3){try{var V=B.Da.g.parse(N)}catch{V=null}if(Array.isArray(V)&&V.length==3){var ue=V;if(ue[0]==0){e:if(!B.u){if(B.g)if(B.g.F+3e3<w.F)Ic(B),ja(B);else break e;Cc(B),Mr(18)}}else B.za=ue[1],0<B.za-B.T&&37500>ue[2]&&B.F&&B.v==0&&!B.C&&(B.C=Ia(h(B.Za,B),6e3));if(1>=I0(B.h)&&B.ca){try{B.ca()}catch{}B.ca=void 0}}else Wo(B,11)}else if((w.K||B.g==w)&&Ic(B),!E(N))for(ue=B.Da.g.parse(N),N=0;N<ue.length;N++){let Ct=ue[N];if(B.T=Ct[0],Ct=Ct[1],B.G==2)if(Ct[0]=="c"){B.K=Ct[1],B.ia=Ct[2];const fn=Ct[3];fn!=null&&(B.la=fn,B.j.info("VER="+B.la));const $r=Ct[4];$r!=null&&(B.Aa=$r,B.j.info("SVER="+B.Aa));const ia=Ct[5];ia!=null&&typeof ia=="number"&&0<ia&&(V=1.5*ia,B.L=V,B.j.info("backChannelRequestTimeoutMs_="+V)),V=B;const ji=w.g;if(ji){const Yu=ji.g?ji.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yu){var ve=V.h;ve.g||Yu.indexOf("spdy")==-1&&Yu.indexOf("quic")==-1&&Yu.indexOf("h2")==-1||(ve.j=ve.l,ve.g=new Set,ve.h&&(Qd(ve,ve.h),ve.h=null))}if(V.D){const Dc=ji.g?ji.g.getResponseHeader("X-HTTP-Session-Id"):null;Dc&&(V.ya=Dc,Zt(V.I,V.D,Dc))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-w.F,B.j.info("Handshake RTT: "+B.R+"ms")),V=B;var Me=w;if(V.qa=V0(V,V.J?V.ia:null,V.W),Me.K){P0(V.h,Me);var zt=Me,Gr=V.L;Gr&&(zt.I=Gr),zt.B&&(qu(zt),nr(zt)),V.g=Me}else Xu(V);0<B.i.length&&ho(B)}else Ct[0]!="stop"&&Ct[0]!="close"||Wo(B,7);else B.G==3&&(Ct[0]=="stop"||Ct[0]=="close"?Ct[0]=="stop"?Wo(B,7):An(B):Ct[0]!="noop"&&B.l&&B.l.ta(Ct),B.v=0)}}$o(4)}catch{}}var C0=class{constructor(w,N){this.g=w,this.map=N}};function zu(w){this.l=w||10,s.PerformanceNavigationTiming?(w=s.performance.getEntriesByType("navigation"),w=0<w.length&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ki(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function I0(w){return w.h?1:w.g?w.g.size:0}function ei(w,N){return w.h?w.h==N:w.g?w.g.has(N):!1}function Qd(w,N){w.g?w.g.add(N):w.h=N}function P0(w,N){w.h&&w.h==N?w.h=null:w.g&&w.g.has(N)&&w.g.delete(N)}zu.prototype.cancel=function(){if(this.i=R0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function R0(w){if(w.h!=null)return w.i.concat(w.h.D);if(w.g!=null&&w.g.size!==0){let N=w.i;for(const B of w.g.values())N=N.concat(B.D);return N}return m(w.i)}function wc(w){if(w.V&&typeof w.V=="function")return w.V();if(typeof Map<"u"&&w instanceof Map||typeof Set<"u"&&w instanceof Set)return Array.from(w.values());if(typeof w=="string")return w.split("");if(u(w)){for(var N=[],B=w.length,V=0;V<B;V++)N.push(w[V]);return N}N=[],B=0;for(V in w)N[B++]=w[V];return N}function xc(w){if(w.na&&typeof w.na=="function")return w.na();if(!w.V||typeof w.V!="function"){if(typeof Map<"u"&&w instanceof Map)return Array.from(w.keys());if(!(typeof Set<"u"&&w instanceof Set)){if(u(w)||typeof w=="string"){var N=[];w=w.length;for(var B=0;B<w;B++)N.push(B);return N}N=[],B=0;for(const V in w)N[B++]=V;return N}}}function Is(w,N){if(w.forEach&&typeof w.forEach=="function")w.forEach(N,void 0);else if(u(w)||typeof w=="string")Array.prototype.forEach.call(w,N,void 0);else for(var B=xc(w),V=wc(w),ue=V.length,ve=0;ve<ue;ve++)N.call(void 0,V[ve],B&&B[ve],w)}var Wu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Iw(w,N){if(w){w=w.split("&");for(var B=0;B<w.length;B++){var V=w[B].indexOf("="),ue=null;if(0<=V){var ve=w[B].substring(0,V);ue=w[B].substring(V+1)}else ve=w[B];N(ve,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}function Uo(w){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,w instanceof Uo){this.h=w.h,Hu(this,w.j),this.o=w.o,this.g=w.g,Ps(this,w.s),this.l=w.l;var N=w.i,B=new lo;B.i=N.i,N.g&&(B.g=new Map(N.g),B.h=N.h),Rs(this,B),this.m=w.m}else w&&(N=String(w).match(Wu))?(this.h=!1,Hu(this,N[1]||"",!0),this.o=Ot(N[2]||""),this.g=Ot(N[3]||"",!0),Ps(this,N[4]),this.l=Ot(N[5]||"",!0),Rs(this,N[6]||"",!0),this.m=Ot(N[7]||"")):(this.h=!1,this.i=new lo(null,this.h))}Uo.prototype.toString=function(){var w=[],N=this.j;N&&w.push(Ns(N,bc,!0),":");var B=this.g;return(B||N=="file")&&(w.push("//"),(N=this.o)&&w.push(Ns(N,bc,!0),"@"),w.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.s,B!=null&&w.push(":",String(B))),(B=this.l)&&(this.g&&B.charAt(0)!="/"&&w.push("/"),w.push(Ns(B,B.charAt(0)=="/"?k0:N0,!0))),(B=this.i.toString())&&w.push("?",B),(B=this.m)&&w.push("#",Ns(B,Zd)),w.join("")};function Mi(w){return new Uo(w)}function Hu(w,N,B){w.j=B?Ot(N,!0):N,w.j&&(w.j=w.j.replace(/:$/,""))}function Ps(w,N){if(N){if(N=Number(N),isNaN(N)||0>N)throw Error("Bad port number "+N);w.s=N}else w.s=null}function Rs(w,N,B){N instanceof lo?(w.i=N,co(w.i,w.h)):(B||(N=Ns(N,M0)),w.i=new lo(N,w.h))}function Zt(w,N,B){w.i.set(N,B)}function Ds(w){return Zt(w,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),w}function Ot(w,N){return w?N?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function Ns(w,N,B){return typeof w=="string"?(w=encodeURI(w).replace(N,D0),B&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function D0(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var bc=/[#\/\?@]/g,N0=/[#\?:]/g,k0=/[#\?]/g,M0=/[#\?@]/g,Zd=/#/g;function lo(w,N){this.h=this.g=null,this.i=w||null,this.j=!!N}function En(w){w.g||(w.g=new Map,w.h=0,w.i&&Iw(w.i,function(N,B){w.add(decodeURIComponent(N.replace(/\+/g," ")),B)}))}t=lo.prototype,t.add=function(w,N){En(this),this.i=null,w=na(this,w);var B=this.g.get(w);return B||this.g.set(w,B=[]),B.push(N),this.h+=1,this};function Na(w,N){En(w),N=na(w,N),w.g.has(N)&&(w.i=null,w.h-=w.g.get(N).length,w.g.delete(N))}function ka(w,N){return En(w),N=na(w,N),w.g.has(N)}t.forEach=function(w,N){En(this),this.g.forEach(function(B,V){B.forEach(function(ue){w.call(N,ue,V,this)},this)},this)},t.na=function(){En(this);const w=Array.from(this.g.values()),N=Array.from(this.g.keys()),B=[];for(let V=0;V<N.length;V++){const ue=w[V];for(let ve=0;ve<ue.length;ve++)B.push(N[V])}return B},t.V=function(w){En(this);let N=[];if(typeof w=="string")ka(this,w)&&(N=N.concat(this.g.get(na(this,w))));else{w=Array.from(this.g.values());for(let B=0;B<w.length;B++)N=N.concat(w[B])}return N},t.set=function(w,N){return En(this),this.i=null,w=na(this,w),ka(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[N]),this.h+=1,this},t.get=function(w,N){return w?(w=this.V(w),0<w.length?String(w[0]):N):N};function ks(w,N,B){Na(w,N),0<B.length&&(w.i=null,w.g.set(na(w,N),m(B)),w.h+=B.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],N=Array.from(this.g.keys());for(var B=0;B<N.length;B++){var V=N[B];const ve=encodeURIComponent(String(V)),Me=this.V(V);for(V=0;V<Me.length;V++){var ue=ve;Me[V]!==""&&(ue+="="+encodeURIComponent(String(Me[V]))),w.push(ue)}}return this.i=w.join("&")};function na(w,N){return N=String(N),w.j&&(N=N.toLowerCase()),N}function co(w,N){N&&!w.j&&(En(w),w.i=null,w.g.forEach(function(B,V){var ue=V.toLowerCase();V!=ue&&(Na(this,V),ks(this,ue,B))},w)),w.j=N}function Pw(w,N){const B=new $u;if(s.Image){const V=new Image;V.onload=v(vi,B,"TestLoadImage: loaded",!0,N,V),V.onerror=v(vi,B,"TestLoadImage: error",!1,N,V),V.onabort=v(vi,B,"TestLoadImage: abort",!1,N,V),V.ontimeout=v(vi,B,"TestLoadImage: timeout",!1,N,V),s.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=w}else N(!1)}function L0(w,N){const B=new $u,V=new AbortController,ue=setTimeout(()=>{V.abort(),vi(B,"TestPingServer: timeout",!1,N)},1e4);fetch(w,{signal:V.signal}).then(ve=>{clearTimeout(ue),ve.ok?vi(B,"TestPingServer: ok",!0,N):vi(B,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(ue),vi(B,"TestPingServer: error",!1,N)})}function vi(w,N,B,V,ue){try{ue&&(ue.onload=null,ue.onerror=null,ue.onabort=null,ue.ontimeout=null),V(B)}catch{}}function Rw(){this.g=new ju}function j0(w,N,B){const V=B||"";try{Is(w,function(ue,ve){let Me=ue;l(ue)&&(Me=bn(ue)),N.push(V+ve+"="+encodeURIComponent(Me))})}catch(ue){throw N.push(V+"type="+encodeURIComponent("_badmap")),ue}}function Vo(w){this.l=w.Ub||null,this.j=w.eb||!1}g(Vo,Ta),Vo.prototype.g=function(){return new Gu(this.l,this.j)},Vo.prototype.i=function(w){return function(){return w}}({});function Gu(w,N){tt.call(this),this.D=w,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Gu,tt),t=Gu.prototype,t.open=function(w,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=w,this.A=N,this.readyState=1,La(this)},t.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const N={headers:this.u,method:this.B,credentials:this.m,cache:void 0};w&&(N.body=w),(this.D||s).fetch(new Request(this.A,N)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ma(this)),this.readyState=0},t.Sa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,La(this)),this.g&&(this.readyState=3,La(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;F0(this)}else w.text().then(this.Ra.bind(this),this.ga.bind(this))};function F0(w){w.j.read().then(w.Pa.bind(w)).catch(w.ga.bind(w))}t.Pa=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var N=w.value?w.value:new Uint8Array(0);(N=this.v.decode(N,{stream:!w.done}))&&(this.response=this.responseText+=N)}w.done?Ma(this):La(this),this.readyState==3&&F0(this)}},t.Ra=function(w){this.g&&(this.response=this.responseText=w,Ma(this))},t.Qa=function(w){this.g&&(this.response=w,Ma(this))},t.ga=function(){this.g&&Ma(this)};function Ma(w){w.readyState=4,w.l=null,w.j=null,w.v=null,La(w)}t.setRequestHeader=function(w,N){this.u.append(w,N)},t.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],N=this.h.entries();for(var B=N.next();!B.done;)B=B.value,w.push(B[0]+": "+B[1]),B=N.next();return w.join(`\r
`)};function La(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(Gu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function qo(w){let N="";return R(w,function(B,V){N+=V,N+=":",N+=B,N+=`\r
`}),N}function Ms(w,N,B){e:{for(V in B){var V=!1;break e}V=!0}V||(B=qo(B),typeof w=="string"?B!=null&&encodeURIComponent(String(B)):Zt(w,N,B))}function mr(w){tt.call(this),this.headers=new Map,this.o=w||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(mr,tt);var Dw=/^https?$/i,Jd=["POST","PUT"];t=mr.prototype,t.Ha=function(w){this.J=w},t.ea=function(w,N,B,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);N=N?N.toUpperCase():"GET",this.D=w,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ra.g(),this.v=this.o?Os(this.o):Os(Ra),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(N,String(w),!0),this.B=!1}catch(ve){Ku(this,ve);return}if(w=B||"",B=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var ue in V)B.set(ue,V[ue]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const ve of V.keys())B.set(ve,V.get(ve));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(B.keys()).find(ve=>ve.toLowerCase()=="content-type"),ue=s.FormData&&w instanceof s.FormData,!(0<=Array.prototype.indexOf.call(Jd,N,void 0))||V||ue||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ve,Me]of B)this.g.setRequestHeader(ve,Me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ac(this),this.u=!0,this.g.send(w),this.u=!1}catch(ve){Ku(this,ve)}};function Ku(w,N){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=N,w.m=5,Ec(w),Li(w)}function Ec(w){w.A||(w.A=!0,gt(w,"complete"),gt(w,"error"))}t.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=w||7,gt(this,"complete"),gt(this,"abort"),Li(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),mr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?eh(this):this.bb())},t.bb=function(){eh(this)};function eh(w){if(w.h&&typeof o<"u"&&(!w.v[1]||gi(w)!=4||w.Z()!=2)){if(w.u&&gi(w)==4)mt(w.Ea,0,w);else if(gt(w,"readystatechange"),gi(w)==4){w.h=!1;try{const Me=w.Z();e:switch(Me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var B;if(!(B=N)){var V;if(V=Me===0){var ue=String(w.D).match(Wu)[1]||null;!ue&&s.self&&s.self.location&&(ue=s.self.location.protocol.slice(0,-1)),V=!Dw.test(ue?ue.toLowerCase():"")}B=V}if(B)gt(w,"complete"),gt(w,"success");else{w.m=6;try{var ve=2<gi(w)?w.g.statusText:""}catch{ve=""}w.l=ve+" ["+w.Z()+"]",Ec(w)}}finally{Li(w)}}}}function Li(w,N){if(w.g){Ac(w);const B=w.g,V=w.v[0]?()=>{}:null;w.g=null,w.v=null,N||gt(w,"ready");try{B.onreadystatechange=V}catch{}}}function Ac(w){w.I&&(s.clearTimeout(w.I),w.I=null)}t.isActive=function(){return!!this.g};function gi(w){return w.g?w.g.readyState:0}t.Z=function(){try{return 2<gi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(w){if(this.g){var N=this.g.responseText;return w&&N.indexOf(w)==0&&(N=N.substring(w.length)),Br(N)}};function th(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.H){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function Sc(w){const N={};w=(w.g&&2<=gi(w)&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<w.length;V++){if(E(w[V]))continue;var B=L(w[V]);const ue=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const ve=N[ue]||[];N[ue]=ve,ve.push(B)}I(N,function(V){return V.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fo(w,N,B){return B&&B.internalChannelParams&&B.internalChannelParams[w]||N}function rh(w){this.Aa=0,this.i=[],this.j=new $u,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fo("failFast",!1,w),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fo("baseRetryDelayMs",5e3,w),this.cb=fo("retryDelaySeedMs",1e4,w),this.Wa=fo("forwardChannelMaxRetries",2,w),this.wa=fo("forwardChannelRequestTimeoutMs",2e4,w),this.pa=w&&w.xmlHttpFactory||void 0,this.Xa=w&&w.Tb||void 0,this.Ca=w&&w.useFetchStreams||!1,this.L=void 0,this.J=w&&w.supportsCrossDomainXhr||!1,this.K="",this.h=new zu(w&&w.concurrentRequestLimit),this.Da=new Rw,this.P=w&&w.fastHandshake||!1,this.O=w&&w.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=w&&w.Rb||!1,w&&w.xa&&this.j.xa(),w&&w.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&w&&w.detectBufferingProxy||!1,this.ja=void 0,w&&w.longPollingTimeout&&0<w.longPollingTimeout&&(this.ja=w.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=rh.prototype,t.la=8,t.G=1,t.connect=function(w,N,B,V){Mr(0),this.W=w,this.H=N||{},B&&V!==void 0&&(this.H.OSID=B,this.H.OAID=V),this.F=this.X,this.I=V0(this,null,this.W),ho(this)};function An(w){if(Oc(w),w.G==3){var N=w.U++,B=Mi(w.I);if(Zt(B,"SID",w.K),Zt(B,"RID",N),Zt(B,"TYPE","terminate"),zo(w,B),N=new Da(w,w.j,N),N.L=2,N.v=Ds(Mi(B)),B=!1,s.navigator&&s.navigator.sendBeacon)try{B=s.navigator.sendBeacon(N.v.toString(),"")}catch{}!B&&s.Image&&(new Image().src=N.v,B=!0),B||(N.g=q0(N.j,null),N.g.ea(N.v)),N.F=Date.now(),nr(N)}U0(w)}function ja(w){w.g&&(nh(w),w.g.cancel(),w.g=null)}function Oc(w){ja(w),w.u&&(s.clearTimeout(w.u),w.u=null),Ic(w),w.h.cancel(),w.s&&(typeof w.s=="number"&&s.clearTimeout(w.s),w.s=null)}function ho(w){if(!ki(w.h)&&!w.s){w.s=!0;var N=w.Ga;te||se(),X||(te(),X=!0),Q.add(N,w),w.B=0}}function Nw(w,N){return I0(w.h)>=w.h.j-(w.s?1:0)?!1:w.s?(w.i=N.D.concat(w.i),!0):w.G==1||w.G==2||w.B>=(w.Va?0:w.Wa)?!1:(w.s=Ia(h(w.Ga,w,N),$0(w,w.B)),w.B++,!0)}t.Ga=function(w){if(this.s)if(this.s=null,this.G==1){if(!w){this.U=Math.floor(1e5*Math.random()),w=this.U++;const ue=new Da(this,this.j,w);let ve=this.o;if(this.S&&(ve?(ve=S(ve),D(ve,this.S)):ve=this.S),this.m!==null||this.O||(ue.H=ve,ve=null),this.P)e:{for(var N=0,B=0;B<this.i.length;B++){t:{var V=this.i[B];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(N+=V,4096<N){N=B;break e}if(N===4096||B===this.i.length-1){N=B+1;break e}}N=1e3}else N=1e3;N=Ls(this,ue,N),B=Mi(this.I),Zt(B,"RID",w),Zt(B,"CVER",22),this.D&&Zt(B,"X-HTTP-Session-Id",this.D),zo(this,B),ve&&(this.O?N="headers="+encodeURIComponent(String(qo(ve)))+"&"+N:this.m&&Ms(B,this.m,ve)),Qd(this.h,ue),this.Ua&&Zt(B,"TYPE","init"),this.P?(Zt(B,"$req",N),Zt(B,"SID","null"),ue.T=!0,_c(ue,B,null)):_c(ue,B,N),this.G=2}}else this.G==3&&(w?Tc(this,w):this.i.length==0||ki(this.h)||Tc(this))};function Tc(w,N){var B;N?B=N.l:B=w.U++;const V=Mi(w.I);Zt(V,"SID",w.K),Zt(V,"RID",B),Zt(V,"AID",w.T),zo(w,V),w.m&&w.o&&Ms(V,w.m,w.o),B=new Da(w,w.j,B,w.B+1),w.m===null&&(B.H=w.o),N&&(w.i=N.D.concat(w.i)),N=Ls(w,B,1e3),B.I=Math.round(.5*w.wa)+Math.round(.5*w.wa*Math.random()),Qd(w.h,B),_c(B,V,N)}function zo(w,N){w.H&&R(w.H,function(B,V){Zt(N,V,B)}),w.l&&Is({},function(B,V){Zt(N,V,B)})}function Ls(w,N,B){B=Math.min(w.i.length,B);var V=w.l?h(w.l.Na,w.l,w):null;e:{var ue=w.i;let ve=-1;for(;;){const Me=["count="+B];ve==-1?0<B?(ve=ue[0].g,Me.push("ofs="+ve)):ve=0:Me.push("ofs="+ve);let zt=!0;for(let Gr=0;Gr<B;Gr++){let Ct=ue[Gr].g;const fn=ue[Gr].map;if(Ct-=ve,0>Ct)ve=Math.max(0,ue[Gr].g-100),zt=!1;else try{j0(fn,Me,"req"+Ct+"_")}catch{V&&V(fn)}}if(zt){V=Me.join("&");break e}}}return w=w.i.splice(0,B),N.D=w,V}function Xu(w){if(!w.g&&!w.u){w.Y=1;var N=w.Fa;te||se(),X||(te(),X=!0),Q.add(N,w),w.v=0}}function Cc(w){return w.g||w.u||3<=w.v?!1:(w.Y++,w.u=Ia(h(w.Fa,w),$0(w,w.v)),w.v++,!0)}t.Fa=function(){if(this.u=null,B0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var w=2*this.R;this.j.info("BP detection timer enabled: "+w),this.A=Ia(h(this.ab,this),w)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mr(10),ja(this),B0(this))};function nh(w){w.A!=null&&(s.clearTimeout(w.A),w.A=null)}function B0(w){w.g=new Da(w,w.j,"rpc",w.Y),w.m===null&&(w.g.H=w.o),w.g.O=0;var N=Mi(w.qa);Zt(N,"RID","rpc"),Zt(N,"SID",w.K),Zt(N,"AID",w.T),Zt(N,"CI",w.F?"0":"1"),!w.F&&w.ja&&Zt(N,"TO",w.ja),Zt(N,"TYPE","xmlhttp"),zo(w,N),w.m&&w.o&&Ms(N,w.m,w.o),w.L&&(w.g.I=w.L);var B=w.g;w=w.ia,B.L=1,B.v=Ds(Mi(N)),B.m=null,B.P=!0,Xd(B,w)}t.Za=function(){this.C!=null&&(this.C=null,ja(this),Cc(this),Mr(19))};function Ic(w){w.C!=null&&(s.clearTimeout(w.C),w.C=null)}function Pc(w,N){var B=null;if(w.g==N){Ic(w),nh(w),w.g=null;var V=2}else if(ei(w.h,N))B=N.D,P0(w.h,N),V=1;else return;if(w.G!=0){if(N.o)if(V==1){B=N.m?N.m.length:0,N=Date.now()-N.F;var ue=w.B;V=Bu(),gt(V,new vc(V,B)),ho(w)}else Xu(w);else if(ue=N.s,ue==3||ue==0&&0<N.X||!(V==1&&Nw(w,N)||V==2&&Cc(w)))switch(B&&0<B.length&&(N=w.h,N.i=N.i.concat(B)),ue){case 1:Wo(w,5);break;case 4:Wo(w,10);break;case 3:Wo(w,6);break;default:Wo(w,2)}}}function $0(w,N){let B=w.Ta+Math.floor(Math.random()*w.cb);return w.isActive()||(B*=2),B*N}function Wo(w,N){if(w.j.info("Error code "+N),N==2){var B=h(w.fb,w),V=w.Xa;const ue=!V;V=new Uo(V||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Hu(V,"https"),Ds(V),ue?Pw(V.toString(),B):L0(V.toString(),B)}else Mr(2);w.G=0,w.l&&w.l.sa(N),U0(w),Oc(w)}t.fb=function(w){w?(this.j.info("Successfully pinged google.com"),Mr(2)):(this.j.info("Failed to ping google.com"),Mr(1))};function U0(w){if(w.G=0,w.ka=[],w.l){const N=R0(w.h);(N.length!=0||w.i.length!=0)&&(_(w.ka,N),_(w.ka,w.i),w.h.i.length=0,m(w.i),w.i.length=0),w.l.ra()}}function V0(w,N,B){var V=B instanceof Uo?Mi(B):new Uo(B);if(V.g!="")N&&(V.g=N+"."+V.g),Ps(V,V.s);else{var ue=s.location;V=ue.protocol,N=N?N+"."+ue.hostname:ue.hostname,ue=+ue.port;var ve=new Uo(null);V&&Hu(ve,V),N&&(ve.g=N),ue&&Ps(ve,ue),B&&(ve.l=B),V=ve}return B=w.D,N=w.ya,B&&N&&Zt(V,B,N),Zt(V,"VER",w.la),zo(w,V),V}function q0(w,N,B){if(N&&!w.J)throw Error("Can't create secondary domain capable XhrIo object.");return N=w.Ca&&!w.pa?new mr(new Vo({eb:B})):new mr(w.pa),N.Ha(w.J),N}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ih(){}t=ih.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Rc(){}Rc.prototype.g=function(w,N){return new ti(w,N)};function ti(w,N){tt.call(this),this.g=new rh(N),this.l=w,this.h=N&&N.messageUrlParams||null,w=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(w?w["X-WebChannel-Content-Type"]=N.messageContentType:w={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.va&&(w?w["X-WebChannel-Client-Profile"]=N.va:w={"X-WebChannel-Client-Profile":N.va}),this.g.S=w,(w=N&&N.Sb)&&!E(w)&&(this.g.m=w),this.v=N&&N.supportsCrossDomainXhr||!1,this.u=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!E(N)&&(this.g.D=N,w=this.h,w!==null&&N in w&&(w=this.h,N in w&&delete w[N])),this.j=new po(this)}g(ti,tt),ti.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ti.prototype.close=function(){An(this.g)},ti.prototype.o=function(w){var N=this.g;if(typeof w=="string"){var B={};B.__data__=w,w=B}else this.u&&(B={},B.__data__=bn(w),w=B);N.i.push(new C0(N.Ya++,w)),N.G==3&&ho(N)},ti.prototype.N=function(){this.g.l=null,delete this.j,An(this.g),delete this.g,ti.aa.N.call(this)};function z0(w){Ca.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var N=w.__sm__;if(N){e:{for(const B in N){w=B;break e}w=void 0}(this.i=w)&&(w=this.i,N=N!==null&&w in N?N[w]:void 0),this.data=N}else this.data=w}g(z0,Ca);function W0(){Ts.call(this),this.status=1}g(W0,Ts);function po(w){this.g=w}g(po,ih),po.prototype.ua=function(){gt(this.g,"a")},po.prototype.ta=function(w){gt(this.g,new z0(w))},po.prototype.sa=function(w){gt(this.g,new W0)},po.prototype.ra=function(){gt(this.g,"b")},Rc.prototype.createWebChannel=Rc.prototype.g,ti.prototype.send=ti.prototype.o,ti.prototype.open=ti.prototype.m,ti.prototype.close=ti.prototype.close,a$=function(){return new Rc},i$=function(){return Bu()},n$=uo,MO={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mc.NO_ERROR=0,mc.TIMEOUT=8,mc.HTTP_ERROR=6,ey=mc,A0.COMPLETE="complete",r$=A0,Fu.EventType=Ni,Ni.OPEN="a",Ni.CLOSE="b",Ni.ERROR="c",Ni.MESSAGE="d",tt.prototype.listen=tt.prototype.K,rp=Fu,mr.prototype.listenOnce=mr.prototype.L,mr.prototype.getLastError=mr.prototype.Ka,mr.prototype.getLastErrorCode=mr.prototype.Ba,mr.prototype.getStatus=mr.prototype.Z,mr.prototype.getResponseJson=mr.prototype.Oa,mr.prototype.getResponseText=mr.prototype.oa,mr.prototype.send=mr.prototype.ea,mr.prototype.setWithCredentials=mr.prototype.Ha,t$=mr}).apply(typeof $g<"u"?$g:typeof self<"u"?self:typeof window<"u"?window:{});const MN="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wn.UNAUTHENTICATED=new Wn(null),Wn.GOOGLE_CREDENTIALS=new Wn("google-credentials-uid"),Wn.FIRST_PARTY=new Wn("first-party-uid"),Wn.MOCK_USER=new Wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xd="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=new WC("@firebase/firestore");function Ih(){return Ul.logLevel}function We(t,...e){if(Ul.logLevel<=Tt.DEBUG){const r=e.map(iI);Ul.debug(`Firestore (${xd}): ${t}`,...r)}}function ms(t,...e){if(Ul.logLevel<=Tt.ERROR){const r=e.map(iI);Ul.error(`Firestore (${xd}): ${t}`,...r)}}function Nf(t,...e){if(Ul.logLevel<=Tt.WARN){const r=e.map(iI);Ul.warn(`Firestore (${xd}): ${t}`,...r)}}function iI(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t="Unexpected state"){const e=`FIRESTORE (${xd}) INTERNAL ASSERTION FAILED: `+t;throw ms(e),new Error(e)}function Kt(t,e){t||ct()}function pt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends Bo{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Wn.UNAUTHENTICATED))}shutdown(){}}class ZZ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class JZ{constructor(e){this.t=e,this.currentUser=Wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Kt(this.o===void 0);let n=this.i;const i=u=>this.i!==n?(n=this.i,r(u)):Promise.resolve();let a=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new fs,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=a;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},s=u=>{We("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>s(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?s(u):(We("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new fs)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(We("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Kt(typeof n.accessToken=="string"),new o$(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Kt(e===null||typeof e=="string"),new Wn(e)}}class eJ{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Wn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class tJ{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new eJ(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Wn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rJ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nJ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Kt(this.o===void 0);const n=a=>{a.error!=null&&We("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,We("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{We("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):We("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Kt(typeof r.token=="string"),this.R=r.token,new rJ(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iJ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=iJ(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function Mt(t,e){return t<e?-1:t>e?1:0}function kf(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new $e(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new $e(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new $e(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ar.fromMillis(Date.now())}static fromDate(e){return Ar.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new Ar(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new dt(e)}static min(){return new dt(new Ar(0,0))}static max(){return new dt(new Ar(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,r,n){r===void 0?r=0:r>e.length&&ct(),n===void 0?n=e.length-r:n>e.length-r&&ct(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return kp.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof kp?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),o=r.get(i);if(a<o)return-1;if(a>o)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class gr extends kp{construct(e,r,n){return new gr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new $e(we.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new gr(r)}static emptyPath(){return new gr([])}}const aJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rn extends kp{construct(e,r,n){return new Rn(e,r,n)}static isValidIdentifier(e){return aJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rn(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new $e(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new $e(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $e(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=u,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(n+=s,i++):(a(),i++)}if(a(),o)throw new $e(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rn(r)}static emptyPath(){return new Rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(gr.fromString(e))}static fromName(e){return new Xe(gr.fromString(e).popFirst(5))}static empty(){return new Xe(gr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return gr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new gr(e.slice()))}}function oJ(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=dt.fromTimestamp(n===1e9?new Ar(r+1,0):new Ar(r,n));return new bu(i,Xe.empty(),e)}function sJ(t){return new bu(t.readTime,t.key,-1)}class bu{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new bu(dt.min(),Xe.empty(),-1)}static max(){return new bu(dt.max(),Xe.empty(),-1)}}function uJ(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Xe.comparator(t.documentKey,e.documentKey),r!==0?r:Mt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lJ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cJ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gv(t){if(t.code!==we.FAILED_PRECONDITION||t.message!==lJ)throw t;We("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ce((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Ce?r:Ce.resolve(r)}catch(r){return Ce.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Ce.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Ce.reject(r)}static resolve(e){return new Ce((r,n)=>{r(e)})}static reject(e){return new Ce((r,n)=>{n(e)})}static waitFor(e){return new Ce((r,n)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&r()},u=>n(u))}),o=!0,a===i&&r()})}static or(e){let r=Ce.resolve(!1);for(const n of e)r=r.next(i=>i?Ce.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new Ce((n,i)=>{const a=e.length,o=new Array(a);let s=0;for(let u=0;u<a;u++){const l=u;r(e[l]).next(c=>{o[l]=c,++s,s===a&&n(o)},c=>i(c))}})}static doWhile(e,r){return new Ce((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function fJ(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Kv(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}aI.oe=-1;function s_(t){return t==null}function Dy(t){return t===0&&1/t==-1/0}function dJ(t){return typeof t=="number"&&Number.isInteger(t)&&!Dy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function uc(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function u$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,r){this.comparator=e,this.root=r||Pn.EMPTY}insert(e,r){return new Or(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Pn.BLACK,null,null))}remove(e){return new Or(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ug(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ug(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ug(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ug(this.root,e,this.comparator,!0)}}class Ug{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pn{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??Pn.RED,this.left=i??Pn.EMPTY,this.right=a??Pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new Pn(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Pn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ct();const e=this.left.check();if(e!==this.right.check())throw ct();return e+(this.isRed()?0:1)}}Pn.EMPTY=null,Pn.RED=!0,Pn.BLACK=!1;Pn.EMPTY=new class{constructor(){this.size=0}get key(){throw ct()}get value(){throw ct()}get color(){throw ct()}get left(){throw ct()}get right(){throw ct()}copy(e,r,n,i,a){return this}insert(e,r,n){return new Pn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.comparator=e,this.data=new Or(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new jN(this.data.getIterator())}getIteratorFrom(e){return new jN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Nn)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Nn(this.comparator);return r.data=e,r}}class jN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new Ki([])}unionWith(e){let r=new Nn(Rn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Ki(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return kf(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new l$("Invalid base64 string: "+a):a}}(e);return new kn(r)}static fromUint8Array(e){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new kn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const hJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Eu(t){if(Kt(!!t),typeof t=="string"){let e=0;const r=hJ.exec(t);if(Kt(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Fr(t.seconds),nanos:Fr(t.nanos)}}function Fr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vl(t){return typeof t=="string"?kn.fromBase64String(t):kn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function sI(t){const e=t.mapValue.fields.__previous_value__;return oI(e)?sI(e):e}function Mp(t){const e=Eu(t.mapValue.fields.__local_write_time__.timestampValue);return new Ar(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pJ{constructor(e,r,n,i,a,o,s,u,l){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=l}}class Lp{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Lp("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Lp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg={mapValue:{}};function ql(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?oI(t)?4:gJ(t)?9007199254740991:vJ(t)?10:11:ct()}function No(t,e){if(t===e)return!0;const r=ql(t);if(r!==ql(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mp(t).isEqual(Mp(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Eu(i.timestampValue),s=Eu(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Vl(i.bytesValue).isEqual(Vl(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Fr(i.geoPointValue.latitude)===Fr(a.geoPointValue.latitude)&&Fr(i.geoPointValue.longitude)===Fr(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Fr(i.integerValue)===Fr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Fr(i.doubleValue),s=Fr(a.doubleValue);return o===s?Dy(o)===Dy(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return kf(t.arrayValue.values||[],e.arrayValue.values||[],No);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(LN(o)!==LN(s))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(s[u]===void 0||!No(o[u],s[u])))return!1;return!0}(t,e);default:return ct()}}function jp(t,e){return(t.values||[]).find(r=>No(r,e))!==void 0}function Mf(t,e){if(t===e)return 0;const r=ql(t),n=ql(e);if(r!==n)return Mt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Mt(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=Fr(a.integerValue||a.doubleValue),u=Fr(o.integerValue||o.doubleValue);return s<u?-1:s>u?1:s===u?0:isNaN(s)?isNaN(u)?0:-1:1}(t,e);case 3:return FN(t.timestampValue,e.timestampValue);case 4:return FN(Mp(t),Mp(e));case 5:return Mt(t.stringValue,e.stringValue);case 6:return function(a,o){const s=Vl(a),u=Vl(o);return s.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),u=o.split("/");for(let l=0;l<s.length&&l<u.length;l++){const c=Mt(s[l],u[l]);if(c!==0)return c}return Mt(s.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=Mt(Fr(a.latitude),Fr(o.latitude));return s!==0?s:Mt(Fr(a.longitude),Fr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return BN(t.arrayValue,e.arrayValue);case 10:return function(a,o){var s,u,l,c;const f=a.fields||{},h=o.fields||{},v=(s=f.value)===null||s===void 0?void 0:s.arrayValue,g=(u=h.value)===null||u===void 0?void 0:u.arrayValue,m=Mt(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((c=g?.values)===null||c===void 0?void 0:c.length)||0);return m!==0?m:BN(v,g)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Vg.mapValue&&o===Vg.mapValue)return 0;if(a===Vg.mapValue)return 1;if(o===Vg.mapValue)return-1;const s=a.fields||{},u=Object.keys(s),l=o.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let f=0;f<u.length&&f<c.length;++f){const h=Mt(u[f],c[f]);if(h!==0)return h;const v=Mf(s[u[f]],l[c[f]]);if(v!==0)return v}return Mt(u.length,c.length)}(t.mapValue,e.mapValue);default:throw ct()}}function FN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Mt(t,e);const r=Eu(t),n=Eu(e),i=Mt(r.seconds,n.seconds);return i!==0?i:Mt(r.nanos,n.nanos)}function BN(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Mf(r[i],n[i]);if(a)return a}return Mt(r.length,n.length)}function Lf(t){return LO(t)}function LO(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Eu(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Vl(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Xe.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=LO(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${LO(r.fields[o])}`;return i+"}"}(t.mapValue):ct()}function $N(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jO(t){return!!t&&"integerValue"in t}function uI(t){return!!t&&"arrayValue"in t}function UN(t){return!!t&&"nullValue"in t}function VN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ty(t){return!!t&&"mapValue"in t}function vJ(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function vp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return uc(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=vp(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=vp(t.arrayValue.values[r]);return e}return Object.assign({},t)}function gJ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.value=e}static empty(){return new Ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!ty(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=vp(r)}setAll(e){let r=Rn.emptyPath(),n={},i=[];e.forEach((o,s)=>{if(!r.isImmediateParentOf(s)){const u=this.getFieldsMap(r);this.applyChanges(u,n,i),n={},i=[],r=s.popLast()}o?n[s.lastSegment()]=vp(o):i.push(s.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());ty(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return No(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];ty(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){uc(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new Ai(vp(this.value))}}function c$(t){const e=[];return uc(t.fields,(r,n)=>{const i=new Rn([r]);if(ty(n)){const a=c$(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new Ki(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,r,n,i,a,o,s){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Hn(e,0,dt.min(),dt.min(),dt.min(),Ai.empty(),0)}static newFoundDocument(e,r,n,i){return new Hn(e,1,r,dt.min(),n,i,0)}static newNoDocument(e,r){return new Hn(e,2,r,dt.min(),dt.min(),Ai.empty(),0)}static newUnknownDocument(e,r){return new Hn(e,3,r,dt.min(),dt.min(),Ai.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,r){this.position=e,this.inclusive=r}}function qN(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=Xe.comparator(Xe.fromName(o.referenceValue),r.key):n=Mf(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function zN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!No(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,r="asc"){this.field=e,this.dir=r}}function mJ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${}class zr extends f${constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new _J(e,r,n):r==="array-contains"?new bJ(e,n):r==="in"?new EJ(e,n):r==="not-in"?new AJ(e,n):r==="array-contains-any"?new SJ(e,n):new zr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new wJ(e,n):new xJ(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Mf(r,this.value)):r!==null&&ql(this.value)===ql(r)&&this.matchesComparison(Mf(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ct()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class to extends f${constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new to(e,r)}matches(e){return d$(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function d$(t){return t.op==="and"}function h$(t){return yJ(t)&&d$(t)}function yJ(t){for(const e of t.filters)if(e instanceof to)return!1;return!0}function FO(t){if(t instanceof zr)return t.field.canonicalString()+t.op.toString()+Lf(t.value);if(h$(t))return t.filters.map(e=>FO(e)).join(",");{const e=t.filters.map(r=>FO(r)).join(",");return`${t.op}(${e})`}}function p$(t,e){return t instanceof zr?function(n,i){return i instanceof zr&&n.op===i.op&&n.field.isEqual(i.field)&&No(n.value,i.value)}(t,e):t instanceof to?function(n,i){return i instanceof to&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,s)=>a&&p$(o,i.filters[s]),!0):!1}(t,e):void ct()}function v$(t){return t instanceof zr?function(r){return`${r.field.canonicalString()} ${r.op} ${Lf(r.value)}`}(t):t instanceof to?function(r){return r.op.toString()+" {"+r.getFilters().map(v$).join(" ,")+"}"}(t):"Filter"}class _J extends zr{constructor(e,r,n){super(e,r,n),this.key=Xe.fromName(n.referenceValue)}matches(e){const r=Xe.comparator(e.key,this.key);return this.matchesComparison(r)}}class wJ extends zr{constructor(e,r){super(e,"in",r),this.keys=g$("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class xJ extends zr{constructor(e,r){super(e,"not-in",r),this.keys=g$("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function g$(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Xe.fromName(n.referenceValue))}class bJ extends zr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return uI(r)&&jp(r.arrayValue,this.value)}}class EJ extends zr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&jp(this.value.arrayValue,r)}}class AJ extends zr{constructor(e,r){super(e,"not-in",r)}matches(e){if(jp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!jp(this.value.arrayValue,r)}}class SJ extends zr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!uI(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>jp(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OJ{constructor(e,r=null,n=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ue=null}}function WN(t,e=null,r=[],n=[],i=null,a=null,o=null){return new OJ(t,e,r,n,i,a,o)}function lI(t){const e=pt(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>FO(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),s_(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Lf(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Lf(n)).join(",")),e.ue=r}return e.ue}function cI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!mJ(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!p$(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zN(t.startAt,e.startAt)&&zN(t.endAt,e.endAt)}function BO(t){return Xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,r=null,n=[],i=[],a=null,o="F",s=null,u=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function TJ(t,e,r,n,i,a,o,s){return new bd(t,e,r,n,i,a,o,s)}function u_(t){return new bd(t)}function HN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function m$(t){return t.collectionGroup!==null}function gp(t){const e=pt(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new Nn(Rn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(s=s.add(l.field))})}),s})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Fp(a,n))}),r.has(Rn.keyField().canonicalString())||e.ce.push(new Fp(Rn.keyField(),n))}return e.ce}function To(t){const e=pt(t);return e.le||(e.le=CJ(e,gp(t))),e.le}function CJ(t,e){if(t.limitType==="F")return WN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Fp(i.field,a)});const r=t.endAt?new Ny(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Ny(t.startAt.position,t.startAt.inclusive):null;return WN(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function $O(t,e){const r=t.filters.concat([e]);return new bd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function UO(t,e,r){return new bd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function l_(t,e){return cI(To(t),To(e))&&t.limitType===e.limitType}function y$(t){return`${lI(To(t))}|lt:${t.limitType}`}function ff(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>v$(i)).join(", ")}]`),s_(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Lf(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Lf(i)).join(",")),`Target(${n})`}(To(t))}; limitType=${t.limitType})`}function c_(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Xe.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of gp(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,s,u){const l=qN(o,s,u);return o.inclusive?l<=0:l<0}(n.startAt,gp(n),i)||n.endAt&&!function(o,s,u){const l=qN(o,s,u);return o.inclusive?l>=0:l>0}(n.endAt,gp(n),i))}(t,e)}function IJ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _$(t){return(e,r)=>{let n=!1;for(const i of gp(t)){const a=PJ(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function PJ(t,e,r){const n=t.field.isKeyField()?Xe.comparator(e.key,r.key):function(a,o,s){const u=o.data.field(a),l=s.data.field(a);return u!==null&&l!==null?Mf(u,l):ct()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ct()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){uc(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return u$(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RJ=new Or(Xe.comparator);function ys(){return RJ}const w$=new Or(Xe.comparator);function np(...t){let e=w$;for(const r of t)e=e.insert(r.key,r);return e}function x$(t){let e=w$;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function El(){return mp()}function b$(){return mp()}function mp(){return new Ed(t=>t.toString(),(t,e)=>t.isEqual(e))}const DJ=new Or(Xe.comparator),NJ=new Nn(Xe.comparator);function St(...t){let e=NJ;for(const r of t)e=e.add(r);return e}const kJ=new Nn(Mt);function MJ(){return kJ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dy(e)?"-0":e}}function E$(t){return{integerValue:""+t}}function LJ(t,e){return dJ(e)?E$(e):fI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(){this._=void 0}}function jJ(t,e,r){return t instanceof Bp?function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&oI(a)&&(a=sI(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(r,e):t instanceof $p?S$(t,e):t instanceof Up?O$(t,e):function(i,a){const o=A$(i,a),s=GN(o)+GN(i.Pe);return jO(o)&&jO(i.Pe)?E$(s):fI(i.serializer,s)}(t,e)}function FJ(t,e,r){return t instanceof $p?S$(t,e):t instanceof Up?O$(t,e):r}function A$(t,e){return t instanceof ky?function(n){return jO(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Bp extends f_{}class $p extends f_{constructor(e){super(),this.elements=e}}function S$(t,e){const r=T$(e);for(const n of t.elements)r.some(i=>No(i,n))||r.push(n);return{arrayValue:{values:r}}}class Up extends f_{constructor(e){super(),this.elements=e}}function O$(t,e){let r=T$(e);for(const n of t.elements)r=r.filter(i=>!No(i,n));return{arrayValue:{values:r}}}class ky extends f_{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function GN(t){return Fr(t.integerValue||t.doubleValue)}function T$(t){return uI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BJ{constructor(e,r){this.field=e,this.transform=r}}function $J(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof $p&&i instanceof $p||n instanceof Up&&i instanceof Up?kf(n.elements,i.elements,No):n instanceof ky&&i instanceof ky?No(n.Pe,i.Pe):n instanceof Bp&&i instanceof Bp}(t.transform,e.transform)}class UJ{constructor(e,r){this.version=e,this.transformResults=r}}class _a{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new _a}static exists(e){return new _a(void 0,e)}static updateTime(e){return new _a(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ry(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class d_{}function C$(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dI(t.key,_a.none()):new Xv(t.key,t.data,_a.none());{const r=t.data,n=Ai.empty();let i=new Nn(Rn.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new Pu(t.key,n,new Ki(i.toArray()),_a.none())}}function VJ(t,e,r){t instanceof Xv?function(i,a,o){const s=i.value.clone(),u=XN(i.fieldTransforms,a,o.transformResults);s.setAll(u),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,r):t instanceof Pu?function(i,a,o){if(!ry(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=XN(i.fieldTransforms,a,o.transformResults),u=a.data;u.setAll(I$(i)),u.setAll(s),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function yp(t,e,r,n){return t instanceof Xv?function(a,o,s,u){if(!ry(a.precondition,o))return s;const l=a.value.clone(),c=YN(a.fieldTransforms,u,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,r,n):t instanceof Pu?function(a,o,s,u){if(!ry(a.precondition,o))return s;const l=YN(a.fieldTransforms,u,o),c=o.data;return c.setAll(I$(a)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(a,o,s){return ry(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,r)}function qJ(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=A$(n.transform,i||null);a!=null&&(r===null&&(r=Ai.empty()),r.set(n.field,a))}return r||null}function KN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&kf(n,i,(a,o)=>$J(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xv extends d_{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pu extends d_{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function I$(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function XN(t,e,r){const n=new Map;Kt(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);n.set(a.field,FJ(o,s,r[i]))}return n}function YN(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,jJ(a,o,e))}return n}class dI extends d_{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zJ extends d_{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WJ{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&VJ(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=yp(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=yp(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=b$();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=r.has(i.key)?null:s;const u=C$(o,s);u!==null&&n.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(dt.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),St())}isEqual(e){return this.batchId===e.batchId&&kf(this.mutations,e.mutations,(r,n)=>KN(r,n))&&kf(this.baseMutations,e.baseMutations,(r,n)=>KN(r,n))}}class hI{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Kt(e.mutations.length===n.length);let i=function(){return DJ}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new hI(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HJ=class{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GJ{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vr,It;function KJ(t){switch(t){default:return ct();case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0}}function P$(t){if(t===void 0)return ms("GRPC error has no .code"),we.UNKNOWN;switch(t){case Vr.OK:return we.OK;case Vr.CANCELLED:return we.CANCELLED;case Vr.UNKNOWN:return we.UNKNOWN;case Vr.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case Vr.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case Vr.INTERNAL:return we.INTERNAL;case Vr.UNAVAILABLE:return we.UNAVAILABLE;case Vr.UNAUTHENTICATED:return we.UNAUTHENTICATED;case Vr.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case Vr.NOT_FOUND:return we.NOT_FOUND;case Vr.ALREADY_EXISTS:return we.ALREADY_EXISTS;case Vr.PERMISSION_DENIED:return we.PERMISSION_DENIED;case Vr.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case Vr.ABORTED:return we.ABORTED;case Vr.OUT_OF_RANGE:return we.OUT_OF_RANGE;case Vr.UNIMPLEMENTED:return we.UNIMPLEMENTED;case Vr.DATA_LOSS:return we.DATA_LOSS;default:return ct()}}(It=Vr||(Vr={}))[It.OK=0]="OK",It[It.CANCELLED=1]="CANCELLED",It[It.UNKNOWN=2]="UNKNOWN",It[It.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",It[It.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",It[It.NOT_FOUND=5]="NOT_FOUND",It[It.ALREADY_EXISTS=6]="ALREADY_EXISTS",It[It.PERMISSION_DENIED=7]="PERMISSION_DENIED",It[It.UNAUTHENTICATED=16]="UNAUTHENTICATED",It[It.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",It[It.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",It[It.ABORTED=10]="ABORTED",It[It.OUT_OF_RANGE=11]="OUT_OF_RANGE",It[It.UNIMPLEMENTED=12]="UNIMPLEMENTED",It[It.INTERNAL=13]="INTERNAL",It[It.UNAVAILABLE=14]="UNAVAILABLE",It[It.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XJ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YJ=new Pl([4294967295,4294967295],0);function QN(t){const e=XJ().encode(t),r=new e$;return r.update(e),new Uint8Array(r.digest())}function ZN(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Pl([r,n],0),new Pl([i,a],0)]}class pI{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new ip(`Invalid padding: ${r}`);if(n<0)throw new ip(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new ip(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new ip(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Pl.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(Pl.fromNumber(n)));return i.compare(YJ)===1&&(i=new Pl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=QN(e),[n,i]=ZN(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);if(!this.de(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new pI(a,i,r);return n.forEach(s=>o.insert(s)),o}insert(e){if(this.Ie===0)return;const r=QN(e),[n,i]=ZN(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);this.Ae(o)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class ip extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Yv.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new h_(dt.min(),i,new Or(Mt),ys(),St())}}class Yv{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Yv(n,r,St(),St(),St())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class R${constructor(e,r){this.targetId=e,this.me=r}}class D${constructor(e,r,n=kn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class JN{constructor(){this.fe=0,this.ge=tk(),this.pe=kn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=St(),r=St(),n=St();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:ct()}}),new Yv(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=tk()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Kt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class QJ{constructor(e){this.Le=e,this.Be=new Map,this.ke=ys(),this.qe=ek(),this.Qe=new Or(Mt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:ct()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const a=i.target;if(BO(a))if(n===0){const o=new Xe(a.path);this.Ue(r,o,Hn.newNoDocument(o,dt.min()))}else Kt(n===1);else{const o=this.Ye(r);if(o!==n){const s=this.Ze(e),u=s?this.Xe(s,e,o):1;if(u!==0){this.je(r);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,l)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,s;try{o=Vl(n).toUint8Array()}catch(u){if(u instanceof l$)return Nf("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{s=new pI(o,i,a)}catch(u){return Nf(u instanceof ip?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return s.Ie===0?null:s}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.Le.tt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.Ue(r,a,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((a,o)=>{const s=this.Je(o);if(s){if(a.current&&BO(s.target)){const u=new Xe(s.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Hn.newNoDocument(u,e))}a.be&&(r.set(o,a.ve()),a.Ce())}});let n=St();this.qe.forEach((a,o)=>{let s=!0;o.forEachWhile(u=>{const l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(n=n.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(e));const i=new h_(e,r,this.Qe,this.ke,n);return this.ke=ys(),this.qe=ek(),this.Qe=new Or(Mt),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new JN,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Nn(Mt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||We("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new JN),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function ek(){return new Or(Xe.comparator)}function tk(){return new Or(Xe.comparator)}const ZJ={asc:"ASCENDING",desc:"DESCENDING"},JJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eee={and:"AND",or:"OR"};class tee{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function VO(t,e){return t.useProto3Json||s_(e)?e:{value:e}}function My(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function N$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ree(t,e){return My(t,e.toTimestamp())}function Co(t){return Kt(!!t),dt.fromTimestamp(function(r){const n=Eu(r);return new Ar(n.seconds,n.nanos)}(t))}function vI(t,e){return qO(t,e).canonicalString()}function qO(t,e){const r=function(i){return new gr(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function k$(t){const e=gr.fromString(t);return Kt(B$(e)),e}function zO(t,e){return vI(t.databaseId,e.path)}function db(t,e){const r=k$(e);if(r.get(1)!==t.databaseId.projectId)throw new $e(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new $e(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Xe(L$(r))}function M$(t,e){return vI(t.databaseId,e)}function nee(t){const e=k$(t);return e.length===4?gr.emptyPath():L$(e)}function WO(t){return new gr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function L$(t){return Kt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function rk(t,e,r){return{name:zO(t,e),fields:r.value.mapValue.fields}}function iee(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ct()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(l,c){return l.useProto3Json?(Kt(c===void 0||typeof c=="string"),kn.fromBase64String(c||"")):(Kt(c===void 0||c instanceof Buffer||c instanceof Uint8Array),kn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(l){const c=l.code===void 0?we.UNKNOWN:P$(l.code);return new $e(c,l.message||"")}(o);r=new D$(n,i,a,s||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=db(t,n.document.name),a=Co(n.document.updateTime),o=n.document.createTime?Co(n.document.createTime):dt.min(),s=new Ai({mapValue:{fields:n.document.fields}}),u=Hn.newFoundDocument(i,a,o,s),l=n.targetIds||[],c=n.removedTargetIds||[];r=new ny(l,c,u.key,u)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=db(t,n.document),a=n.readTime?Co(n.readTime):dt.min(),o=Hn.newNoDocument(i,a),s=n.removedTargetIds||[];r=new ny([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=db(t,n.document),a=n.removedTargetIds||[];r=new ny([],a,i,null)}else{if(!("filter"in e))return ct();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new GJ(i,a),s=n.targetId;r=new R$(s,o)}}return r}function aee(t,e){let r;if(e instanceof Xv)r={update:rk(t,e.key,e.value)};else if(e instanceof dI)r={delete:zO(t,e.key)};else if(e instanceof Pu)r={update:rk(t,e.key,e.data),updateMask:pee(e.fieldMask)};else{if(!(e instanceof zJ))return ct();r={verify:zO(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,o){const s=o.transform;if(s instanceof Bp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof $p)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Up)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof ky)return{fieldPath:o.field.canonicalString(),increment:s.Pe};throw ct()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:ree(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ct()}(t,e.precondition)),r}function oee(t,e){return t&&t.length>0?(Kt(e!==void 0),t.map(r=>function(i,a){let o=i.updateTime?Co(i.updateTime):Co(a);return o.isEqual(dt.min())&&(o=Co(a)),new UJ(o,i.transformResults||[])}(r,e))):[]}function see(t,e){return{documents:[M$(t,e.path)]}}function uee(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=M$(t,i);const a=function(l){if(l.length!==0)return F$(to.create(l,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:df(h.field),direction:fee(h.dir)}}(c))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const s=VO(t,e.limit);return s!==null&&(r.structuredQuery.limit=s),e.startAt&&(r.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:r,parent:i}}function lee(t){let e=nee(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Kt(n===1);const c=r.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let a=[];r.where&&(a=function(f){const h=j$(f);return h instanceof to&&h$(h)?h.getFilters():[h]}(r.where));let o=[];r.orderBy&&(o=function(f){return f.map(h=>function(g){return new Fp(hf(g.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(r.orderBy));let s=null;r.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,s_(h)?null:h}(r.limit));let u=null;r.startAt&&(u=function(f){const h=!!f.before,v=f.values||[];return new Ny(v,h)}(r.startAt));let l=null;return r.endAt&&(l=function(f){const h=!f.before,v=f.values||[];return new Ny(v,h)}(r.endAt)),TJ(e,i,o,a,s,"F",u,l)}function cee(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ct()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function j$(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=hf(r.unaryFilter.field);return zr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=hf(r.unaryFilter.field);return zr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=hf(r.unaryFilter.field);return zr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=hf(r.unaryFilter.field);return zr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ct()}}(t):t.fieldFilter!==void 0?function(r){return zr.create(hf(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ct()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return to.create(r.compositeFilter.filters.map(n=>j$(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ct()}}(r.compositeFilter.op))}(t):ct()}function fee(t){return ZJ[t]}function dee(t){return JJ[t]}function hee(t){return eee[t]}function df(t){return{fieldPath:t.canonicalString()}}function hf(t){return Rn.fromServerFormat(t.fieldPath)}function F$(t){return t instanceof zr?function(r){if(r.op==="=="){if(VN(r.value))return{unaryFilter:{field:df(r.field),op:"IS_NAN"}};if(UN(r.value))return{unaryFilter:{field:df(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(VN(r.value))return{unaryFilter:{field:df(r.field),op:"IS_NOT_NAN"}};if(UN(r.value))return{unaryFilter:{field:df(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:df(r.field),op:dee(r.op),value:r.value}}}(t):t instanceof to?function(r){const n=r.getFilters().map(i=>F$(i));return n.length===1?n[0]:{compositeFilter:{op:hee(r.op),filters:n}}}(t):ct()}function pee(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function B$(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,r,n,i,a=dt.min(),o=dt.min(),s=kn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}withSequenceNumber(e){return new fu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new fu(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vee{constructor(e){this.ct=e}}function gee(t){const e=lee({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?UO(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mee{constructor(){this.un=new yee}addToCollectionParentIndex(e,r){return this.un.add(r),Ce.resolve()}getCollectionParents(e,r){return Ce.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return Ce.resolve()}deleteFieldIndex(e,r){return Ce.resolve()}deleteAllFieldIndexes(e){return Ce.resolve()}createTargetIndexes(e,r){return Ce.resolve()}getDocumentsMatchingTarget(e,r){return Ce.resolve(null)}getIndexType(e,r){return Ce.resolve(0)}getFieldIndexes(e,r){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,r){return Ce.resolve(bu.min())}getMinOffsetFromCollectionGroup(e,r){return Ce.resolve(bu.min())}updateCollectionGroup(e,r,n){return Ce.resolve()}updateIndexEntries(e,r){return Ce.resolve()}}class yee{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Nn(gr.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Nn(gr.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new jf(0)}static kn(){return new jf(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ee{constructor(){this.changes=new Ed(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Hn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Ce.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wee{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xee{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&yp(n.mutation,i,Ki.empty(),Ar.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,St()).next(()=>n))}getLocalViewOfDocuments(e,r,n=St()){const i=El();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let o=np();return a.forEach((s,u)=>{o=o.insert(s,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=El();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,St()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{r.set(o,s)})})}computeViews(e,r,n,i){let a=ys();const o=mp(),s=function(){return mp()}();return r.forEach((u,l)=>{const c=n.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof Pu)?a=a.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),yp(c.mutation,l,c.mutation.getFieldMask(),Ar.now())):o.set(l.key,Ki.empty())}),this.recalculateAndSaveOverlays(e,a).next(u=>(u.forEach((l,c)=>o.set(l,c)),r.forEach((l,c)=>{var f;return s.set(l,new wee(c,(f=o.get(l))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,r){const n=mp();let i=new Or((o,s)=>o-s),a=St();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const s of o)s.keys().forEach(u=>{const l=r.get(u);if(l===null)return;let c=n.get(u)||Ki.empty();c=s.applyToLocalView(l,c),n.set(u,c);const f=(i.get(s.batchId)||St()).add(u);i=i.insert(s.batchId,f)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const u=s.getNext(),l=u.key,c=u.value,f=b$();c.forEach(h=>{if(!a.has(h)){const v=C$(r.get(h),n.get(h));v!==null&&f.set(h,v),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,f))}return Ce.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return Xe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):m$(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):Ce.resolve(El());let s=-1,u=a;return o.next(l=>Ce.forEach(l,(c,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),a.get(c)?Ce.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{u=u.insert(c,h)}))).next(()=>this.populateOverlays(e,l,a)).next(()=>this.computeViews(e,u,l,St())).next(c=>({batchId:s,changes:x$(c)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Xe(r)).next(n=>{let i=np();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=np();return this.indexManager.getCollectionParents(e,a).next(s=>Ce.forEach(s,u=>{const l=function(f,h){return new bd(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,l,n,i).next(c=>{c.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(o=>{a.forEach((u,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,Hn.newInvalidDocument(c)))});let s=np();return o.forEach((u,l)=>{const c=a.get(u);c!==void 0&&yp(c.mutation,l,Ki.empty(),Ar.now()),c_(r,l)&&(s=s.insert(u,l))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bee{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return Ce.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Co(i.createTime)}}(r)),Ce.resolve()}getNamedQuery(e,r){return Ce.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:gee(i.bundledQuery),readTime:Co(i.readTime)}}(r)),Ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eee{constructor(){this.overlays=new Or(Xe.comparator),this.Ir=new Map}getOverlay(e,r){return Ce.resolve(this.overlays.get(r))}getOverlays(e,r){const n=El();return Ce.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.ht(e,r,a)}),Ce.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),Ce.resolve()}getOverlaysForCollection(e,r,n){const i=El(),a=r.length+1,o=new Xe(r.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const u=s.getNext().value,l=u.getKey();if(!r.isPrefixOf(l.path))break;l.path.length===a&&u.largestBatchId>n&&i.set(u.getKey(),u)}return Ce.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Or((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===r&&l.largestBatchId>n){let c=a.get(l.largestBatchId);c===null&&(c=El(),a=a.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const s=El(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>s.set(l,c)),!(s.size()>=i)););return Ce.resolve(s)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new HJ(r,n));let a=this.Ir.get(r);a===void 0&&(a=St(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aee{constructor(){this.sessionToken=kn.EMPTY_BYTE_STRING}getSessionToken(e){return Ce.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.Tr=new Nn(mn.Er),this.dr=new Nn(mn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new mn(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new mn(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new Xe(new gr([])),n=new mn(r,e),i=new mn(r,e+1),a=[];return this.dr.forEachInRange([n,i],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Xe(new gr([])),n=new mn(r,e),i=new mn(r,e+1);let a=St();return this.dr.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new mn(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class mn{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Xe.comparator(e.key,r.key)||Mt(e.wr,r.wr)}static Ar(e,r){return Mt(e.wr,r.wr)||Xe.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class See{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Nn(mn.Er)}checkEmpty(e){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new WJ(a,r,n,i);this.mutationQueue.push(o);for(const s of i)this.br=this.br.add(new mn(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Ce.resolve(o)}lookupMutationBatch(e,r){return Ce.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return Ce.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new mn(r,0),i=new mn(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],o=>{const s=this.Dr(o.wr);a.push(s)}),Ce.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Nn(Mt);return r.forEach(i=>{const a=new mn(i,0),o=new mn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],s=>{n=n.add(s.wr)})}),Ce.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;Xe.isDocumentKey(a)||(a=a.child(""));const o=new mn(new Xe(a),0);let s=new Nn(Mt);return this.br.forEachWhile(u=>{const l=u.key.path;return!!n.isPrefixOf(l)&&(l.length===i&&(s=s.add(u.wr)),!0)},o),Ce.resolve(this.Cr(s))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Kt(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return Ce.forEach(r.mutations,i=>{const a=new mn(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new mn(r,0),i=this.br.firstAfterOrEqual(n);return Ce.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ce.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oee{constructor(e){this.Mr=e,this.docs=function(){return new Or(Xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Ce.resolve(n?n.document.mutableCopy():Hn.newInvalidDocument(r))}getEntries(e,r){let n=ys();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Hn.newInvalidDocument(i))}),Ce.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=ys();const o=r.path,s=new Xe(o.child("")),u=this.docs.getIteratorFrom(s);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||uJ(sJ(c),n)<=0||(i.has(c.key)||c_(r,c))&&(a=a.insert(c.key,c.mutableCopy()))}return Ce.resolve(a)}getAllFromCollectionGroup(e,r,n,i){ct()}Or(e,r){return Ce.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new Tee(this)}getSize(e){return Ce.resolve(this.size)}}class Tee extends _ee{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),Ce.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cee{constructor(e){this.persistence=e,this.Nr=new Ed(r=>lI(r),cI),this.lastRemoteSnapshotVersion=dt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new gI,this.targetCount=0,this.kr=jf.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),Ce.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new jf(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,Ce.resolve()}updateTargetData(e,r){return this.Kn(r),Ce.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Nr.forEach((o,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Ce.waitFor(a).next(()=>i)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return Ce.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),Ce.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),Ce.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),Ce.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return Ce.resolve(n)}containsKey(e,r){return Ce.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iee{constructor(e,r){this.qr={},this.overlays={},this.Qr=new aI(0),this.Kr=!1,this.Kr=!0,this.$r=new Aee,this.referenceDelegate=e(this),this.Ur=new Cee(this),this.indexManager=new mee,this.remoteDocumentCache=function(i){return new Oee(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new vee(r),this.Gr=new bee(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Eee,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new See(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){We("MemoryPersistence","Starting transaction:",e);const i=new Pee(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,r){return Ce.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class Pee extends cJ{constructor(e){super(),this.currentSequenceNumber=e}}class mI{constructor(e){this.persistence=e,this.Jr=new gI,this.Yr=null}static Zr(e){return new mI(e)}get Xr(){if(this.Yr)return this.Yr;throw ct()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),Ce.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),Ce.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),Ce.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.Xr,n=>{const i=Xe.fromPath(n);return this.ei(e,i).next(a=>{a||r.removeEntry(i,dt.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return Ce.or([()=>Ce.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=St(),i=St();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new yI(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ree{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dee{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return EX()?8:fJ(Xn())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Yi(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(e,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new Ree;return this.Xi(e,r,o).next(s=>{if(a.result=s,this.zi)return this.es(e,r,o,s.size)})}).next(()=>a.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(Ih()<=Tt.DEBUG&&We("QueryEngine","SDK will not create cache indexes for query:",ff(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ce.resolve()):(Ih()<=Tt.DEBUG&&We("QueryEngine","Query:",ff(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Ih()<=Tt.DEBUG&&We("QueryEngine","The SDK decides to create cache indexes for query:",ff(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,To(r))):Ce.resolve())}Yi(e,r){if(HN(r))return Ce.resolve(null);let n=To(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=UO(r,null,"F"),n=To(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=St(...a);return this.Ji.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,n).next(u=>{const l=this.ts(r,s);return this.ns(r,l,o,u.readTime)?this.Yi(e,UO(r,null,"F")):this.rs(e,l,r,u)}))})))}Zi(e,r,n,i){return HN(r)||i.isEqual(dt.min())?Ce.resolve(null):this.Ji.getDocuments(e,n).next(a=>{const o=this.ts(r,a);return this.ns(r,o,n,i)?Ce.resolve(null):(Ih()<=Tt.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ff(r)),this.rs(e,o,r,oJ(i,-1)).next(s=>s))})}ts(e,r){let n=new Nn(_$(e));return r.forEach((i,a)=>{c_(e,a)&&(n=n.add(a))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,n){return Ih()<=Tt.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",ff(r)),this.Ji.getDocumentsMatchingQuery(e,r,bu.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nee{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Or(Mt),this._s=new Ed(a=>lI(a),cI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xee(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function kee(t,e,r,n){return new Nee(t,e,r,n)}async function $$(t,e){const r=pt(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],s=[];let u=St();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of a){s.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return r.localDocuments.getDocuments(n,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:s}))})})}function Mee(t,e){const r=pt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(s,u,l,c){const f=l.batch,h=f.keys();let v=Ce.resolve();return h.forEach(g=>{v=v.next(()=>c.getEntry(u,g)).next(m=>{const _=l.docVersions.get(g);Kt(_!==null),m.version.compareTo(_)<0&&(f.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),c.addEntry(m)))})}),v.next(()=>s.mutationQueue.removeMutationBatch(u,f))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(s){let u=St();for(let l=0;l<s.mutationResults.length;++l)s.mutationResults[l].transformResults.length>0&&(u=u.add(s.batch.mutations[l].key));return u}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function U$(t){const e=pt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function Lee(t,e){const r=pt(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const s=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;s.push(r.Ur.removeMatchingKeys(a,c.removedDocuments,f).next(()=>r.Ur.addMatchingKeys(a,c.addedDocuments,f)));let v=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(kn.EMPTY_BYTE_STRING,dt.min()).withLastLimboFreeSnapshotVersion(dt.min()):c.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(c.resumeToken,n)),i=i.insert(f,v),function(m,_,b){return m.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,v,c)&&s.push(r.Ur.updateTargetData(a,v))});let u=ys(),l=St();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(a,c))}),s.push(jee(a,o,e.documentUpdates).next(c=>{u=c.Ps,l=c.Is})),!n.isEqual(dt.min())){const c=r.Ur.getLastRemoteSnapshotVersion(a).next(f=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));s.push(c)}return Ce.waitFor(s).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,u,l)).next(()=>u)}).then(a=>(r.os=i,a))}function jee(t,e,r){let n=St(),i=St();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=ys();return r.forEach((s,u)=>{const l=a.get(s);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(s)),u.isNoDocument()&&u.version.isEqual(dt.min())?(e.removeEntry(s,u.readTime),o=o.insert(s,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(s,u)):We("LocalStore","Ignoring outdated watch update for ",s,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function Fee(t,e){const r=pt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Bee(t,e){const r=pt(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(a=>a?(i=a,Ce.resolve(i)):r.Ur.allocateTargetId(n).next(o=>(i=new fu(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function HO(t,e,r){const n=pt(t),i=n.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Kv(o))throw o;We("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function nk(t,e,r){const n=pt(t);let i=dt.min(),a=St();return n.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,c){const f=pt(u),h=f._s.get(c);return h!==void 0?Ce.resolve(f.os.get(h)):f.Ur.getTargetData(l,c)}(n,o,To(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,s.targetId).next(u=>{a=u})}).next(()=>n.ss.getDocumentsMatchingQuery(o,e,r?i:dt.min(),r?a:St())).next(s=>($ee(n,IJ(e),s),{documents:s,Ts:a})))}function $ee(t,e,r){let n=t.us.get(e)||dt.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.us.set(e,n)}class ik{constructor(){this.activeTargetIds=MJ()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Uee{constructor(){this.so=new ik,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ik,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vee{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){We("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){We("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qg=null;function hb(){return qg===null?qg=function(){return 268435456+Math.round(2147483648*Math.random())}():qg++,"0x"+qg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zee{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un="WebChannelConnection";class Wee extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,o){const s=hb(),u=this.xo(r,n.toUriEncodedString());We("RestConnection",`Sending RPC '${r}' ${s}:`,u,i);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,a,o),this.No(r,u,l,i).then(c=>(We("RestConnection",`Received RPC '${r}' ${s}: `,c),c),c=>{throw Nf("RestConnection",`RPC '${r}' ${s} failed with error: `,c,"url: ",u,"request:",i),c})}Lo(r,n,i,a,o,s){return this.Mo(r,n,i,a,o)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xd}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,o)=>r[o]=a),i&&i.headers.forEach((a,o)=>r[o]=a)}xo(r,n){const i=qee[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const a=hb();return new Promise((o,s)=>{const u=new t$;u.setWithCredentials(!0),u.listenOnce(r$.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ey.NO_ERROR:const c=u.getResponseJson();We(Un,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(c)),o(c);break;case ey.TIMEOUT:We(Un,`RPC '${e}' ${a} timed out`),s(new $e(we.DEADLINE_EXCEEDED,"Request time out"));break;case ey.HTTP_ERROR:const f=u.getStatus();if(We(Un,`RPC '${e}' ${a} failed with status:`,f,"response text:",u.getResponseText()),f>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const v=h?.error;if(v&&v.status&&v.message){const g=function(_){const b=_.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(b)>=0?b:we.UNKNOWN}(v.status);s(new $e(g,v.message))}else s(new $e(we.UNKNOWN,"Server responded with status "+u.getStatus()))}else s(new $e(we.UNAVAILABLE,"Connection failed."));break;default:ct()}}finally{We(Un,`RPC '${e}' ${a} completed.`)}});const l=JSON.stringify(i);We(Un,`RPC '${e}' ${a} sending request:`,i),u.send(r,"POST",l,n,15)})}Bo(e,r,n){const i=hb(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=a$(),s=i$(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,r,n),u.encodeInitMessageHeaders=!0;const c=a.join("");We(Un,`Creating RPC '${e}' stream ${i}: ${c}`,u);const f=o.createWebChannel(c,u);let h=!1,v=!1;const g=new zee({Io:_=>{v?We(Un,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(We(Un,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),We(Un,`RPC '${e}' stream ${i} sending:`,_),f.send(_))},To:()=>f.close()}),m=(_,b,E)=>{_.listen(b,A=>{try{E(A)}catch(C){setTimeout(()=>{throw C},0)}})};return m(f,rp.EventType.OPEN,()=>{v||(We(Un,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),m(f,rp.EventType.CLOSE,()=>{v||(v=!0,We(Un,`RPC '${e}' stream ${i} transport closed`),g.So())}),m(f,rp.EventType.ERROR,_=>{v||(v=!0,Nf(Un,`RPC '${e}' stream ${i} transport errored:`,_),g.So(new $e(we.UNAVAILABLE,"The operation could not be completed")))}),m(f,rp.EventType.MESSAGE,_=>{var b;if(!v){const E=_.data[0];Kt(!!E);const A=E,C=A.error||((b=A[0])===null||b===void 0?void 0:b.error);if(C){We(Un,`RPC '${e}' stream ${i} received error:`,C);const O=C.status;let R=function(T){const D=Vr[T];if(D!==void 0)return P$(D)}(O),I=C.message;R===void 0&&(R=we.INTERNAL,I="Unknown error status: "+O+" with message "+C.message),v=!0,g.So(new $e(R,I)),f.close()}else We(Un,`RPC '${e}' stream ${i} received:`,E),g.bo(E)}}),m(s,n$.STAT_EVENT,_=>{_.stat===MO.PROXY?We(Un,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===MO.NOPROXY&&We(Un,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function pb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(t){return new tee(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e,r,n=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&We("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e,r,n,i,a,o,s,u){this.ui=e,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new V$(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===we.RESOURCE_EXHAUSTED?(ms(r.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new $e(we.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return We("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(We("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Hee extends q${constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=iee(this.serializer,e),n=function(a){if(!("targetChange"in a))return dt.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?dt.min():o.readTime?Co(o.readTime):dt.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=WO(this.serializer),r.addTarget=function(a,o){let s;const u=o.target;if(s=BO(u)?{documents:see(a,u)}:{query:uee(a,u)._t},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=N$(a,o.resumeToken);const l=VO(a,o.expectedCount);l!==null&&(s.expectedCount=l)}else if(o.snapshotVersion.compareTo(dt.min())>0){s.readTime=My(a,o.snapshotVersion.toTimestamp());const l=VO(a,o.expectedCount);l!==null&&(s.expectedCount=l)}return s}(this.serializer,e);const n=cee(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=WO(this.serializer),r.removeTarget=e,this.a_(r)}}class Gee extends q${constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return Kt(!!e.streamToken),this.lastStreamToken=e.streamToken,Kt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=oee(e.writeResults,e.commitTime),n=Co(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=WO(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>aee(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kee extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new $e(we.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(e,qO(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new $e(we.UNKNOWN,a.toString())})}Lo(e,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Lo(e,qO(r,n),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $e(we.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Xee{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ms(r),this.D_=!1):We("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yee{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{n.enqueueAndForget(async()=>{lc(this)&&(We("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=pt(u);l.L_.add(4),await Qv(l),l.q_.set("Unknown"),l.L_.delete(4),await v_(l)}(this))})}),this.q_=new Xee(n,i)}}async function v_(t){if(lc(t))for(const e of t.B_)await e(!0)}async function Qv(t){for(const e of t.B_)await e(!1)}function z$(t,e){const r=pt(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),bI(r)?xI(r):Ad(r).r_()&&wI(r,e))}function _I(t,e){const r=pt(t),n=Ad(r);r.N_.delete(e),n.r_()&&W$(r,e),r.N_.size===0&&(n.r_()?n.o_():lc(r)&&r.q_.set("Unknown"))}function wI(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(dt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Ad(t).A_(e)}function W$(t,e){t.Q_.xe(e),Ad(t).R_(e)}function xI(t){t.Q_=new QJ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ad(t).start(),t.q_.v_()}function bI(t){return lc(t)&&!Ad(t).n_()&&t.N_.size>0}function lc(t){return pt(t).L_.size===0}function H$(t){t.Q_=void 0}async function Qee(t){t.q_.set("Online")}async function Zee(t){t.N_.forEach((e,r)=>{wI(t,e)})}async function Jee(t,e){H$(t),bI(t)?(t.q_.M_(e),xI(t)):t.q_.set("Unknown")}async function ete(t,e,r){if(t.q_.set("Online"),e instanceof D$&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(n){We("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Ly(t,n)}else if(e instanceof ny?t.Q_.Ke(e):e instanceof R$?t.Q_.He(e):t.Q_.We(e),!r.isEqual(dt.min()))try{const n=await U$(t.localStore);r.compareTo(n)>=0&&await function(a,o){const s=a.Q_.rt(o);return s.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=a.N_.get(l);c&&a.N_.set(l,c.withResumeToken(u.resumeToken,o))}}),s.targetMismatches.forEach((u,l)=>{const c=a.N_.get(u);if(!c)return;a.N_.set(u,c.withResumeToken(kn.EMPTY_BYTE_STRING,c.snapshotVersion)),W$(a,u);const f=new fu(c.target,u,l,c.sequenceNumber);wI(a,f)}),a.remoteSyncer.applyRemoteEvent(s)}(t,r)}catch(n){We("RemoteStore","Failed to raise snapshot:",n),await Ly(t,n)}}async function Ly(t,e,r){if(!Kv(e))throw e;t.L_.add(1),await Qv(t),t.q_.set("Offline"),r||(r=()=>U$(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{We("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await v_(t)})}function G$(t,e){return e().catch(r=>Ly(t,r,e))}async function g_(t){const e=pt(t),r=Au(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;tte(e);)try{const i=await Fee(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,rte(e,i)}catch(i){await Ly(e,i)}K$(e)&&X$(e)}function tte(t){return lc(t)&&t.O_.length<10}function rte(t,e){t.O_.push(e);const r=Au(t);r.r_()&&r.V_&&r.m_(e.mutations)}function K$(t){return lc(t)&&!Au(t).n_()&&t.O_.length>0}function X$(t){Au(t).start()}async function nte(t){Au(t).p_()}async function ite(t){const e=Au(t);for(const r of t.O_)e.m_(r.mutations)}async function ate(t,e,r){const n=t.O_.shift(),i=hI.from(n,e,r);await G$(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await g_(t)}async function ote(t,e){e&&Au(t).V_&&await async function(n,i){if(function(o){return KJ(o)&&o!==we.ABORTED}(i.code)){const a=n.O_.shift();Au(n).s_(),await G$(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await g_(n)}}(t,e),K$(t)&&X$(t)}async function ok(t,e){const r=pt(t);r.asyncQueue.verifyOperationInProgress(),We("RemoteStore","RemoteStore received new credentials");const n=lc(r);r.L_.add(3),await Qv(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await v_(r)}async function ste(t,e){const r=pt(t);e?(r.L_.delete(2),await v_(r)):e||(r.L_.add(2),await Qv(r),r.q_.set("Unknown"))}function Ad(t){return t.K_||(t.K_=function(r,n,i){const a=pt(r);return a.w_(),new Hee(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Qee.bind(null,t),Ro:Zee.bind(null,t),mo:Jee.bind(null,t),d_:ete.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),bI(t)?xI(t):t.q_.set("Unknown")):(await t.K_.stop(),H$(t))})),t.K_}function Au(t){return t.U_||(t.U_=function(r,n,i){const a=pt(r);return a.w_(),new Gee(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:nte.bind(null,t),mo:ote.bind(null,t),f_:ite.bind(null,t),g_:ate.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await g_(t)):(await t.U_.stop(),t.O_.length>0&&(We("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,s=new EI(e,r,o,i,a);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $e(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function AI(t,e){if(ms("AsyncQueue",`${e}: ${t}`),Kv(t))return new $e(we.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Xe.comparator(r.key,n.key):(r,n)=>Xe.comparator(r.key,n.key),this.keyedMap=np(),this.sortedSet=new Or(this.comparator)}static emptySet(e){return new If(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof If)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new If;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this.W_=new Or(Xe.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):ct():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Ff{constructor(e,r,n,i,a,o,s,u,l){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach(s=>{o.push({type:0,doc:s})}),new Ff(e,r,If.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&l_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ute{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class lte{constructor(){this.queries=uk(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=pt(r),a=i.queries;i.queries=uk(),a.forEach((o,s)=>{for(const u of s.j_)u.onError(n)})})(this,new $e(we.ABORTED,"Firestore shutting down"))}}function uk(){return new Ed(t=>y$(t),l_)}async function SI(t,e){const r=pt(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(n=2):(a=new ute,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const s=AI(o,`Initialization of query '${ff(e.query)}' failed`);return void e.onError(s)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&TI(r)}async function OI(t,e){const r=pt(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.j_.indexOf(e);o>=0&&(a.j_.splice(o,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function cte(t,e){const r=pt(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const s of o.j_)s.X_(i)&&(n=!0);o.z_=i}}n&&TI(r)}function fte(t,e,r){const n=pt(t),i=n.queries.get(e);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(e)}function TI(t){t.Y_.forEach(e=>{e.next()})}var GO,lk;(lk=GO||(GO={})).ea="default",lk.Cache="cache";class CI{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Ff(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Ff.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==GO.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${constructor(e){this.key=e}}class Q${constructor(e){this.key=e}}class dte{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=St(),this.mutatedKeys=St(),this.Aa=_$(e),this.Ra=new If(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new sk,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,s=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),v=c_(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),m=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let _=!1;h&&v?h.data.isEqual(v.data)?g!==m&&(n.track({type:3,doc:v}),_=!0):this.ga(h,v)||(n.track({type:2,doc:v}),_=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(s=!0)):!h&&v?(n.track({type:0,doc:v}),_=!0):h&&!v&&(n.track({type:1,doc:h}),_=!0,(u||l)&&(s=!0)),_&&(v?(o=o.add(v),a=m?a.add(c):a.delete(c)):(o=o.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),n.track({type:1,doc:c})}return{Ra:o,fa:n,ns:s,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,f)=>function(v,g){const m=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct()}};return m(v)-m(g)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(n),i=i!=null&&i;const s=r&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new Ff(this.query,e.Ra,a,o,e.mutatedKeys,u===0,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new sk,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=St(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new Q$(n))}),this.da.forEach(n=>{e.has(n)||r.push(new Y$(n))}),r}ba(e){this.Ta=e.Ts,this.da=St();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Ff.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class hte{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class pte{constructor(e){this.key=e,this.va=!1}}class vte{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ed(s=>y$(s),l_),this.Ma=new Map,this.xa=new Set,this.Oa=new Or(Xe.comparator),this.Na=new Map,this.La=new gI,this.Ba={},this.ka=new Map,this.qa=jf.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function gte(t,e,r=!0){const n=nU(t);let i;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await Z$(n,e,r,!0),i}async function mte(t,e){const r=nU(t);await Z$(r,e,!0,!1)}async function Z$(t,e,r,n){const i=await Bee(t.localStore,To(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let s;return n&&(s=await yte(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&z$(t.remoteStore,i),s}async function yte(t,e,r,n,i){t.Ka=(f,h,v)=>async function(m,_,b,E){let A=_.view.ma(b);A.ns&&(A=await nk(m.localStore,_.query,!1).then(({documents:I})=>_.view.ma(I,A)));const C=E&&E.targetChanges.get(_.targetId),O=E&&E.targetMismatches.get(_.targetId)!=null,R=_.view.applyChanges(A,m.isPrimaryClient,C,O);return fk(m,_.targetId,R.wa),R.snapshot}(t,f,h,v);const a=await nk(t.localStore,e,!0),o=new dte(e,a.Ts),s=o.ma(a.documents),u=Yv.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),l=o.applyChanges(s,t.isPrimaryClient,u);fk(t,r,l.wa);const c=new hte(e,r,o);return t.Fa.set(e,c),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),l.snapshot}async function _te(t,e,r){const n=pt(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(o=>!l_(o,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await HO(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&_I(n.remoteStore,i.targetId),KO(n,i.targetId)}).catch(Gv)):(KO(n,i.targetId),await HO(n.localStore,i.targetId,!0))}async function wte(t,e){const r=pt(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),_I(r.remoteStore,n.targetId))}async function xte(t,e,r){const n=Cte(t);try{const i=await function(o,s){const u=pt(o),l=Ar.now(),c=s.reduce((v,g)=>v.add(g.key),St());let f,h;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let g=ys(),m=St();return u.cs.getEntries(v,c).next(_=>{g=_,g.forEach((b,E)=>{E.isValidDocument()||(m=m.add(b))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,g)).next(_=>{f=_;const b=[];for(const E of s){const A=qJ(E,f.get(E.key).overlayedDocument);A!=null&&b.push(new Pu(E.key,A,c$(A.value.mapValue),_a.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,b,s)}).next(_=>{h=_;const b=_.applyToLocalDocumentSet(f,m);return u.documentOverlayCache.saveOverlays(v,_.batchId,b)})}).then(()=>({batchId:h.batchId,changes:x$(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,s,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Or(Mt)),l=l.insert(s,u),o.Ba[o.currentUser.toKey()]=l}(n,i.batchId,r),await Zv(n,i.changes),await g_(n.remoteStore)}catch(i){const a=AI(i,"Failed to persist write");r.reject(a)}}async function J$(t,e){const r=pt(t);try{const n=await Lee(r.localStore,e);e.targetChanges.forEach((i,a)=>{const o=r.Na.get(a);o&&(Kt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Kt(o.va):i.removedDocuments.size>0&&(Kt(o.va),o.va=!1))}),await Zv(r,n,e)}catch(n){await Gv(n)}}function ck(t,e,r){const n=pt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,o)=>{const s=o.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const u=pt(o);u.onlineState=s;let l=!1;u.queries.forEach((c,f)=>{for(const h of f.j_)h.Z_(s)&&(l=!0)}),l&&TI(u)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function bte(t,e,r){const n=pt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),a=i&&i.key;if(a){let o=new Or(Xe.comparator);o=o.insert(a,Hn.newNoDocument(a,dt.min()));const s=St().add(a),u=new h_(dt.min(),new Map,new Or(Mt),o,s);await J$(n,u),n.Oa=n.Oa.remove(a),n.Na.delete(e),II(n)}else await HO(n.localStore,e,!1).then(()=>KO(n,e,r)).catch(Gv)}async function Ete(t,e){const r=pt(t),n=e.batch.batchId;try{const i=await Mee(r.localStore,e);tU(r,n,null),eU(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Zv(r,i)}catch(i){await Gv(i)}}async function Ate(t,e,r){const n=pt(t);try{const i=await function(o,s){const u=pt(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,s).next(f=>(Kt(f!==null),c=f.keys(),u.mutationQueue.removeMutationBatch(l,f))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,s)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(n.localStore,e);tU(n,e,r),eU(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Zv(n,i)}catch(i){await Gv(i)}}function eU(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function tU(t,e,r){const n=pt(t);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function KO(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||rU(t,n)})}function rU(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(_I(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),II(t))}function fk(t,e,r){for(const n of r)n instanceof Y$?(t.La.addReference(n.key,e),Ste(t,n)):n instanceof Q$?(We("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||rU(t,n.key)):ct()}function Ste(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(We("SyncEngine","New document in limbo: "+r),t.xa.add(n),II(t))}function II(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Xe(gr.fromString(e)),n=t.qa.next();t.Na.set(n,new pte(r)),t.Oa=t.Oa.insert(r,n),z$(t.remoteStore,new fu(To(u_(r.path)),n,"TargetPurposeLimboResolution",aI.oe))}}async function Zv(t,e,r){const n=pt(t),i=[],a=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach((s,u)=>{o.push(n.Ka(u,e,r).then(l=>{var c;if((l||r)&&n.isPrimaryClient){const f=l?!l.fromCache:(c=r?.targetChanges.get(u.targetId))===null||c===void 0?void 0:c.current;n.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(l){i.push(l);const f=yI.Wi(u.targetId,l);a.push(f)}}))}),await Promise.all(o),n.Ca.d_(i),await async function(u,l){const c=pt(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Ce.forEach(l,h=>Ce.forEach(h.$i,v=>c.persistence.referenceDelegate.addReference(f,h.targetId,v)).next(()=>Ce.forEach(h.Ui,v=>c.persistence.referenceDelegate.removeReference(f,h.targetId,v)))))}catch(f){if(!Kv(f))throw f;We("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const h=f.targetId;if(!f.fromCache){const v=c.os.get(h),g=v.snapshotVersion,m=v.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(h,m)}}}(n.localStore,a))}async function Ote(t,e){const r=pt(t);if(!r.currentUser.isEqual(e)){We("SyncEngine","User change. New user:",e.toKey());const n=await $$(r.localStore,e);r.currentUser=e,function(a,o){a.ka.forEach(s=>{s.forEach(u=>{u.reject(new $e(we.CANCELLED,o))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Zv(r,n.hs)}}function Tte(t,e){const r=pt(t),n=r.Na.get(e);if(n&&n.va)return St().add(n.key);{let i=St();const a=r.Ma.get(e);if(!a)return i;for(const o of a){const s=r.Fa.get(o);i=i.unionWith(s.view.Va)}return i}}function nU(t){const e=pt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=J$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tte.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bte.bind(null,e),e.Ca.d_=cte.bind(null,e.eventManager),e.Ca.$a=fte.bind(null,e.eventManager),e}function Cte(t){const e=pt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ete.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ate.bind(null,e),e}class jy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=p_(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return kee(this.persistence,new Dee,e.initialUser,this.serializer)}Ga(e){return new Iee(mI.Zr,this.serializer)}Wa(e){return new Uee}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jy.provider={build:()=>new jy};class XO{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>ck(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ote.bind(null,this.syncEngine),await ste(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lte}()}createDatastore(e){const r=p_(e.databaseInfo.databaseId),n=function(a){return new Wee(a)}(e.databaseInfo);return function(a,o,s,u){return new Kee(a,o,s,u)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,o,s){return new Yee(n,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,r=>ck(this.syncEngine,r,0),function(){return ak.D()?new ak:new Vee}())}createSyncEngine(e,r){return function(i,a,o,s,u,l,c){const f=new vte(i,a,o,s,u,l);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=pt(i);We("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Qv(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}XO.provider={build:()=>new XO};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ms("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ite{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Wn.UNAUTHENTICATED,this.clientId=s$.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{We("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(We("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=AI(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function vb(t,e){t.asyncQueue.verifyOperationInProgress(),We("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await $$(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dk(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Pte(t);We("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>ok(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>ok(e.remoteStore,i)),t._onlineComponents=e}async function Pte(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){We("FirestoreClient","Using user provided OfflineComponentProvider");try{await vb(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===we.FAILED_PRECONDITION||i.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Nf("Error using user provided cache. Falling back to memory cache: "+r),await vb(t,new jy)}}else We("FirestoreClient","Using default OfflineComponentProvider"),await vb(t,new jy);return t._offlineComponents}async function iU(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(We("FirestoreClient","Using user provided OnlineComponentProvider"),await dk(t,t._uninitializedComponentsProvider._online)):(We("FirestoreClient","Using default OnlineComponentProvider"),await dk(t,new XO))),t._onlineComponents}function Rte(t){return iU(t).then(e=>e.syncEngine)}async function Fy(t){const e=await iU(t),r=e.eventManager;return r.onListen=gte.bind(null,e.syncEngine),r.onUnlisten=_te.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=mte.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=wte.bind(null,e.syncEngine),r}function Dte(t,e,r={}){const n=new fs;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,u,l){const c=new PI({next:h=>{c.Za(),o.enqueueAndForget(()=>OI(a,f));const v=h.docs.has(s);!v&&h.fromCache?l.reject(new $e(we.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&h.fromCache&&u&&u.source==="server"?l.reject(new $e(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),f=new CI(u_(s.path),c,{includeMetadataChanges:!0,_a:!0});return SI(a,f)}(await Fy(t),t.asyncQueue,e,r,n)),n.promise}function Nte(t,e,r={}){const n=new fs;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,u,l){const c=new PI({next:h=>{c.Za(),o.enqueueAndForget(()=>OI(a,f)),h.fromCache&&u.source==="server"?l.reject(new $e(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),f=new CI(s,c,{includeMetadataChanges:!0,_a:!0});return SI(a,f)}(await Fy(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(t,e,r){if(!r)throw new $e(we.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kte(t,e,r,n){if(e===!0&&n===!0)throw new $e(we.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function pk(t){if(!Xe.isDocumentKey(t))throw new $e(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vk(t){if(Xe.isDocumentKey(t))throw new $e(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function m_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ct()}function Ti(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $e(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=m_(t);throw new $e(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new $e(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $e(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kte("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aU((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new $e(we.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new $e(we.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new $e(we.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class y_{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gk({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $e(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $e(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gk(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new QZ;switch(n.type){case"firstParty":return new tJ(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new $e(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=hk.get(r);n&&(We("ComponentProvider","Removing Datastore"),hk.delete(r),n.terminate())}(this),Promise.resolve()}}function Mte(t,e,r,n={}){var i;const a=(t=Ti(t,y_))._getSettings(),o=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&Nf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),n.mockUserToken){let s,u;if(typeof n.mockUserToken=="string")s=n.mockUserToken,u=Wn.MOCK_USER;else{s=fB(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=n.mockUserToken.sub||n.mockUserToken.user_id;if(!l)throw new $e(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Wn(l)}t._authCredentials=new ZZ(new o$(s,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ru(this.firestore,e,this._query)}}class Kn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kn(this.firestore,e,this._key)}}class mu extends Ru{constructor(e,r,n){super(e,r,u_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kn(this.firestore,null,new Xe(e))}withConverter(e){return new mu(this.firestore,e,this._path)}}function Qt(t,e,...r){if(t=Sr(t),oU("collection","path",e),t instanceof y_){const n=gr.fromString(e,...r);return vk(n),new mu(t,null,n)}{if(!(t instanceof Kn||t instanceof mu))throw new $e(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(gr.fromString(e,...r));return vk(n),new mu(t.firestore,null,n)}}function er(t,e,...r){if(t=Sr(t),arguments.length===1&&(e=s$.newId()),oU("doc","path",e),t instanceof y_){const n=gr.fromString(e,...r);return pk(n),new Kn(t,null,new Xe(n))}{if(!(t instanceof Kn||t instanceof mu))throw new $e(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(gr.fromString(e,...r));return pk(n),new Kn(t.firestore,t instanceof mu?t.converter:null,new Xe(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new V$(this,"async_queue_retry"),this.Vu=()=>{const n=pb();n&&We("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=pb();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=pb();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new fs;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Kv(e))throw e;We("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(n);throw ms("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=EI.createAndSchedule(this,e,r,n,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&ct()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function yk(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class _s extends y_{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new mk,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mk(e),this._firestoreClient=void 0,await e}}}function Lte(t,e){const r=typeof t=="object"?t:GC(),n=typeof t=="string"?t:"(default)",i=n_(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=uB("firestore");a&&Mte(i,...a)}return i}function __(t){if(t._terminated)throw new $e(we.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||jte(t),t._firestoreClient}function jte(t){var e,r,n;const i=t._freezeSettings(),a=function(s,u,l,c){return new pJ(s,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,aU(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Ite(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(s){const u=s?._online.build();return{_offline:s?._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bf(kn.fromBase64String(e))}catch(r){throw new $e(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Bf(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new $e(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new $e(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new $e(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fte=/^__.*__$/;class Bte{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Pu(e,this.data,this.fieldMask,r,this.fieldTransforms):new Xv(e,this.data,r,this.fieldTransforms)}}class sU{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Pu(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function uU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct()}}class NI{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new NI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return By(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(uU(this.Cu)&&Fte.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class $te{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||p_(e)}Qu(e,r,n,i=!1){return new NI({Cu:e,methodName:r,qu:n,path:Rn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function b_(t){const e=t._freezeSettings(),r=p_(t._databaseId);return new $te(t._databaseId,!!e.ignoreUndefinedProperties,r)}function lU(t,e,r,n,i,a={}){const o=t.Qu(a.merge||a.mergeFields?2:0,e,r,i);MI("Data must be an object, but it was:",o,n);const s=cU(n,o);let u,l;if(a.merge)u=new Ki(o.fieldMask),l=o.fieldTransforms;else if(a.mergeFields){const c=[];for(const f of a.mergeFields){const h=YO(e,f,r);if(!o.contains(h))throw new $e(we.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);dU(c,h)||c.push(h)}u=new Ki(c),l=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,l=o.fieldTransforms;return new Bte(new Ai(s),u,l)}class Jv extends x_{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jv}}class kI extends x_{_toFieldTransform(e){return new BJ(e.path,new Bp)}isEqual(e){return e instanceof kI}}function Ute(t,e,r,n){const i=t.Qu(1,e,r);MI("Data must be an object, but it was:",i,n);const a=[],o=Ai.empty();uc(n,(u,l)=>{const c=LI(e,u,r);l=Sr(l);const f=i.Nu(c);if(l instanceof Jv)a.push(c);else{const h=e0(l,f);h!=null&&(a.push(c),o.set(c,h))}});const s=new Ki(a);return new sU(o,s,i.fieldTransforms)}function Vte(t,e,r,n,i,a){const o=t.Qu(1,e,r),s=[YO(e,n,r)],u=[i];if(a.length%2!=0)throw new $e(we.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)s.push(YO(e,a[h])),u.push(a[h+1]);const l=[],c=Ai.empty();for(let h=s.length-1;h>=0;--h)if(!dU(l,s[h])){const v=s[h];let g=u[h];g=Sr(g);const m=o.Nu(v);if(g instanceof Jv)l.push(v);else{const _=e0(g,m);_!=null&&(l.push(v),c.set(v,_))}}const f=new Ki(l);return new sU(c,f,o.fieldTransforms)}function qte(t,e,r,n=!1){return e0(r,t.Qu(n?4:3,e))}function e0(t,e){if(fU(t=Sr(t)))return MI("Unsupported field value:",e,t),cU(t,e);if(t instanceof x_)return function(n,i){if(!uU(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const s of n){let u=e0(s,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),o++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Sr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return LJ(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Ar.fromDate(n);return{timestampValue:My(i.serializer,a)}}if(n instanceof Ar){const a=new Ar(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:My(i.serializer,a)}}if(n instanceof RI)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Bf)return{bytesValue:N$(i.serializer,n._byteString)};if(n instanceof Kn){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:vI(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof DI)return function(o,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw s.Bu("VectorValues must only contain numeric values.");return fI(s.serializer,u)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${m_(n)}`)}(t,e)}function cU(t,e){const r={};return u$(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uc(t,(n,i)=>{const a=e0(i,e.Mu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function fU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ar||t instanceof RI||t instanceof Bf||t instanceof Kn||t instanceof x_||t instanceof DI)}function MI(t,e,r){if(!fU(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=m_(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function YO(t,e,r){if((e=Sr(e))instanceof w_)return e._internalPath;if(typeof e=="string")return LI(t,e);throw By("Field path arguments must be of type string or ",t,!1,void 0,r)}const zte=new RegExp("[~\\*/\\[\\]]");function LI(t,e,r){if(e.search(zte)>=0)throw By(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new w_(...e.split("."))._internalPath}catch{throw By(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function By(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let u="";return(a||o)&&(u+=" (found",a&&(u+=` in field ${n}`),o&&(u+=` in document ${i}`),u+=")"),new $e(we.INVALID_ARGUMENT,s+t+u)}function dU(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Wte(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(jI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Wte extends hU{data(){return super.data()}}function jI(t,e){return typeof e=="string"?LI(t,e):e instanceof w_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $e(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FI{}class vU extends FI{}function BI(t,e,...r){let n=[];e instanceof FI&&n.push(e),n=n.concat(r),function(a){const o=a.filter(u=>u instanceof UI).length,s=a.filter(u=>u instanceof $I).length;if(o>1||o>0&&s>0)throw new $e(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class $I extends vU{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new $I(e,r,n)}_apply(e){const r=this._parse(e);return gU(e._query,r),new Ru(e.firestore,e.converter,$O(e._query,r))}_parse(e){const r=b_(e.firestore);return function(a,o,s,u,l,c,f){let h;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new $e(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){wk(f,c);const v=[];for(const g of f)v.push(_k(u,a,g));h={arrayValue:{values:v}}}else h=_k(u,a,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||wk(f,c),h=qte(s,o,f,c==="in"||c==="not-in");return zr.create(l,c,h)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class UI extends FI{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new UI(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:to.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const u of s)gU(o,u),o=$O(o,u)}(e._query,r),new Ru(e.firestore,e.converter,$O(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class VI extends vU{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new VI(e,r)}_apply(e){const r=function(i,a,o){if(i.startAt!==null)throw new $e(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new $e(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fp(a,o)}(e._query,this._field,this._direction);return new Ru(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new bd(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function qI(t,e="asc"){const r=e,n=jI("orderBy",t);return VI._create(n,r)}function _k(t,e,r){if(typeof(r=Sr(r))=="string"){if(r==="")throw new $e(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!m$(e)&&r.indexOf("/")!==-1)throw new $e(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(gr.fromString(r));if(!Xe.isDocumentKey(n))throw new $e(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return $N(t,new Xe(n))}if(r instanceof Kn)return $N(t,r._key);throw new $e(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${m_(r)}.`)}function wk(t,e){if(!Array.isArray(t)||t.length===0)throw new $e(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gU(t,e){const r=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new $e(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $e(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Hte{convertValue(e,r="none"){switch(ql(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Vl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ct()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return uc(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(o=>Fr(o.doubleValue));return new DI(a)}convertGeoPoint(e){return new RI(Fr(e.latitude),Fr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=sI(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Mp(e));default:return null}}convertTimestamp(e){const r=Eu(e);return new Ar(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=gr.fromString(e);Kt(B$(n));const i=new Lp(n.get(1),n.get(3)),a=new Xe(n.popFirst(5));return i.isEqual(r)||ms(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yU extends hU{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new iy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(jI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class iy extends yU{data(e={}){return super.data(e)}}class _U{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new ap(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new iy(this._firestore,this._userDataWriter,n.key,n,new ap(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new $e(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const u=new iy(i._firestore,i._userDataWriter,s.doc.key,s.doc,new ap(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const u=new iy(i._firestore,i._userDataWriter,s.doc.key,s.doc,new ap(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return s.type!==0&&(l=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:Gte(s.type),doc:u,oldIndex:l,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Gte(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(t){t=Ti(t,Kn);const e=Ti(t.firestore,_s);return Dte(__(e),t._key).then(r=>wU(e,t,r))}class zI extends Hte{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bf(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Kn(this.firestore,null,r)}}function Ci(t){t=Ti(t,Ru);const e=Ti(t.firestore,_s),r=__(e),n=new zI(e);return pU(t._query),Nte(r,t._query).then(i=>new _U(e,n,t,i))}function QO(t,e,r){t=Ti(t,Kn);const n=Ti(t.firestore,_s),i=mU(t.converter,e,r);return E_(n,[lU(b_(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,_a.none())])}function Zi(t,e,r,...n){t=Ti(t,Kn);const i=Ti(t.firestore,_s),a=b_(i);let o;return o=typeof(e=Sr(e))=="string"||e instanceof w_?Vte(a,"updateDoc",t._key,e,r,n):Ute(a,"updateDoc",t._key,e),E_(i,[o.toMutation(t._key,_a.exists(!0))])}function t0(t){return E_(Ti(t.firestore,_s),[new dI(t._key,_a.none())])}function Ji(t,e){const r=Ti(t.firestore,_s),n=er(t),i=mU(t.converter,e);return E_(r,[lU(b_(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,_a.exists(!1))]).then(()=>n)}function Kte(t,...e){var r,n,i;t=Sr(t);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||yk(e[o])||(a=e[o],o++);const s={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(yk(e[o])){const f=e[o];e[o]=(r=f.next)===null||r===void 0?void 0:r.bind(f),e[o+1]=(n=f.error)===null||n===void 0?void 0:n.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let u,l,c;if(t instanceof Kn)l=Ti(t.firestore,_s),c=u_(t._key.path),u={next:f=>{e[o]&&e[o](wU(l,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Ti(t,Ru);l=Ti(f.firestore,_s),c=f._query;const h=new zI(l);u={next:v=>{e[o]&&e[o](new _U(l,h,f,v))},error:e[o+1],complete:e[o+2]},pU(t._query)}return function(h,v,g,m){const _=new PI(m),b=new CI(v,_,g);return h.asyncQueue.enqueueAndForget(async()=>SI(await Fy(h),b)),()=>{_.Za(),h.asyncQueue.enqueueAndForget(async()=>OI(await Fy(h),b))}}(__(l),c,s,u)}function E_(t,e){return function(n,i){const a=new fs;return n.asyncQueue.enqueueAndForget(async()=>xte(await Rte(n),i,a)),a.promise}(__(t),e)}function wU(t,e,r){const n=r.docs.get(e._key),i=new zI(t);return new yU(t,i,e._key,n,new ap(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xte(){return new Jv("deleteField")}function qp(){return new kI("serverTimestamp")}(function(e,r=!0){(function(i){xd=i})(oc),Fl(new xu("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),s=new _s(new JZ(n.getProvider("auth-internal")),new nJ(n.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new $e(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lp(l.options.projectId,c)}(o,i),o);return a=Object.assign({useFetchStreams:r},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),Ao(MN,"4.7.3",e),Ao(MN,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU="firebasestorage.googleapis.com",bU="storageBucket",Yte=120*1e3,Qte=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Bo{constructor(e,r,n=0){super(gb(e),`Firebase Storage: ${r} (${gb(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Nr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Dr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Dr||(Dr={}));function gb(t){return"storage/"+t}function WI(){const t="An unknown error occurred, please check the error payload for server response.";return new Nr(Dr.UNKNOWN,t)}function Zte(t){return new Nr(Dr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Jte(t){return new Nr(Dr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ere(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Nr(Dr.UNAUTHENTICATED,t)}function tre(){return new Nr(Dr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function rre(t){return new Nr(Dr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function nre(){return new Nr(Dr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ire(){return new Nr(Dr.CANCELED,"User canceled the upload/download.")}function are(t){return new Nr(Dr.INVALID_URL,"Invalid URL '"+t+"'.")}function ore(t){return new Nr(Dr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function sre(){return new Nr(Dr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+bU+"' property when initializing the app?")}function ure(){return new Nr(Dr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function lre(){return new Nr(Dr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function cre(t){return new Nr(Dr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ZO(t){return new Nr(Dr.INVALID_ARGUMENT,t)}function EU(){return new Nr(Dr.APP_DELETED,"The Firebase app was deleted.")}function fre(t){return new Nr(Dr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _p(t,e){return new Nr(Dr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ph(t){throw new Nr(Dr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Xi.makeFromUrl(e,r)}catch{return new Xi(e,"")}if(n.path==="")return n;throw ore(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(C){C.path_=decodeURIComponent(C.path)}const c="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",v=new RegExp(`^https?://${f}/${c}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},m=r===xU?"(?:storage.googleapis.com|storage.cloud.google.com)":r,_="([^?#]*)",b=new RegExp(`^https?://${m}/${i}/${_}`,"i"),A=[{regex:s,indices:u,postModify:a},{regex:v,indices:g,postModify:l},{regex:b,indices:{bucket:1,path:2},postModify:l}];for(let C=0;C<A.length;C++){const O=A[C],R=O.regex.exec(e);if(R){const I=R[O.indices.bucket];let S=R[O.indices.path];S||(S=""),n=new Xi(I,S),O.postModify(n);break}}if(n==null)throw are(e);return n}}class dre{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hre(t,e,r){let n=1,i=null,a=null,o=!1,s=0;function u(){return s===2}let l=!1;function c(..._){l||(l=!0,e.apply(null,_))}function f(_){i=setTimeout(()=>{i=null,t(v,u())},_)}function h(){a&&clearTimeout(a)}function v(_,...b){if(l){h();return}if(_){h(),c.call(null,_,...b);return}if(u()||o){h(),c.call(null,_,...b);return}n<64&&(n*=2);let A;s===1?(s=2,A=0):A=(n+Math.random())*1e3,f(A)}let g=!1;function m(_){g||(g=!0,h(),!l&&(i!==null?(_||(s=2),clearTimeout(i),f(0)):_||(s=1)))}return f(0),a=setTimeout(()=>{o=!0,m(!0)},r),m}function pre(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vre(t){return t!==void 0}function gre(t){return typeof t=="object"&&!Array.isArray(t)}function HI(t){return typeof t=="string"||t instanceof String}function xk(t){return GI()&&t instanceof Blob}function GI(){return typeof Blob<"u"}function bk(t,e,r,n){if(n<e)throw ZO(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw ZO(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function AU(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Rl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Rl||(Rl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mre(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yre{constructor(e,r,n,i,a,o,s,u,l,c,f,h=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,g)=>{this.resolve_=v,this.reject_=g,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new zg(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=s=>{const u=s.loaded,l=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const s=a.getErrorCode()===Rl.NO_ERROR,u=a.getStatus();if(!s||mre(u,this.additionalRetryCodes_)&&this.retry){const c=a.getErrorCode()===Rl.ABORT;n(!1,new zg(!1,null,c));return}const l=this.successCodes_.indexOf(u)!==-1;n(!0,new zg(l,a))})},r=(n,i)=>{const a=this.resolve_,o=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(s,s.getResponse());vre(u)?a(u):a()}catch(u){o(u)}else if(s!==null){const u=WI();u.serverResponse=s.getErrorText(),this.errorCallback_?o(this.errorCallback_(s,u)):o(u)}else if(i.canceled){const u=this.appDelete_?EU():ire();o(u)}else{const u=nre();o(u)}};this.canceled_?r(!1,new zg(!1,null,!0)):this.backoffId_=hre(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&pre(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class zg{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function _re(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function wre(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xre(t,e){e&&(t["X-Firebase-GMPID"]=e)}function bre(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Ere(t,e,r,n,i,a,o=!0){const s=AU(t.urlParams),u=t.url+s,l=Object.assign({},t.headers);return xre(l,e),_re(l,r),wre(l,a),bre(l,n),new yre(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Are(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Sre(...t){const e=Are();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(GI())return new Blob(t);throw new Nr(Dr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Ore(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tre(t){if(typeof atob>"u")throw cre("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class mb{constructor(e,r){this.data=e,this.contentType=r||null}}function Cre(t,e){switch(t){case xo.RAW:return new mb(SU(e));case xo.BASE64:case xo.BASE64URL:return new mb(OU(t,e));case xo.DATA_URL:return new mb(Pre(e),Rre(e))}throw WI()}function SU(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const a=n,o=t.charCodeAt(++r);n=65536|(a&1023)<<10|o&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function Ire(t){let e;try{e=decodeURIComponent(t)}catch{throw _p(xo.DATA_URL,"Malformed data URL.")}return SU(e)}function OU(t,e){switch(t){case xo.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw _p(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case xo.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw _p(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=Tre(e)}catch(i){throw i.message.includes("polyfill")?i:_p(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class TU{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw _p(xo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=Dre(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function Pre(t){const e=new TU(t);return e.base64?OU(xo.BASE64,e.rest):Ire(e.rest)}function Rre(t){return new TU(t).contentType}function Dre(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,r){let n=0,i="";xk(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(xk(this.data_)){const n=this.data_,i=Ore(n,e,r);return i===null?null:new su(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new su(n,!0)}}static getBlob(...e){if(GI()){const r=e.map(n=>n instanceof su?n.data_:n);return new su(Sre.apply(null,r))}else{const r=e.map(o=>HI(o)?Cre(xo.RAW,o).data:o.data_);let n=0;r.forEach(o=>{n+=o.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(o=>{for(let s=0;s<o.length;s++)i[a++]=o[s]}),new su(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(t){let e;try{e=JSON.parse(t)}catch{return null}return gre(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nre(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function kre(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function IU(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mre(t,e){return e}class ii{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||Mre}}let Wg=null;function Lre(t){return!HI(t)||t.length<2?t:IU(t)}function PU(){if(Wg)return Wg;const t=[];t.push(new ii("bucket")),t.push(new ii("generation")),t.push(new ii("metageneration")),t.push(new ii("name","fullPath",!0));function e(a,o){return Lre(o)}const r=new ii("name");r.xform=e,t.push(r);function n(a,o){return o!==void 0?Number(o):o}const i=new ii("size");return i.xform=n,t.push(i),t.push(new ii("timeCreated")),t.push(new ii("updated")),t.push(new ii("md5Hash",null,!0)),t.push(new ii("cacheControl",null,!0)),t.push(new ii("contentDisposition",null,!0)),t.push(new ii("contentEncoding",null,!0)),t.push(new ii("contentLanguage",null,!0)),t.push(new ii("contentType",null,!0)),t.push(new ii("metadata","customMetadata",!0)),Wg=t,Wg}function jre(t,e){function r(){const n=t.bucket,i=t.fullPath,a=new Xi(n,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:r})}function Fre(t,e,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const o=r[a];n[o.local]=o.xform(n,e[o.server])}return jre(n,t),n}function RU(t,e,r){const n=CU(e);return n===null?null:Fre(t,n,r)}function Bre(t,e,r,n){const i=CU(e);if(i===null||!HI(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(l=>{const c=t.bucket,f=t.fullPath,h="/b/"+o(c)+"/o/"+o(f),v=KI(h,r,n),g=AU({alt:"media",token:l});return v+g})[0]}function $re(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}class DU{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t){if(!t)throw WI()}function Ure(t,e){function r(n,i){const a=RU(t,i,e);return NU(a!==null),a}return r}function Vre(t,e){function r(n,i){const a=RU(t,i,e);return NU(a!==null),Bre(a,i,t.host,t._protocol)}return r}function kU(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=tre():i=ere():r.getStatus()===402?i=Jte(t.bucket):r.getStatus()===403?i=rre(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function qre(t){const e=kU(t);function r(n,i){let a=e(n,i);return n.getStatus()===404&&(a=Zte(t.path)),a.serverResponse=i.serverResponse,a}return r}function zre(t,e,r){const n=e.fullServerUrl(),i=KI(n,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,s=new DU(i,a,Vre(t,r),o);return s.errorHandler=qre(e),s}function Wre(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Hre(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=Wre(null,e)),n}function Gre(t,e,r,n,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function s(){let A="";for(let C=0;C<2;C++)A=A+Math.random().toString().slice(2);return A}const u=s();o["Content-Type"]="multipart/related; boundary="+u;const l=Hre(e,n,i),c=$re(l,r),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,h=`\r
--`+u+"--",v=su.getBlob(f,n,h);if(v===null)throw ure();const g={name:l.fullPath},m=KI(a,t.host,t._protocol),_="POST",b=t.maxUploadRetryTime,E=new DU(m,_,Ure(t,r),b);return E.urlParams=g,E.headers=o,E.body=v.uploadData(),E.errorHandler=kU(e),E}class Kre{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Rl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Rl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Rl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i){if(this.sent_)throw Ph("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ph("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ph("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ph("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ph("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Xre extends Kre{initXhr(){this.xhr_.responseType="text"}}function MU(){return new Xre}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,r){this._service=e,r instanceof Xi?this._location=r:this._location=Xi.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new zl(e,r)}get root(){const e=new Xi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return IU(this._location.path)}get storage(){return this._service}get parent(){const e=Nre(this._location.path);if(e===null)return null;const r=new Xi(this._location.bucket,e);return new zl(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw fre(e)}}function Yre(t,e,r){t._throwIfRoot("uploadBytes");const n=Gre(t.storage,t._location,PU(),new su(e,!0),r);return t.storage.makeRequestWithTokens(n,MU).then(i=>({metadata:i,ref:t}))}function Qre(t){t._throwIfRoot("getDownloadURL");const e=zre(t.storage,t._location,PU());return t.storage.makeRequestWithTokens(e,MU).then(r=>{if(r===null)throw lre();return r})}function Zre(t,e){const r=kre(t._location.path,e),n=new Xi(t._location.bucket,r);return new zl(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jre(t){return/^[A-Za-z]+:\/\//.test(t)}function ene(t,e){return new zl(t,e)}function LU(t,e){if(t instanceof XI){const r=t;if(r._bucket==null)throw sre();const n=new zl(r,r._bucket);return e!=null?LU(n,e):n}else return e!==void 0?Zre(t,e):t}function tne(t,e){if(e&&Jre(e)){if(t instanceof XI)return ene(t,e);throw ZO("To use ref(service, url), the first argument must be a Storage instance.")}else return LU(t,e)}function Ek(t,e){const r=e?.[bU];return r==null?null:Xi.makeFromBucketSpec(r,t)}function rne(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:fB(i,t.app.options.projectId))}class XI{constructor(e,r,n,i,a){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=xU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Yte,this._maxUploadRetryTime=Qte,this._requests=new Set,i!=null?this._bucket=Xi.makeFromBucketSpec(i,this._host):this._bucket=Ek(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Xi.makeFromBucketSpec(this._url,e):this._bucket=Ek(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){bk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){bk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zl(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new dre(EU());{const o=Ere(e,this._appId,n,i,r,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const Ak="@firebase/storage",Sk="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU="storage";function FU(t,e,r){return t=Sr(t),Yre(t,e,r)}function BU(t){return t=Sr(t),Qre(t)}function $U(t,e){return t=Sr(t),tne(t,e)}function UU(t=GC(),e){t=Sr(t);const n=n_(t,jU).getImmediate({identifier:e}),i=uB("storage");return i&&nne(n,...i),n}function nne(t,e,r,n={}){rne(t,e,r,n)}function ine(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new XI(r,n,i,e,oc)}function ane(){Fl(new xu(jU,ine,"PUBLIC").setMultipleInstances(!0)),Ao(Ak,Sk,""),Ao(Ak,Sk,"esm2017")}ane();const one={apiKey:"AIzaSyAk1paC3CBjU1RH2cXf_8m6xOnZkH_xYWg",authDomain:"chaotic-neutral-tracker.firebaseapp.com",projectId:"chaotic-neutral-tracker",storageBucket:"chaotic-neutral-tracker.appspot.com",messagingSenderId:"84127636935",appId:"1:84127636935:web:fba76e7b8574177e928de2",measurementId:"G-2XF59QB1M4"},YI=pB(one),ut=XZ(YI),Ke=Lte(YI),sne=UU(YI);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const une=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lne=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),Ok=t=>{const e=lne(t);return e.charAt(0).toUpperCase()+e.slice(1)},VU=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),cne=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fne={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dne=z.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...s},u)=>z.createElement("svg",{ref:u,...fne,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:VU("lucide",i),...!a&&!cne(s)&&{"aria-hidden":"true"},...s},[...o.map(([l,c])=>z.createElement(l,c)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=(t,e)=>{const r=z.forwardRef(({className:n,...i},a)=>z.createElement(dne,{ref:a,iconNode:e,className:VU(`lucide-${une(Ok(t))}`,`lucide-${t}`,n),...i}));return r.displayName=Ok(t),r};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hne=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 14V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"bce9hv"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m16 20 2 2 4-4",key:"13tcca"}]],pne=pi("calendar-check-2",hne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vne=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gne=pi("check",vne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mne=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Tk=pi("circle-check-big",mne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],JO=pi("circle-plus",yne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],wne=pi("circle-x",_ne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xne=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],bne=pi("cloud-upload",xne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ene=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Ane=pi("copy",Ene);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sne=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],One=pi("external-link",Sne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tne=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Cne=pi("file-down",Tne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ine=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Pne=pi("lock",Ine);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rne=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Dne=pi("mail",Rne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nne=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],qU=pi("pencil",Nne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kne=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Mne=pi("square-pen",kne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lne=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],jne=pi("sticky-note",Lne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fne=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$f=pi("trash-2",Fne);function Bne({setUser:t}){const[e,r]=z.useState(""),[n,i]=z.useState(""),[a,o]=z.useState(!1),[s,u]=z.useState(""),l=async c=>{c.preventDefault(),u("");try{const f=a?await UB(ut,e,n):await VB(ut,e,n);t(f.user)}catch(f){u(f.message)}};return k.jsx("div",{className:"flex items-center justify-center min-h-screen bg-zinc-100 dark:bg-zinc-900 px-4",children:k.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-zinc-800 rounded-2xl shadow-xl p-6 space-y-6",children:[k.jsx("h2",{className:"text-2xl font-bold text-center text-zinc-900 dark:text-white",children:a?"Sign Up":"Log In"}),k.jsxs("form",{onSubmit:l,className:"space-y-4",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Email"}),k.jsxs("div",{className:"relative",children:[k.jsx(Dne,{className:"absolute left-3 top-3 w-5 h-5 text-zinc-400"}),k.jsx("input",{type:"email",className:"w-full pl-10 pr-3 py-2 border rounded-md border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-700 text-zinc-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"your@email.com",value:e,onChange:c=>r(c.target.value),required:!0})]})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Password"}),k.jsxs("div",{className:"relative",children:[k.jsx(Pne,{className:"absolute left-3 top-3 w-5 h-5 text-zinc-400"}),k.jsx("input",{type:"password",className:"w-full pl-10 pr-3 py-2 border rounded-md border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-700 text-zinc-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"",value:n,onChange:c=>i(c.target.value),required:!0})]})]}),s&&k.jsx("p",{className:"text-sm text-red-500 font-medium text-center",children:s}),k.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-md font-semibold transition",children:a?"Create Account":"Log In"})]}),k.jsx("button",{onClick:()=>o(!a),className:"block w-full text-sm text-center text-blue-500 hover:underline",children:a?"Already have an account? Log in":"Need an account? Sign up"})]})})}function zU({grows:t=[],setGrows:e=()=>{},editingGrow:r,setEditingGrow:n=()=>{}}){const[i,a]=z.useState(""),[o,s]=z.useState("Inoculated"),[u,l]=z.useState(""),[c,f]=z.useState(""),[h,v]=z.useState(""),[g,m]=z.useState("");z.useEffect(()=>{if(r&&r.id){a(r.strain||""),s(r.stage||"Inoculated");const E=r.createdAt,A=E instanceof Date?E.toISOString().substring(0,10):E?.toDate?.().toISOString().substring(0,10)||"";l(A),f(r.notes||""),v(r.parentGrowId||""),m(r.recipeId||"")}else a(""),s("Inoculated"),l(new Date().toISOString().substring(0,10)),f(""),v(""),m("")},[r]);const _=()=>{const E=u||new Date().toISOString().substring(0,10),A=i.trim(),C=t.filter(O=>O.strain.startsWith(A)&&(O.createdAt===E||O.createdAt?.toDate?.()?.toISOString().substring(0,10)===E));return C.length===0?A:`${A} #${C.length+1}`},b=async E=>{E.preventDefault();const A=ut.currentUser;if(!A)return;let C=i.trim();r?.id||(C=_());const O={strain:C,stage:o,createdAt:u||new Date().toISOString().substring(0,10),notes:c,parentGrowId:h,recipeId:g,stageDates:{Inoculated:u||new Date().toISOString()},updatedAt:qp()};try{if(r&&r.id){const R=er(Ke,`users/${A.uid}/grows`,r.id);await Zi(R,O),e(I=>I.map(S=>S.id===r.id?{...S,...O}:S))}else{const R=Qt(Ke,"users",A.uid,"grows"),I=await Ji(R,{...O,createdAt:u||new Date().toISOString().substring(0,10)});e(S=>[...S,{id:I.id,...O}])}n(null)}catch(R){console.error("Error saving grow:",R)}};return k.jsxs("div",{className:"bg-gray-800 text-white p-6 rounded-lg shadow mb-6",children:[k.jsx("h2",{className:"text-xl font-bold mb-4",children:r?.id?"Edit Grow":"Add New Grow"}),k.jsxs("form",{onSubmit:b,className:"space-y-4",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium",children:"Strain"}),k.jsx("input",{type:"text",value:i,onChange:E=>a(E.target.value),className:"w-full bg-gray-700 text-white rounded px-3 py-2",required:!0})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium",children:"Stage"}),k.jsx("select",{value:o,onChange:E=>s(E.target.value),className:"w-full bg-gray-700 text-white rounded px-3 py-2",children:["Inoculated","Colonizing","Colonized","Fruiting","Harvested"].map(E=>k.jsx("option",{value:E,children:E},E))})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium",children:"Date Created"}),k.jsx("input",{type:"date",value:u,onChange:E=>l(E.target.value),className:"w-full bg-gray-700 text-white rounded px-3 py-2"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium",children:"Notes"}),k.jsx("textarea",{value:c,onChange:E=>f(E.target.value),className:"w-full bg-gray-700 text-white rounded px-3 py-2",rows:"3"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium",children:"Spawned From (Optional)"}),k.jsxs("select",{value:h,onChange:E=>v(E.target.value),className:"w-full bg-gray-700 text-white rounded px-3 py-2",children:[k.jsx("option",{value:"",children:"Select parent grow"}),t.map(E=>k.jsx("option",{value:E.id,children:E.strain},E.id))]})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium",children:"Recipe (Optional)"}),k.jsxs("select",{value:g,onChange:E=>m(E.target.value),className:"w-full bg-gray-700 text-white rounded px-3 py-2",children:[k.jsx("option",{value:"",children:"Select recipe"}),[...new Set(t.map(E=>E.recipeId))].filter(E=>E).map(E=>k.jsx("option",{value:E,children:E},E))]})]}),k.jsxs("div",{className:"flex gap-4",children:[k.jsx("button",{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded",children:r?.id?"Update":"Add"}),k.jsx("button",{type:"button",onClick:()=>n(null),className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded",children:"Cancel"})]})]})]})}function $ne({grow:t,onClose:e}){const[r,n]=z.useState(""),[i,a]=z.useState(null),[o,s]=z.useState(null),[u,l]=z.useState("");z.useEffect(()=>{(async()=>{const _=ut.currentUser;if(!_||!t?.id)return;const b=er(Ke,"users",_.uid,"grows",t.id),E=await Vp(b);E.exists()&&a({id:E.id,...E.data()})})()},[t]);const c=async m=>{const _=ut.currentUser;if(!_||!i)return;const b=er(Ke,"users",_.uid,"grows",i.id);await Zi(b,{notes:m}),a(E=>({...E,notes:m}))},f=async()=>{if(!r.trim())return;const m={text:r.trim(),date:new Date().toISOString()},_=[...i.notes||[],m];await c(_),n("")},h=async m=>{const _=[...i.notes||[]];_.splice(m,1),await c(_)},v=async m=>{const _=[...i.notes||[]];_[m]={..._[m],text:u.trim()},await c(_),s(null),l("")},g=()=>{const m=[];m.push(` Logbook for: ${i.strain||"Unnamed"}`),m.push(`Inoculated: ${i.inoculation||"N/A"}`),m.push(`Stage: ${i.stage||"N/A"}`),m.push(""),m.push(" Stage History:"),Object.entries(i.stageDates||{}).forEach(([A,C])=>{m.push(`- ${A}: ${new Date(C).toLocaleString()}`)}),m.push(""),m.push(" Notes:"),(i.notes||[]).forEach((A,C)=>{m.push(`${C+1}. ${A.text}`),m.push(`   [${new Date(A.date).toLocaleString()}]`)});const _=new Blob([m.join(`
`)],{type:"text/plain"}),b=URL.createObjectURL(_),E=document.createElement("a");E.href=b,E.download=`grow-logbook-${i.strain||i.id}.txt`,E.click(),URL.revokeObjectURL(b)};return i?k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:k.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl w-full max-w-md relative shadow-xl text-zinc-900 dark:text-white",children:[k.jsx("button",{onClick:e,className:"absolute top-2 right-3 text-zinc-500 hover:text-red-500 text-lg",children:""}),k.jsx("h2",{className:"text-xl font-bold mb-4 text-blue-700 dark:text-blue-400",children:" Grow Notes"}),k.jsxs("div",{className:"mb-4 text-sm",children:[k.jsx("h3",{className:"font-semibold text-blue-600 dark:text-blue-300 mb-1",children:" Stage Timeline"}),k.jsx("ul",{className:"list-disc list-inside space-y-1",children:Object.entries(i.stageDates||{}).map(([m,_])=>k.jsxs("li",{children:[k.jsxs("strong",{children:[m,":"]})," ",new Date(_).toLocaleString()]},m))})]}),k.jsx("div",{className:"space-y-3 max-h-48 overflow-y-auto mb-4 pr-1",children:(i.notes||[]).map((m,_)=>k.jsx("div",{className:"border-b border-zinc-200 dark:border-zinc-700 pb-2",children:o===_?k.jsxs(k.Fragment,{children:[k.jsx("textarea",{className:"w-full p-2 border rounded-md dark:bg-zinc-800 dark:text-white mb-1 text-sm",value:u,onChange:b=>l(b.target.value),rows:2}),k.jsxs("div",{className:"flex gap-3 text-sm",children:[k.jsx("button",{onClick:()=>v(_),className:"text-green-500 hover:underline",children:" Save"}),k.jsx("button",{onClick:()=>{s(null),l("")},className:"text-zinc-400 hover:underline",children:"Cancel"})]})]}):k.jsxs(k.Fragment,{children:[k.jsx("p",{className:"text-sm whitespace-pre-wrap",children:m.text}),k.jsx("p",{className:"text-xs text-zinc-500",children:new Date(m.date).toLocaleString()}),k.jsxs("div",{className:"flex gap-4 text-xs mt-1",children:[k.jsx("button",{onClick:()=>{s(_),l(m.text)},className:"text-blue-500 hover:underline",children:"Edit"}),k.jsx("button",{onClick:()=>h(_),className:"text-red-500 hover:underline",children:"Delete"})]})]})},_))}),k.jsx("textarea",{value:r,onChange:m=>n(m.target.value),placeholder:"Add a note...",className:"w-full p-2 border rounded-md dark:bg-zinc-800 dark:text-white mb-3 text-sm",rows:3}),k.jsxs("div",{className:"flex justify-between items-center",children:[k.jsx("button",{onClick:f,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 text-sm",children:"Add Note"}),k.jsx("button",{onClick:g,className:"text-sm text-zinc-500 dark:text-zinc-300 hover:underline",children:" Export Logbook"})]})]})}):k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:k.jsx("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl shadow-lg max-w-md w-full",children:k.jsx("p",{className:"text-zinc-700 dark:text-zinc-200",children:"Loading notes..."})})})}function Une(){const[t,e]=z.useState([]),[r,n]=z.useState(null),[i,a]=z.useState(null),[o,s]=z.useState({}),[u,l]=z.useState({}),c=ut.currentUser?.uid;z.useEffect(()=>{if(!c)return;const v=Qt(Ke,"users",c,"grows"),g=Kte(v,async m=>{const _=m.docs.map(b=>({id:b.id,...b.data()}));e(_)});return()=>g()},[c]),z.useEffect(()=>{if(!c)return;(async()=>{const g=await Ci(Qt(Ke,"users",c,"supplies")),m={};g.forEach(_=>{m[_.id]=_.data()}),s(m)})()},[c]),z.useEffect(()=>{if(!c)return;(async()=>{const g=await Ci(Qt(Ke,"users",c,"recipes")),m={};g.forEach(_=>{m[_.id]=_.data()}),l(m)})()},[c]);const f=v=>{const g=u[v.recipeId];if(!g||!g.items)return null;let m=0;for(const _ of g.items){const b=o[_.supplyId];b&&typeof b.cost=="number"&&(m+=_.amount*b.cost)}return m},h=async v=>{c&&window.confirm("Delete this grow?")&&await t0(er(Ke,"users",c,"grows",v))};return k.jsxs("div",{className:"p-4",children:[k.jsx("h2",{className:"text-xl font-bold mb-4",children:"Your Grows"}),k.jsx("div",{className:"grid gap-4",children:t.map(v=>{const g=f(v);return k.jsx("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-4 relative",children:k.jsxs("div",{className:"flex justify-between items-start",children:[k.jsxs("div",{children:[k.jsx("h3",{className:"text-lg font-semibold",children:v.strain||"Unnamed Strain"}),k.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Stage: ",v.stage||"Unknown"]}),k.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Cost: ",g!=null?`$${g.toFixed(2)}`:"N/A"]})]}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx("button",{onClick:()=>a(v),className:"text-blue-500 hover:text-blue-700",title:"Notes",children:k.jsx(jne,{size:18})}),k.jsx("button",{onClick:()=>n(v),className:"text-green-500 hover:text-green-700",title:"Edit",children:k.jsx(qU,{size:18})}),k.jsx("button",{onClick:()=>h(v.id),className:"text-red-500 hover:text-red-700",title:"Delete",children:k.jsx($f,{size:18})})]})]})},v.id)})}),r&&k.jsx("div",{className:"mt-6",children:k.jsx(zU,{editingGrow:r,onClose:()=>n(null)})}),i&&k.jsx($ne,{grow:i,onClose:()=>a(null)})]})}const Vne=({filter:t,setFilter:e,stageFilter:r,setStageFilter:n,dateRange:i,setDateRange:a})=>k.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-xl shadow space-y-4",children:[k.jsx("h3",{className:"text-lg font-semibold dark:text-white",children:"Filter Grows"}),k.jsx("input",{type:"text",value:t,onChange:o=>e(o.target.value),placeholder:"Search by strain",className:"w-full p-2 border rounded dark:bg-gray-700 dark:text-white"}),k.jsxs("select",{value:r,onChange:o=>n(o.target.value),className:"w-full p-2 border rounded dark:bg-gray-700 dark:text-white",children:[k.jsx("option",{value:"",children:"All Stages"}),k.jsx("option",{value:"Inoculation",children:"Inoculation"}),k.jsx("option",{value:"Colonization",children:"Colonization"}),k.jsx("option",{value:"Fruiting",children:"Fruiting"}),k.jsx("option",{value:"Harvest",children:"Harvest"}),k.jsx("option",{value:"Completed",children:"Completed"})]}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx("input",{type:"date",value:i?.start||"",onChange:o=>a(s=>({...s,start:o.target.value})),className:"w-full p-2 border rounded dark:bg-gray-700 dark:text-white"}),k.jsx("input",{type:"date",value:i?.end||"",onChange:o=>a(s=>({...s,end:o.target.value})),className:"w-full p-2 border rounded dark:bg-gray-700 dark:text-white"})]})]});function qne({grows:t}){const[e,r]=z.useState(""),[n,i]=z.useState(null),[a,o]=z.useState(""),[s,u]=z.useState([]);z.useEffect(()=>{e?l():u([])},[e]);const l=async()=>{const f=ut.currentUser;if(!f||!e)return;const h=Qt(Ke,`users/${f.uid}/grows/${e}/photos`),v=BI(h,qI("timestamp","desc")),m=(await Ci(v)).docs.map(_=>({id:_.id,..._.data()}));u(m)},c=async()=>{if(!e||!n){alert(" Please select a grow and a photo.");return}try{const f=ut.currentUser;if(!f)return;const h=`${Date.now()}_${n.name}`,v=$U(sne,`grows/${f.uid}/${e}/${h}`);await FU(v,n);const m={url:await BU(v),caption:a,timestamp:Ar.now()};await Ji(Qt(Ke,`users/${f.uid}/grows/${e}/photos`),m),i(null),o(""),l(),alert(" Photo uploaded!")}catch(f){console.error(" Upload failed:",f),alert("Upload failed.")}};return k.jsxs("div",{className:"bg-white dark:bg-zinc-900 text-zinc-900 dark:text-white p-6 rounded-2xl mt-6 shadow max-w-3xl mx-auto space-y-6",children:[k.jsx("h2",{className:"text-2xl font-bold",children:" Grow Photo Timeline"}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium mb-1",children:"Select Grow"}),k.jsxs("select",{value:e,onChange:f=>r(f.target.value),className:"w-full p-2 rounded border border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-800 text-sm",children:[k.jsx("option",{value:"",children:"Select a grow"}),t.map(f=>k.jsxs("option",{value:f.id,children:[f.strain||"Unnamed Grow","  ",f.inoculation]},f.id))]})]}),e&&k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:"space-y-3",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium mb-1",children:"Choose Photo"}),k.jsx("input",{type:"file",accept:"image/*",onChange:f=>i(f.target.files[0]),className:`block w-full text-sm file:mr-4 file:py-2 file:px-4
                   file:rounded-md file:border-0
                   file:text-sm file:font-semibold
                   file:bg-blue-600 file:text-white
                   hover:file:bg-blue-700
                   dark:file:bg-blue-500 dark:hover:file:bg-blue-600`})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium mb-1",children:"Caption"}),k.jsx("input",{type:"text",placeholder:"e.g. Fruiting begins",value:a,onChange:f=>o(f.target.value),className:"w-full px-3 py-2 rounded border border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-800 text-sm"})]}),k.jsx("button",{onClick:c,className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded w-full transition",children:" Upload Photo"})]}),s.length>0&&k.jsxs("div",{className:"mt-6 space-y-4",children:[k.jsx("h3",{className:"text-lg font-semibold",children:" Timeline"}),k.jsx("div",{className:"space-y-4",children:s.map(f=>k.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-800 rounded shadow overflow-hidden",children:[k.jsx("img",{src:f.url,alt:f.caption,className:"w-full max-h-72 object-cover"}),k.jsxs("div",{className:"p-3 text-sm",children:[k.jsx("p",{className:"font-medium",children:f.caption}),k.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:f.timestamp?.toDate().toLocaleString()})]})]},f.id))})]})]})]})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function zne(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(t,[])).next())})}function Wne(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gf=function(){return gf=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},gf.apply(this,arguments)},WU=function(t){return{loading:t==null,value:t}},Hne=function(){return function(t,e){switch(e.type){case"error":return gf(gf({},t),{error:e.error,loading:!1,value:void 0});case"reset":return WU(e.defaultValue);case"value":return gf(gf({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},Gne=function(t){var e=t?t():void 0,r=z.useReducer(Hne(),WU(e)),n=r[0],i=r[1],a=z.useCallback(function(){var u=t?t():void 0;i({type:"reset",defaultValue:u})},[t]),o=z.useCallback(function(u){i({type:"error",error:u})},[]),s=z.useCallback(function(u){i({type:"value",value:u})},[]);return z.useMemo(function(){return{error:n.error,loading:n.loading,reset:a,setError:o,setValue:s,value:n.value}},[n.error,n.loading,a,o,s,n.value])},QI=function(t,e){var r=Gne(function(){return t.currentUser}),n=r.error,i=r.loading,a=r.setError,o=r.setValue,s=r.value;return z.useEffect(function(){var u=tI(t,function(l){return zne(void 0,void 0,void 0,function(){var c;return Wne(this,function(f){switch(f.label){case 0:return[3,4];case 1:return f.trys.push([1,3,,4]),[4,e.onUserChanged(l)];case 2:return f.sent(),[3,4];case 3:return c=f.sent(),a(c),[3,4];case 4:return o(l),[2]}})})},a);return function(){u()}},[t]),[s,i,n]};const Kne=({grows:t})=>{const[e]=QI(ut),[r,n]=z.useState(""),[i,a]=z.useState(""),[o,s]=z.useState(""),u=async l=>{if(l.preventDefault(),!e||!r||!i||!o)return;const c=Qt(Ke,"users",e.uid,"tasks");await Ji(c,{task:r,dueDate:i,growId:o,createdAt:qp(),completed:!1}),n(""),a(""),s("")};return k.jsxs("form",{onSubmit:u,className:"p-4 bg-white dark:bg-gray-800 rounded-xl shadow space-y-2",children:[k.jsx("h3",{className:"text-lg font-semibold dark:text-white",children:"Add Reminder"}),k.jsxs("select",{value:o,onChange:l=>s(l.target.value),className:"w-full p-2 border rounded dark:bg-gray-700 dark:text-white",children:[k.jsx("option",{value:"",children:"Select Grow"}),t.map(l=>k.jsx("option",{value:l.id,children:l.strain},l.id))]}),k.jsx("input",{type:"text",placeholder:"Task description",value:r,onChange:l=>n(l.target.value),className:"w-full p-2 border rounded dark:bg-gray-700 dark:text-white"}),k.jsx("input",{type:"date",value:i,onChange:l=>a(l.target.value),className:"w-full p-2 border rounded dark:bg-gray-700 dark:text-white"}),k.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition",children:"Add Reminder"})]})},Xne=({grows:t,setGrows:e})=>{const[r]=QI(ut),n=()=>{const a=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),o=URL.createObjectURL(a),s=document.createElement("a");s.href=o,s.download="mushroom_grows_backup.json",s.click(),URL.revokeObjectURL(o)},i=async a=>{const o=a.target.files[0];if(!o||!r)return;const s=new FileReader;s.onload=async u=>{try{const l=JSON.parse(u.target.result),c=Qt(Ke,"users",r.uid,"grows"),f=[];for(const h of l){const{id:v,...g}=h,m=await Ji(c,g);f.push({id:m.id,...g})}e(h=>[...h,...f]),alert("Import successful.")}catch{alert("Import failed: Invalid JSON")}},s.readAsText(o)};return k.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-xl shadow flex gap-4 items-center",children:[k.jsx("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Export"}),k.jsxs("label",{className:"cursor-pointer px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:["Import",k.jsx("input",{type:"file",accept:"application/json",onChange:i,className:"hidden"})]})]})};function HU(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=HU(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function yt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=HU(t))&&(n&&(n+=" "),n+=e);return n}var yb,Ck;function Yn(){if(Ck)return yb;Ck=1;var t=Array.isArray;return yb=t,yb}var _b,Ik;function GU(){if(Ik)return _b;Ik=1;var t=typeof lu=="object"&&lu&&lu.Object===Object&&lu;return _b=t,_b}var wb,Pk;function io(){if(Pk)return wb;Pk=1;var t=GU(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return wb=r,wb}var xb,Rk;function Sd(){if(Rk)return xb;Rk=1;var t=io(),e=t.Symbol;return xb=e,xb}var bb,Dk;function Yne(){if(Dk)return bb;Dk=1;var t=Sd(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(o){var s=r.call(o,i),u=o[i];try{o[i]=void 0;var l=!0}catch{}var c=n.call(o);return l&&(s?o[i]=u:delete o[i]),c}return bb=a,bb}var Eb,Nk;function Qne(){if(Nk)return Eb;Nk=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Eb=r,Eb}var Ab,kk;function As(){if(kk)return Ab;kk=1;var t=Sd(),e=Yne(),r=Qne(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(s){return s==null?s===void 0?i:n:a&&a in Object(s)?e(s):r(s)}return Ab=o,Ab}var Sb,Mk;function ao(){if(Mk)return Sb;Mk=1;function t(e){return e!=null&&typeof e=="object"}return Sb=t,Sb}var Ob,Lk;function Od(){if(Lk)return Ob;Lk=1;var t=As(),e=ao(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return Ob=n,Ob}var Tb,jk;function ZI(){if(jk)return Tb;jk=1;var t=Yn(),e=Od(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(t(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return Tb=i,Tb}var Cb,Fk;function Aa(){if(Fk)return Cb;Fk=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Cb=t,Cb}var Ib,Bk;function A_(){if(Bk)return Ib;Bk=1;var t=As(),e=Aa(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!e(s))return!1;var u=t(s);return u==n||u==i||u==r||u==a}return Ib=o,Ib}var Pb,$k;function Zne(){if($k)return Pb;$k=1;var t=io(),e=t["__core-js_shared__"];return Pb=e,Pb}var Rb,Uk;function Jne(){if(Uk)return Rb;Uk=1;var t=Zne(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return Rb=r,Rb}var Db,Vk;function KU(){if(Vk)return Db;Vk=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Db=r,Db}var Nb,qk;function eie(){if(qk)return Nb;qk=1;var t=A_(),e=Jne(),r=Aa(),n=KU(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,u=o.toString,l=s.hasOwnProperty,c=RegExp("^"+u.call(l).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!r(h)||e(h))return!1;var v=t(h)?c:a;return v.test(n(h))}return Nb=f,Nb}var kb,zk;function tie(){if(zk)return kb;zk=1;function t(e,r){return e?.[r]}return kb=t,kb}var Mb,Wk;function cc(){if(Wk)return Mb;Wk=1;var t=eie(),e=tie();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return Mb=r,Mb}var Lb,Hk;function S_(){if(Hk)return Lb;Hk=1;var t=cc(),e=t(Object,"create");return Lb=e,Lb}var jb,Gk;function rie(){if(Gk)return jb;Gk=1;var t=S_();function e(){this.__data__=t?t(null):{},this.size=0}return jb=e,jb}var Fb,Kk;function nie(){if(Kk)return Fb;Kk=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Fb=t,Fb}var Bb,Xk;function iie(){if(Xk)return Bb;Xk=1;var t=S_(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(t){var s=o[a];return s===e?void 0:s}return n.call(o,a)?o[a]:void 0}return Bb=i,Bb}var $b,Yk;function aie(){if(Yk)return $b;Yk=1;var t=S_(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return $b=n,$b}var Ub,Qk;function oie(){if(Qk)return Ub;Qk=1;var t=S_(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return Ub=r,Ub}var Vb,Zk;function sie(){if(Zk)return Vb;Zk=1;var t=rie(),e=nie(),r=iie(),n=aie(),i=oie();function a(o){var s=-1,u=o==null?0:o.length;for(this.clear();++s<u;){var l=o[s];this.set(l[0],l[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Vb=a,Vb}var qb,Jk;function uie(){if(Jk)return qb;Jk=1;function t(){this.__data__=[],this.size=0}return qb=t,qb}var zb,e4;function r0(){if(e4)return zb;e4=1;function t(e,r){return e===r||e!==e&&r!==r}return zb=t,zb}var Wb,t4;function O_(){if(t4)return Wb;t4=1;var t=r0();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return Wb=e,Wb}var Hb,r4;function lie(){if(r4)return Hb;r4=1;var t=O_(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():r.call(a,o,1),--this.size,!0}return Hb=n,Hb}var Gb,n4;function cie(){if(n4)return Gb;n4=1;var t=O_();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return Gb=e,Gb}var Kb,i4;function fie(){if(i4)return Kb;i4=1;var t=O_();function e(r){return t(this.__data__,r)>-1}return Kb=e,Kb}var Xb,a4;function die(){if(a4)return Xb;a4=1;var t=O_();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return Xb=e,Xb}var Yb,o4;function T_(){if(o4)return Yb;o4=1;var t=uie(),e=lie(),r=cie(),n=fie(),i=die();function a(o){var s=-1,u=o==null?0:o.length;for(this.clear();++s<u;){var l=o[s];this.set(l[0],l[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Yb=a,Yb}var Qb,s4;function JI(){if(s4)return Qb;s4=1;var t=cc(),e=io(),r=t(e,"Map");return Qb=r,Qb}var Zb,u4;function hie(){if(u4)return Zb;u4=1;var t=sie(),e=T_(),r=JI();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Zb=n,Zb}var Jb,l4;function pie(){if(l4)return Jb;l4=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Jb=t,Jb}var eE,c4;function C_(){if(c4)return eE;c4=1;var t=pie();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return eE=e,eE}var tE,f4;function vie(){if(f4)return tE;f4=1;var t=C_();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return tE=e,tE}var rE,d4;function gie(){if(d4)return rE;d4=1;var t=C_();function e(r){return t(this,r).get(r)}return rE=e,rE}var nE,h4;function mie(){if(h4)return nE;h4=1;var t=C_();function e(r){return t(this,r).has(r)}return nE=e,nE}var iE,p4;function yie(){if(p4)return iE;p4=1;var t=C_();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return iE=e,iE}var aE,v4;function eP(){if(v4)return aE;v4=1;var t=hie(),e=vie(),r=gie(),n=mie(),i=yie();function a(o){var s=-1,u=o==null?0:o.length;for(this.clear();++s<u;){var l=o[s];this.set(l[0],l[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,aE=a,aE}var oE,g4;function XU(){if(g4)return oE;g4=1;var t=eP(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],u=a.cache;if(u.has(s))return u.get(s);var l=n.apply(this,o);return a.cache=u.set(s,l)||u,l};return a.cache=new(r.Cache||t),a}return r.Cache=t,oE=r,oE}var sE,m4;function _ie(){if(m4)return sE;m4=1;var t=XU(),e=500;function r(n){var i=t(n,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return sE=r,sE}var uE,y4;function wie(){if(y4)return uE;y4=1;var t=_ie(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,s,u,l){a.push(u?l.replace(r,"$1"):s||o)}),a});return uE=n,uE}var lE,_4;function I_(){if(_4)return lE;_4=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return lE=t,lE}var cE,w4;function xie(){if(w4)return cE;w4=1;var t=Sd(),e=I_(),r=Yn(),n=Od(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(s){if(typeof s=="string")return s;if(r(s))return e(s,o)+"";if(n(s))return a?a.call(s):"";var u=s+"";return u=="0"&&1/s==-1/0?"-0":u}return cE=o,cE}var fE,x4;function YU(){if(x4)return fE;x4=1;var t=xie();function e(r){return r==null?"":t(r)}return fE=e,fE}var dE,b4;function P_(){if(b4)return dE;b4=1;var t=Yn(),e=ZI(),r=wie(),n=YU();function i(a,o){return t(a)?a:e(a,o)?[a]:r(n(a))}return dE=i,dE}var hE,E4;function n0(){if(E4)return hE;E4=1;var t=Od();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return hE=e,hE}var pE,A4;function R_(){if(A4)return pE;A4=1;var t=P_(),e=n0();function r(n,i){i=t(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[e(i[a++])];return a&&a==o?n:void 0}return pE=r,pE}var vE,S4;function QU(){if(S4)return vE;S4=1;var t=R_();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return vE=e,vE}var bie=QU();const Yi=_t(bie);var gE,O4;function Eie(){if(O4)return gE;O4=1;function t(e){return e==null}return gE=t,gE}var Aie=Eie();const ht=_t(Aie);var mE,T4;function Sie(){if(T4)return mE;T4=1;var t=As(),e=Yn(),r=ao(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return mE=i,mE}var Oie=Sie();const Wl=_t(Oie);var Tie=A_();const st=_t(Tie);var Cie=Aa();const Td=_t(Cie);var yE={exports:{}},$t={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C4;function Iie(){if(C4)return $t;C4=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),g;g=Symbol.for("react.module.reference");function m(_){if(typeof _=="object"&&_!==null){var b=_.$$typeof;switch(b){case t:switch(_=_.type,_){case r:case i:case n:case l:case c:return _;default:switch(_=_&&_.$$typeof,_){case s:case o:case u:case h:case f:case a:return _;default:return b}}case e:return b}}}return $t.ContextConsumer=o,$t.ContextProvider=a,$t.Element=t,$t.ForwardRef=u,$t.Fragment=r,$t.Lazy=h,$t.Memo=f,$t.Portal=e,$t.Profiler=i,$t.StrictMode=n,$t.Suspense=l,$t.SuspenseList=c,$t.isAsyncMode=function(){return!1},$t.isConcurrentMode=function(){return!1},$t.isContextConsumer=function(_){return m(_)===o},$t.isContextProvider=function(_){return m(_)===a},$t.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===t},$t.isForwardRef=function(_){return m(_)===u},$t.isFragment=function(_){return m(_)===r},$t.isLazy=function(_){return m(_)===h},$t.isMemo=function(_){return m(_)===f},$t.isPortal=function(_){return m(_)===e},$t.isProfiler=function(_){return m(_)===i},$t.isStrictMode=function(_){return m(_)===n},$t.isSuspense=function(_){return m(_)===l},$t.isSuspenseList=function(_){return m(_)===c},$t.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===i||_===n||_===l||_===c||_===v||typeof _=="object"&&_!==null&&(_.$$typeof===h||_.$$typeof===f||_.$$typeof===a||_.$$typeof===o||_.$$typeof===u||_.$$typeof===g||_.getModuleId!==void 0)},$t.typeOf=m,$t}var I4;function Pie(){return I4||(I4=1,yE.exports=Iie()),yE.exports}var Rie=Pie(),_E,P4;function ZU(){if(P4)return _E;P4=1;var t=As(),e=ao(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return _E=n,_E}var wE,R4;function Die(){if(R4)return wE;R4=1;var t=ZU();function e(r){return t(r)&&r!=+r}return wE=e,wE}var Nie=Die();const i0=_t(Nie);var kie=ZU();const Mie=_t(kie);var fi=function(e){return e===0?0:e>0?1:-1},Al=function(e){return Wl(e)&&e.indexOf("%")===e.length-1},Ne=function(e){return Mie(e)&&!i0(e)},Lie=function(e){return ht(e)},an=function(e){return Ne(e)||Wl(e)},jie=0,Cd=function(e){var r=++jie;return"".concat(e||"").concat(r)},di=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ne(e)&&!Wl(e))return n;var a;if(Al(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return i0(a)&&(a=n),i&&a>r&&(a=r),a},uu=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Fie=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Hi=function(e,r){return Ne(e)&&Ne(r)?function(n){return e+n*(r-e)}:function(){return r}};function $y(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Yi(n,e))===r})}var Bie=function(e,r){return Ne(e)&&Ne(r)?e-r:Wl(e)&&Wl(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Pf(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function eT(t){"@babel/helpers - typeof";return eT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eT(t)}var $ie=["viewBox","children"],Uie=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],D4=["points","pathLength"],xE={svg:$ie,polygon:D4,polyline:D4},tP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Uy=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(z.isValidElement(e)&&(n=e.props),!Td(n))return null;var i={};return Object.keys(n).forEach(function(a){tP.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},Vie=function(e,r,n){return function(i){return e(r,n,i),null}},Hl=function(e,r,n){if(!Td(e)||eT(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];tP.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=Vie(o,r,n))}),i},qie=["children"],zie=["children"];function N4(t,e){if(t==null)return{};var r=Wie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tT(t){"@babel/helpers - typeof";return tT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tT(t)}var k4={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ds=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},M4=null,bE=null,rP=function t(e){if(e===M4&&Array.isArray(bE))return bE;var r=[];return z.Children.forEach(e,function(n){ht(n)||(Rie.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),bE=r,M4=e,r};function Qi(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return ds(i)}):n=[ds(e)],rP(t).forEach(function(i){var a=Yi(i,"type.displayName")||Yi(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Wi(t,e){var r=Qi(t,e);return r&&r[0]}var L4=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Ne(n)||n<=0||!Ne(i)||i<=0)},Hie=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Gie=function(e){return e&&e.type&&Wl(e.type)&&Hie.indexOf(e.type)>=0},Kie=function(e){return e&&tT(e)==="object"&&"clipDot"in e},Xie=function(e,r,n,i){var a,o=(a=xE?.[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!st(e)&&(i&&o.includes(r)||Uie.includes(r))||n&&tP.includes(r)},et=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(z.isValidElement(e)&&(i=e.props),!Td(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;Xie((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},rT=function t(e,r){if(e===r)return!0;var n=z.Children.count(e);if(n!==z.Children.count(r))return!1;if(n===0)return!0;if(n===1)return j4(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!j4(a,o))return!1}return!0},j4=function(e,r){if(ht(e)&&ht(r))return!0;if(!ht(e)&&!ht(r)){var n=e.props||{},i=n.children,a=N4(n,qie),o=r.props||{},s=o.children,u=N4(o,zie);return i&&s?Pf(a,u)&&rT(i,s):!i&&!s?Pf(a,u):!1}return!1},F4=function(e,r){var n=[],i={};return rP(e).forEach(function(a,o){if(Gie(a))n.push(a);else if(a){var s=ds(a.type),u=r[s]||{},l=u.handler,c=u.once;if(l&&(!c||!i[s])){var f=l(a,s,o);n.push(f),i[s]=!0}}}),n},Yie=function(e){var r=e&&e.type;return r&&k4[r]?k4[r]:null},Qie=function(e,r){return rP(r).indexOf(e)},Zie=["children","width","height","viewBox","className","style","title","desc"];function nT(){return nT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nT.apply(this,arguments)}function Jie(t,e){if(t==null)return{};var r=eae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function iT(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,u=t.desc,l=Jie(t,Zie),c=i||{width:r,height:n,x:0,y:0},f=yt("recharts-surface",a);return $.createElement("svg",nT({},et(l,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),$.createElement("title",null,s),$.createElement("desc",null,u),e)}var tae=["children","className"];function aT(){return aT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aT.apply(this,arguments)}function rae(t,e){if(t==null)return{};var r=nae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Lt=$.forwardRef(function(t,e){var r=t.children,n=t.className,i=rae(t,tae),a=yt("recharts-layer",n);return $.createElement("g",aT({className:a},et(i,!0),{ref:e}),r)}),Ja=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},EE,B4;function nP(){if(B4)return EE;B4=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+r];return o}return EE=t,EE}var AE,$4;function iae(){if($4)return AE;$4=1;var t=nP();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return AE=e,AE}var SE,U4;function JU(){if(U4)return SE;U4=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+t+i+a+"]");function u(l){return s.test(l)}return SE=u,SE}var OE,V4;function aae(){if(V4)return OE;V4=1;function t(e){return e.split("")}return OE=t,OE}var TE,q4;function oae(){if(q4)return TE;q4=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="["+t+"]",s="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",l="(?:"+s+"|"+u+")",c="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",g=l+"?",m="["+a+"]?",_="(?:"+v+"(?:"+[c,f,h].join("|")+")"+m+g+")*",b=m+g+_,E="(?:"+[c+s+"?",s,f,h,o].join("|")+")",A=RegExp(u+"(?="+u+")|"+E+b,"g");function C(O){return O.match(A)||[]}return TE=C,TE}var CE,z4;function sae(){if(z4)return CE;z4=1;var t=aae(),e=JU(),r=oae();function n(i){return e(i)?r(i):t(i)}return CE=n,CE}var IE,W4;function uae(){if(W4)return IE;W4=1;var t=iae(),e=JU(),r=sae(),n=YU();function i(a){return function(o){o=n(o);var s=e(o)?r(o):void 0,u=s?s[0]:o.charAt(0),l=s?t(s,1).join(""):o.slice(1);return u[a]()+l}}return IE=i,IE}var PE,H4;function lae(){if(H4)return PE;H4=1;var t=uae(),e=t("toUpperCase");return PE=e,PE}var cae=lae();const D_=_t(cae);function or(t){return function(){return t}}const eV=Math.cos,Vy=Math.sin,oo=Math.sqrt,qy=Math.PI,N_=2*qy,oT=Math.PI,sT=2*oT,ml=1e-6,fae=sT-ml;function tV(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function dae(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return tV;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class hae{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?tV:dae(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,u=n-e,l=i-r,c=o-e,f=s-r,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>ml)if(!(Math.abs(f*u-l*c)>ml)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let v=n-o,g=i-s,m=u*u+l*l,_=v*v+g*g,b=Math.sqrt(m),E=Math.sqrt(h),A=a*Math.tan((oT-Math.acos((m+h-_)/(2*b*E)))/2),C=A/E,O=A/b;Math.abs(C-1)>ml&&this._append`L${e+C*c},${r+C*f}`,this._append`A${a},${a},0,0,${+(f*v>c*g)},${this._x1=e+O*u},${this._y1=r+O*l}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),u=n*Math.sin(i),l=e+s,c=r+u,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>ml||Math.abs(this._y1-c)>ml)&&this._append`L${l},${c}`,n&&(h<0&&(h=h%sT+sT),h>fae?this._append`A${n},${n},0,1,${f},${e-s},${r-u}A${n},${n},0,1,${f},${this._x1=l},${this._y1=c}`:h>ml&&this._append`A${n},${n},0,${+(h>=oT)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function iP(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new hae(e)}function aP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function rV(t){this._context=t}rV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function k_(t){return new rV(t)}function nV(t){return t[0]}function iV(t){return t[1]}function aV(t,e){var r=or(!0),n=null,i=k_,a=null,o=iP(s);t=typeof t=="function"?t:t===void 0?nV:or(t),e=typeof e=="function"?e:e===void 0?iV:or(e);function s(u){var l,c=(u=aP(u)).length,f,h=!1,v;for(n==null&&(a=i(v=o())),l=0;l<=c;++l)!(l<c&&r(f=u[l],l,u))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,l,u),+e(f,l,u));if(v)return a=null,v+""||null}return s.x=function(u){return arguments.length?(t=typeof u=="function"?u:or(+u),s):t},s.y=function(u){return arguments.length?(e=typeof u=="function"?u:or(+u),s):e},s.defined=function(u){return arguments.length?(r=typeof u=="function"?u:or(!!u),s):r},s.curve=function(u){return arguments.length?(i=u,n!=null&&(a=i(n)),s):i},s.context=function(u){return arguments.length?(u==null?n=a=null:a=i(n=u),s):n},s}function Hg(t,e,r){var n=null,i=or(!0),a=null,o=k_,s=null,u=iP(l);t=typeof t=="function"?t:t===void 0?nV:or(+t),e=typeof e=="function"?e:or(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?iV:or(+r);function l(f){var h,v,g,m=(f=aP(f)).length,_,b=!1,E,A=new Array(m),C=new Array(m);for(a==null&&(s=o(E=u())),h=0;h<=m;++h){if(!(h<m&&i(_=f[h],h,f))===b)if(b=!b)v=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=v;--g)s.point(A[g],C[g]);s.lineEnd(),s.areaEnd()}b&&(A[h]=+t(_,h,f),C[h]=+e(_,h,f),s.point(n?+n(_,h,f):A[h],r?+r(_,h,f):C[h]))}if(E)return s=null,E+""||null}function c(){return aV().defined(i).curve(o).context(a)}return l.x=function(f){return arguments.length?(t=typeof f=="function"?f:or(+f),n=null,l):t},l.x0=function(f){return arguments.length?(t=typeof f=="function"?f:or(+f),l):t},l.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:or(+f),l):n},l.y=function(f){return arguments.length?(e=typeof f=="function"?f:or(+f),r=null,l):e},l.y0=function(f){return arguments.length?(e=typeof f=="function"?f:or(+f),l):e},l.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:or(+f),l):r},l.lineX0=l.lineY0=function(){return c().x(t).y(e)},l.lineY1=function(){return c().x(t).y(r)},l.lineX1=function(){return c().x(n).y(e)},l.defined=function(f){return arguments.length?(i=typeof f=="function"?f:or(!!f),l):i},l.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),l):o},l.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),l):a},l}class oV{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function pae(t){return new oV(t,!0)}function vae(t){return new oV(t,!1)}const oP={draw(t,e){const r=oo(e/qy);t.moveTo(r,0),t.arc(0,0,r,0,N_)}},gae={draw(t,e){const r=oo(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},sV=oo(1/3),mae=sV*2,yae={draw(t,e){const r=oo(e/mae),n=r*sV;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},_ae={draw(t,e){const r=oo(e),n=-r/2;t.rect(n,n,r,r)}},wae=.8908130915292852,uV=Vy(qy/10)/Vy(7*qy/10),xae=Vy(N_/10)*uV,bae=-eV(N_/10)*uV,Eae={draw(t,e){const r=oo(e*wae),n=xae*r,i=bae*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=N_*a/5,s=eV(o),u=Vy(o);t.lineTo(u*r,-s*r),t.lineTo(s*n-u*i,u*n+s*i)}t.closePath()}},RE=oo(3),Aae={draw(t,e){const r=-oo(e/(RE*3));t.moveTo(0,r*2),t.lineTo(-RE*r,-r),t.lineTo(RE*r,-r),t.closePath()}},fa=-.5,da=oo(3)/2,uT=1/oo(12),Sae=(uT/2+1)*3,Oae={draw(t,e){const r=oo(e/Sae),n=r/2,i=r*uT,a=n,o=r*uT+r,s=-a,u=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,u),t.lineTo(fa*n-da*i,da*n+fa*i),t.lineTo(fa*a-da*o,da*a+fa*o),t.lineTo(fa*s-da*u,da*s+fa*u),t.lineTo(fa*n+da*i,fa*i-da*n),t.lineTo(fa*a+da*o,fa*o-da*a),t.lineTo(fa*s+da*u,fa*u-da*s),t.closePath()}};function Tae(t,e){let r=null,n=iP(i);t=typeof t=="function"?t:or(t||oP),e=typeof e=="function"?e:or(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:or(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:or(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function zy(){}function Wy(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function lV(t){this._context=t}lV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Cae(t){return new lV(t)}function cV(t){this._context=t}cV.prototype={areaStart:zy,areaEnd:zy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Wy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Iae(t){return new cV(t)}function fV(t){this._context=t}fV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Wy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Pae(t){return new fV(t)}function dV(t){this._context=t}dV.prototype={areaStart:zy,areaEnd:zy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Rae(t){return new dV(t)}function G4(t){return t<0?-1:1}function K4(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(G4(a)+G4(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function X4(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function DE(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function Hy(t){this._context=t}Hy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:DE(this,this._t0,X4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,DE(this,X4(this,r=K4(this,t,e)),r);break;default:DE(this,this._t0,r=K4(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function hV(t){this._context=new pV(t)}(hV.prototype=Object.create(Hy.prototype)).point=function(t,e){Hy.prototype.point.call(this,e,t)};function pV(t){this._context=t}pV.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function Dae(t){return new Hy(t)}function Nae(t){return new hV(t)}function vV(t){this._context=t}vV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=Y4(t),i=Y4(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Y4(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function kae(t){return new vV(t)}function M_(t,e){this._context=t,this._t=e}M_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Mae(t){return new M_(t,.5)}function Lae(t){return new M_(t,0)}function jae(t){return new M_(t,1)}function Uf(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function lT(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Fae(t,e){return t[e]}function Bae(t){const e=[];return e.key=t,e}function $ae(){var t=or([]),e=lT,r=Uf,n=Fae;function i(a){var o=Array.from(t.apply(this,arguments),Bae),s,u=o.length,l=-1,c;for(const f of a)for(s=0,++l;s<u;++s)(o[s][l]=[0,+n(f,o[s].key,l,a)]).data=f;for(s=0,c=aP(e(o));s<u;++s)o[c[s]].index=s;return r(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:or(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:or(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?lT:typeof a=="function"?a:or(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Uf,i):r},i}function Uae(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}Uf(t,e)}}function Vae(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Uf(t,e)}}function qae(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,u=0,l=0;s<o;++s){for(var c=t[e[s]],f=c[n][1]||0,h=c[n-1][1]||0,v=(f-h)/2,g=0;g<s;++g){var m=t[e[g]],_=m[n][1]||0,b=m[n-1][1]||0;v+=_-b}u+=f,l+=v*f}i[n-1][1]+=i[n-1][0]=r,u&&(r-=l/u)}i[n-1][1]+=i[n-1][0]=r,Uf(t,e)}}function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}var zae=["type","size","sizeType"];function cT(){return cT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cT.apply(this,arguments)}function Q4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Z4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q4(Object(r),!0).forEach(function(n){Wae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wae(t,e,r){return e=Hae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hae(t){var e=Gae(t,"string");return zp(e)=="symbol"?e:e+""}function Gae(t,e){if(zp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kae(t,e){if(t==null)return{};var r=Xae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var gV={symbolCircle:oP,symbolCross:gae,symbolDiamond:yae,symbolSquare:_ae,symbolStar:Eae,symbolTriangle:Aae,symbolWye:Oae},Yae=Math.PI/180,Qae=function(e){var r="symbol".concat(D_(e));return gV[r]||oP},Zae=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Yae;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Jae=function(e,r){gV["symbol".concat(D_(e))]=r},sP=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,u=Kae(e,zae),l=Z4(Z4({},u),{},{type:n,size:a,sizeType:s}),c=function(){var _=Qae(n),b=Tae().type(_).size(Zae(a,s,n));return b()},f=l.className,h=l.cx,v=l.cy,g=et(l,!0);return h===+h&&v===+v&&a===+a?$.createElement("path",cT({},g,{className:yt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(v,")"),d:c()})):null};sP.registerSymbol=Jae;function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function fT(){return fT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fT.apply(this,arguments)}function J4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eoe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J4(Object(r),!0).forEach(function(n){Wp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function toe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function roe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yV(n.key),n)}}function noe(t,e,r){return e&&roe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ioe(t,e,r){return e=Gy(e),aoe(t,mV()?Reflect.construct(e,r||[],Gy(t).constructor):e.apply(t,r))}function aoe(t,e){if(e&&(Vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ooe(t)}function ooe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mV=function(){return!!t})()}function Gy(t){return Gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gy(t)}function soe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dT(t,e)}function dT(t,e){return dT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dT(t,e)}function Wp(t,e,r){return e=yV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yV(t){var e=uoe(t,"string");return Vf(e)=="symbol"?e:e+""}function uoe(t,e){if(Vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ha=32,uP=function(t){function e(){return toe(this,e),ioe(this,e,arguments)}return soe(e,t),noe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=ha/2,o=ha/6,s=ha/3,u=n.inactive?i:n.color;if(n.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:ha,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(ha,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return $.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(ha/8,"h").concat(ha,"v").concat(ha*3/4,"h").concat(-ha,"z"),className:"recharts-legend-icon"});if($.isValidElement(n.legendIcon)){var l=eoe({},n);return delete l.legendIcon,$.cloneElement(n.legendIcon,l)}return $.createElement(sP,{fill:u,cx:a,cy:a,size:ha,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,u=i.formatter,l=i.inactiveColor,c={x:0,y:0,width:ha,height:ha},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(v,g){var m=v.formatter||u,_=yt(Wp(Wp({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",v.inactive));if(v.type==="none")return null;var b=st(v.value)?null:v.value;Ja(!st(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var E=v.inactive?l:v.color;return $.createElement("li",fT({className:_,style:f,key:"legend-item-".concat(g)},Hl(n.props,v,g)),$.createElement(iT,{width:o,height:o,viewBox:c,style:h},n.renderIcon(v)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},m?m(b,v,g):b))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(z.PureComponent);Wp(uP,"displayName","Legend");Wp(uP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var NE,eM;function loe(){if(eM)return NE;eM=1;var t=T_();function e(){this.__data__=new t,this.size=0}return NE=e,NE}var kE,tM;function coe(){if(tM)return kE;tM=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return kE=t,kE}var ME,rM;function foe(){if(rM)return ME;rM=1;function t(e){return this.__data__.get(e)}return ME=t,ME}var LE,nM;function doe(){if(nM)return LE;nM=1;function t(e){return this.__data__.has(e)}return LE=t,LE}var jE,iM;function hoe(){if(iM)return jE;iM=1;var t=T_(),e=JI(),r=eP(),n=200;function i(a,o){var s=this.__data__;if(s instanceof t){var u=s.__data__;if(!e||u.length<n-1)return u.push([a,o]),this.size=++s.size,this;s=this.__data__=new r(u)}return s.set(a,o),this.size=s.size,this}return jE=i,jE}var FE,aM;function lP(){if(aM)return FE;aM=1;var t=T_(),e=loe(),r=coe(),n=foe(),i=doe(),a=hoe();function o(s){var u=this.__data__=new t(s);this.size=u.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,FE=o,FE}var BE,oM;function poe(){if(oM)return BE;oM=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return BE=e,BE}var $E,sM;function voe(){if(sM)return $E;sM=1;function t(e){return this.__data__.has(e)}return $E=t,$E}var UE,uM;function _V(){if(uM)return UE;uM=1;var t=eP(),e=poe(),r=voe();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,UE=n,UE}var VE,lM;function wV(){if(lM)return VE;lM=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return VE=t,VE}var qE,cM;function xV(){if(cM)return qE;cM=1;function t(e,r){return e.has(r)}return qE=t,qE}var zE,fM;function bV(){if(fM)return zE;fM=1;var t=_V(),e=wV(),r=xV(),n=1,i=2;function a(o,s,u,l,c,f){var h=u&n,v=o.length,g=s.length;if(v!=g&&!(h&&g>v))return!1;var m=f.get(o),_=f.get(s);if(m&&_)return m==s&&_==o;var b=-1,E=!0,A=u&i?new t:void 0;for(f.set(o,s),f.set(s,o);++b<v;){var C=o[b],O=s[b];if(l)var R=h?l(O,C,b,s,o,f):l(C,O,b,o,s,f);if(R!==void 0){if(R)continue;E=!1;break}if(A){if(!e(s,function(I,S){if(!r(A,S)&&(C===I||c(C,I,u,l,f)))return A.push(S)})){E=!1;break}}else if(!(C===O||c(C,O,u,l,f))){E=!1;break}}return f.delete(o),f.delete(s),E}return zE=a,zE}var WE,dM;function EV(){if(dM)return WE;dM=1;var t=io(),e=t.Uint8Array;return WE=e,WE}var HE,hM;function goe(){if(hM)return HE;hM=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return HE=t,HE}var GE,pM;function cP(){if(pM)return GE;pM=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return GE=t,GE}var KE,vM;function moe(){if(vM)return KE;vM=1;var t=Sd(),e=EV(),r=r0(),n=bV(),i=goe(),a=cP(),o=1,s=2,u="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Map]",h="[object Number]",v="[object RegExp]",g="[object Set]",m="[object String]",_="[object Symbol]",b="[object ArrayBuffer]",E="[object DataView]",A=t?t.prototype:void 0,C=A?A.valueOf:void 0;function O(R,I,S,T,D,L,F){switch(S){case E:if(R.byteLength!=I.byteLength||R.byteOffset!=I.byteOffset)return!1;R=R.buffer,I=I.buffer;case b:return!(R.byteLength!=I.byteLength||!L(new e(R),new e(I)));case u:case l:case h:return r(+R,+I);case c:return R.name==I.name&&R.message==I.message;case v:case m:return R==I+"";case f:var j=i;case g:var K=T&o;if(j||(j=a),R.size!=I.size&&!K)return!1;var ee=F.get(R);if(ee)return ee==I;T|=s,F.set(R,I);var W=n(j(R),j(I),T,D,L,F);return F.delete(R),W;case _:if(C)return C.call(R)==C.call(I)}return!1}return KE=O,KE}var XE,gM;function fP(){if(gM)return XE;gM=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return XE=t,XE}var YE,mM;function AV(){if(mM)return YE;mM=1;var t=fP(),e=Yn();function r(n,i,a){var o=i(n);return e(n)?o:t(o,a(n))}return YE=r,YE}var QE,yM;function yoe(){if(yM)return QE;yM=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,o=[];++n<i;){var s=e[n];r(s,n,e)&&(o[a++]=s)}return o}return QE=t,QE}var ZE,_M;function SV(){if(_M)return ZE;_M=1;function t(){return[]}return ZE=t,ZE}var JE,wM;function dP(){if(wM)return JE;wM=1;var t=yoe(),e=SV(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(s){return n.call(o,s)}))}:e;return JE=a,JE}var e2,xM;function _oe(){if(xM)return e2;xM=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return e2=t,e2}var t2,bM;function woe(){if(bM)return t2;bM=1;var t=As(),e=ao(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return t2=n,t2}var r2,EM;function hP(){if(EM)return r2;EM=1;var t=woe(),e=ao(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return r2=a,r2}var op={exports:{}},n2,AM;function xoe(){if(AM)return n2;AM=1;function t(){return!1}return n2=t,n2}op.exports;var SM;function L_(){return SM||(SM=1,function(t,e){var r=io(),n=xoe(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,u=s?s.isBuffer:void 0,l=u||n;t.exports=l}(op,op.exports)),op.exports}var i2,OM;function pP(){if(OM)return i2;OM=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return i2=r,i2}var a2,TM;function vP(){if(TM)return a2;TM=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return a2=e,a2}var o2,CM;function boe(){if(CM)return o2;CM=1;var t=As(),e=vP(),r=ao(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",u="[object Function]",l="[object Map]",c="[object Number]",f="[object Object]",h="[object RegExp]",v="[object Set]",g="[object String]",m="[object WeakMap]",_="[object ArrayBuffer]",b="[object DataView]",E="[object Float32Array]",A="[object Float64Array]",C="[object Int8Array]",O="[object Int16Array]",R="[object Int32Array]",I="[object Uint8Array]",S="[object Uint8ClampedArray]",T="[object Uint16Array]",D="[object Uint32Array]",L={};L[E]=L[A]=L[C]=L[O]=L[R]=L[I]=L[S]=L[T]=L[D]=!0,L[n]=L[i]=L[_]=L[a]=L[b]=L[o]=L[s]=L[u]=L[l]=L[c]=L[f]=L[h]=L[v]=L[g]=L[m]=!1;function F(j){return r(j)&&e(j.length)&&!!L[t(j)]}return o2=F,o2}var s2,IM;function j_(){if(IM)return s2;IM=1;function t(e){return function(r){return e(r)}}return s2=t,s2}var sp={exports:{}};sp.exports;var PM;function gP(){return PM||(PM=1,function(t,e){var r=GU(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var u=i&&i.require&&i.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s}(sp,sp.exports)),sp.exports}var u2,RM;function mP(){if(RM)return u2;RM=1;var t=boe(),e=j_(),r=gP(),n=r&&r.isTypedArray,i=n?e(n):t;return u2=i,u2}var l2,DM;function OV(){if(DM)return l2;DM=1;var t=_oe(),e=hP(),r=Yn(),n=L_(),i=pP(),a=mP(),o=Object.prototype,s=o.hasOwnProperty;function u(l,c){var f=r(l),h=!f&&e(l),v=!f&&!h&&n(l),g=!f&&!h&&!v&&a(l),m=f||h||v||g,_=m?t(l.length,String):[],b=_.length;for(var E in l)(c||s.call(l,E))&&!(m&&(E=="length"||v&&(E=="offset"||E=="parent")||g&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,b)))&&_.push(E);return _}return l2=u,l2}var c2,NM;function yP(){if(NM)return c2;NM=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return c2=e,c2}var f2,kM;function TV(){if(kM)return f2;kM=1;function t(e,r){return function(n){return e(r(n))}}return f2=t,f2}var d2,MM;function Eoe(){if(MM)return d2;MM=1;var t=TV(),e=t(Object.keys,Object);return d2=e,d2}var h2,LM;function Aoe(){if(LM)return h2;LM=1;var t=yP(),e=Eoe(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var s in Object(a))n.call(a,s)&&s!="constructor"&&o.push(s);return o}return h2=i,h2}var p2,jM;function Id(){if(jM)return p2;jM=1;var t=A_(),e=vP();function r(n){return n!=null&&e(n.length)&&!t(n)}return p2=r,p2}var v2,FM;function Pd(){if(FM)return v2;FM=1;var t=OV(),e=Aoe(),r=Id();function n(i){return r(i)?t(i):e(i)}return v2=n,v2}var g2,BM;function CV(){if(BM)return g2;BM=1;var t=AV(),e=dP(),r=Pd();function n(i){return t(i,r,e)}return g2=n,g2}var m2,$M;function Soe(){if($M)return m2;$M=1;var t=CV(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,o,s,u,l,c){var f=s&e,h=t(a),v=h.length,g=t(o),m=g.length;if(v!=m&&!f)return!1;for(var _=v;_--;){var b=h[_];if(!(f?b in o:n.call(o,b)))return!1}var E=c.get(a),A=c.get(o);if(E&&A)return E==o&&A==a;var C=!0;c.set(a,o),c.set(o,a);for(var O=f;++_<v;){b=h[_];var R=a[b],I=o[b];if(u)var S=f?u(I,R,b,o,a,c):u(R,I,b,a,o,c);if(!(S===void 0?R===I||l(R,I,s,u,c):S)){C=!1;break}O||(O=b=="constructor")}if(C&&!O){var T=a.constructor,D=o.constructor;T!=D&&"constructor"in a&&"constructor"in o&&!(typeof T=="function"&&T instanceof T&&typeof D=="function"&&D instanceof D)&&(C=!1)}return c.delete(a),c.delete(o),C}return m2=i,m2}var y2,UM;function Ooe(){if(UM)return y2;UM=1;var t=cc(),e=io(),r=t(e,"DataView");return y2=r,y2}var _2,VM;function Toe(){if(VM)return _2;VM=1;var t=cc(),e=io(),r=t(e,"Promise");return _2=r,_2}var w2,qM;function IV(){if(qM)return w2;qM=1;var t=cc(),e=io(),r=t(e,"Set");return w2=r,w2}var x2,zM;function Coe(){if(zM)return x2;zM=1;var t=cc(),e=io(),r=t(e,"WeakMap");return x2=r,x2}var b2,WM;function F_(){if(WM)return b2;WM=1;var t=Ooe(),e=JI(),r=Toe(),n=IV(),i=Coe(),a=As(),o=KU(),s="[object Map]",u="[object Object]",l="[object Promise]",c="[object Set]",f="[object WeakMap]",h="[object DataView]",v=o(t),g=o(e),m=o(r),_=o(n),b=o(i),E=a;return(t&&E(new t(new ArrayBuffer(1)))!=h||e&&E(new e)!=s||r&&E(r.resolve())!=l||n&&E(new n)!=c||i&&E(new i)!=f)&&(E=function(A){var C=a(A),O=C==u?A.constructor:void 0,R=O?o(O):"";if(R)switch(R){case v:return h;case g:return s;case m:return l;case _:return c;case b:return f}return C}),b2=E,b2}var E2,HM;function Ioe(){if(HM)return E2;HM=1;var t=lP(),e=bV(),r=moe(),n=Soe(),i=F_(),a=Yn(),o=L_(),s=mP(),u=1,l="[object Arguments]",c="[object Array]",f="[object Object]",h=Object.prototype,v=h.hasOwnProperty;function g(m,_,b,E,A,C){var O=a(m),R=a(_),I=O?c:i(m),S=R?c:i(_);I=I==l?f:I,S=S==l?f:S;var T=I==f,D=S==f,L=I==S;if(L&&o(m)){if(!o(_))return!1;O=!0,T=!1}if(L&&!T)return C||(C=new t),O||s(m)?e(m,_,b,E,A,C):r(m,_,I,b,E,A,C);if(!(b&u)){var F=T&&v.call(m,"__wrapped__"),j=D&&v.call(_,"__wrapped__");if(F||j){var K=F?m.value():m,ee=j?_.value():_;return C||(C=new t),A(K,ee,b,E,C)}}return L?(C||(C=new t),n(m,_,b,E,A,C)):!1}return E2=g,E2}var A2,GM;function _P(){if(GM)return A2;GM=1;var t=Ioe(),e=ao();function r(n,i,a,o,s){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,o,r,s)}return A2=r,A2}var S2,KM;function Poe(){if(KM)return S2;KM=1;var t=lP(),e=_P(),r=1,n=2;function i(a,o,s,u){var l=s.length,c=l,f=!u;if(a==null)return!c;for(a=Object(a);l--;){var h=s[l];if(f&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++l<c;){h=s[l];var v=h[0],g=a[v],m=h[1];if(f&&h[2]){if(g===void 0&&!(v in a))return!1}else{var _=new t;if(u)var b=u(g,m,v,a,o,_);if(!(b===void 0?e(m,g,r|n,u,_):b))return!1}}return!0}return S2=i,S2}var O2,XM;function PV(){if(XM)return O2;XM=1;var t=Aa();function e(r){return r===r&&!t(r)}return O2=e,O2}var T2,YM;function Roe(){if(YM)return T2;YM=1;var t=PV(),e=Pd();function r(n){for(var i=e(n),a=i.length;a--;){var o=i[a],s=n[o];i[a]=[o,s,t(s)]}return i}return T2=r,T2}var C2,QM;function RV(){if(QM)return C2;QM=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return C2=t,C2}var I2,ZM;function Doe(){if(ZM)return I2;ZM=1;var t=Poe(),e=Roe(),r=RV();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return I2=n,I2}var P2,JM;function Noe(){if(JM)return P2;JM=1;function t(e,r){return e!=null&&r in Object(e)}return P2=t,P2}var R2,e8;function koe(){if(e8)return R2;e8=1;var t=P_(),e=hP(),r=Yn(),n=pP(),i=vP(),a=n0();function o(s,u,l){u=t(u,s);for(var c=-1,f=u.length,h=!1;++c<f;){var v=a(u[c]);if(!(h=s!=null&&l(s,v)))break;s=s[v]}return h||++c!=f?h:(f=s==null?0:s.length,!!f&&i(f)&&n(v,f)&&(r(s)||e(s)))}return R2=o,R2}var D2,t8;function Moe(){if(t8)return D2;t8=1;var t=Noe(),e=koe();function r(n,i){return n!=null&&e(n,i,t)}return D2=r,D2}var N2,r8;function Loe(){if(r8)return N2;r8=1;var t=_P(),e=QU(),r=Moe(),n=ZI(),i=PV(),a=RV(),o=n0(),s=1,u=2;function l(c,f){return n(c)&&i(f)?a(o(c),f):function(h){var v=e(h,c);return v===void 0&&v===f?r(h,c):t(f,v,s|u)}}return N2=l,N2}var k2,n8;function Rd(){if(n8)return k2;n8=1;function t(e){return e}return k2=t,k2}var M2,i8;function joe(){if(i8)return M2;i8=1;function t(e){return function(r){return r?.[e]}}return M2=t,M2}var L2,a8;function Foe(){if(a8)return L2;a8=1;var t=R_();function e(r){return function(n){return t(n,r)}}return L2=e,L2}var j2,o8;function Boe(){if(o8)return j2;o8=1;var t=joe(),e=Foe(),r=ZI(),n=n0();function i(a){return r(a)?t(n(a)):e(a)}return j2=i,j2}var F2,s8;function so(){if(s8)return F2;s8=1;var t=Doe(),e=Loe(),r=Rd(),n=Yn(),i=Boe();function a(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return F2=a,F2}var B2,u8;function DV(){if(u8)return B2;u8=1;function t(e,r,n,i){for(var a=e.length,o=n+(i?1:-1);i?o--:++o<a;)if(r(e[o],o,e))return o;return-1}return B2=t,B2}var $2,l8;function $oe(){if(l8)return $2;l8=1;function t(e){return e!==e}return $2=t,$2}var U2,c8;function Uoe(){if(c8)return U2;c8=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return U2=t,U2}var V2,f8;function Voe(){if(f8)return V2;f8=1;var t=DV(),e=$oe(),r=Uoe();function n(i,a,o){return a===a?r(i,a,o):t(i,e,o)}return V2=n,V2}var q2,d8;function qoe(){if(d8)return q2;d8=1;var t=Voe();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return q2=e,q2}var z2,h8;function zoe(){if(h8)return z2;h8=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return z2=t,z2}var W2,p8;function Woe(){if(p8)return W2;p8=1;function t(){}return W2=t,W2}var H2,v8;function Hoe(){if(v8)return H2;v8=1;var t=IV(),e=Woe(),r=cP(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return H2=i,H2}var G2,g8;function Goe(){if(g8)return G2;g8=1;var t=_V(),e=qoe(),r=zoe(),n=xV(),i=Hoe(),a=cP(),o=200;function s(u,l,c){var f=-1,h=e,v=u.length,g=!0,m=[],_=m;if(c)g=!1,h=r;else if(v>=o){var b=l?null:i(u);if(b)return a(b);g=!1,h=n,_=new t}else _=l?[]:m;e:for(;++f<v;){var E=u[f],A=l?l(E):E;if(E=c||E!==0?E:0,g&&A===A){for(var C=_.length;C--;)if(_[C]===A)continue e;l&&_.push(A),m.push(E)}else h(_,A,c)||(_!==m&&_.push(A),m.push(E))}return m}return G2=s,G2}var K2,m8;function Koe(){if(m8)return K2;m8=1;var t=so(),e=Goe();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return K2=r,K2}var Xoe=Koe();const y8=_t(Xoe);function NV(t,e,r){return e===!0?y8(t,r):st(e)?y8(t,e):t}function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}var Yoe=["ref"];function _8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function es(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_8(Object(r),!0).forEach(function(n){B_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MV(n.key),n)}}function Zoe(t,e,r){return e&&w8(t.prototype,e),r&&w8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Joe(t,e,r){return e=Ky(e),ese(t,kV()?Reflect.construct(e,r||[],Ky(t).constructor):e.apply(t,r))}function ese(t,e){if(e&&(qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tse(t)}function tse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kV=function(){return!!t})()}function Ky(t){return Ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ky(t)}function rse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hT(t,e)}function hT(t,e){return hT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hT(t,e)}function B_(t,e,r){return e=MV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MV(t){var e=nse(t,"string");return qf(e)=="symbol"?e:e+""}function nse(t,e){if(qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ise(t,e){if(t==null)return{};var r=ase(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ase(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ose(t){return t.value}function sse(t,e){if($.isValidElement(t))return $.cloneElement(t,e);if(typeof t=="function")return $.createElement(t,e);e.ref;var r=ise(e,Yoe);return $.createElement(uP,r)}var x8=1,Dl=function(t){function e(){var r;Qoe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Joe(this,e,[].concat(i)),B_(r,"lastBoundingBox",{width:-1,height:-1}),r}return rse(e,t),Zoe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>x8||Math.abs(i.height-this.lastBoundingBox.height)>x8)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?es({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,u=i.margin,l=i.chartWidth,c=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var v=this.getBBoxSnapshot();f={left:((l||0)-v.width)/2}}else f=o==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();h={top:((c||0)-g.height)/2}}else h=s==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return es(es({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,u=i.wrapperStyle,l=i.payloadUniqBy,c=i.payload,f=es(es({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(u)),u);return $.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(v){n.wrapperNode=v}},sse(a,es(es({},this.props),{},{payload:NV(c,l,ose)})))}}],[{key:"getWithHeight",value:function(n,i){var a=es(es({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&Ne(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(z.PureComponent);B_(Dl,"displayName","Legend");B_(Dl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var X2,b8;function use(){if(b8)return X2;b8=1;var t=Sd(),e=hP(),r=Yn(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return X2=i,X2}var Y2,E8;function wP(){if(E8)return Y2;E8=1;var t=fP(),e=use();function r(n,i,a,o,s){var u=-1,l=n.length;for(a||(a=e),s||(s=[]);++u<l;){var c=n[u];i>0&&a(c)?i>1?r(c,i-1,a,o,s):t(s,c):o||(s[s.length]=c)}return s}return Y2=r,Y2}var Q2,A8;function lse(){if(A8)return Q2;A8=1;function t(e){return function(r,n,i){for(var a=-1,o=Object(r),s=i(r),u=s.length;u--;){var l=s[e?u:++a];if(n(o[l],l,o)===!1)break}return r}}return Q2=t,Q2}var Z2,S8;function cse(){if(S8)return Z2;S8=1;var t=lse(),e=t();return Z2=e,Z2}var J2,O8;function xP(){if(O8)return J2;O8=1;var t=cse(),e=Pd();function r(n,i){return n&&t(n,i,e)}return J2=r,J2}var eA,T8;function fse(){if(T8)return eA;T8=1;var t=Id();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var o=i.length,s=n?o:-1,u=Object(i);(n?s--:++s<o)&&a(u[s],s,u)!==!1;);return i}}return eA=e,eA}var tA,C8;function bP(){if(C8)return tA;C8=1;var t=xP(),e=fse(),r=e(t);return tA=r,tA}var rA,I8;function LV(){if(I8)return rA;I8=1;var t=bP(),e=Id();function r(n,i){var a=-1,o=e(n)?Array(n.length):[];return t(n,function(s,u,l){o[++a]=i(s,u,l)}),o}return rA=r,rA}var nA,P8;function dse(){if(P8)return nA;P8=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return nA=t,nA}var iA,R8;function hse(){if(R8)return iA;R8=1;var t=Od();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,o=r===r,s=t(r),u=n!==void 0,l=n===null,c=n===n,f=t(n);if(!l&&!f&&!s&&r>n||s&&u&&c&&!l&&!f||a&&u&&c||!i&&c||!o)return 1;if(!a&&!s&&!f&&r<n||f&&i&&o&&!a&&!s||l&&i&&o||!u&&o||!c)return-1}return 0}return iA=e,iA}var aA,D8;function pse(){if(D8)return aA;D8=1;var t=hse();function e(r,n,i){for(var a=-1,o=r.criteria,s=n.criteria,u=o.length,l=i.length;++a<u;){var c=t(o[a],s[a]);if(c){if(a>=l)return c;var f=i[a];return c*(f=="desc"?-1:1)}}return r.index-n.index}return aA=e,aA}var oA,N8;function vse(){if(N8)return oA;N8=1;var t=I_(),e=R_(),r=so(),n=LV(),i=dse(),a=j_(),o=pse(),s=Rd(),u=Yn();function l(c,f,h){f.length?f=t(f,function(m){return u(m)?function(_){return e(_,m.length===1?m[0]:m)}:m}):f=[s];var v=-1;f=t(f,a(r));var g=n(c,function(m,_,b){var E=t(f,function(A){return A(m)});return{criteria:E,index:++v,value:m}});return i(g,function(m,_){return o(m,_,h)})}return oA=l,oA}var sA,k8;function gse(){if(k8)return sA;k8=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return sA=t,sA}var uA,M8;function jV(){if(M8)return uA;M8=1;var t=gse(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,s=-1,u=e(o.length-i,0),l=Array(u);++s<u;)l[s]=o[i+s];s=-1;for(var c=Array(i+1);++s<i;)c[s]=o[s];return c[i]=a(l),t(n,this,c)}}return uA=r,uA}var lA,L8;function mse(){if(L8)return lA;L8=1;function t(e){return function(){return e}}return lA=t,lA}var cA,j8;function FV(){if(j8)return cA;j8=1;var t=cc(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return cA=e,cA}var fA,F8;function yse(){if(F8)return fA;F8=1;var t=mse(),e=FV(),r=Rd(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return fA=n,fA}var dA,B8;function _se(){if(B8)return dA;B8=1;var t=800,e=16,r=Date.now;function n(i){var a=0,o=0;return function(){var s=r(),u=e-(s-o);if(o=s,u>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return dA=n,dA}var hA,$8;function BV(){if($8)return hA;$8=1;var t=yse(),e=_se(),r=e(t);return hA=r,hA}var pA,U8;function $V(){if(U8)return pA;U8=1;var t=Rd(),e=jV(),r=BV();function n(i,a){return r(e(i,a,t),i+"")}return pA=n,pA}var vA,V8;function Dd(){if(V8)return vA;V8=1;var t=r0(),e=Id(),r=pP(),n=Aa();function i(a,o,s){if(!n(s))return!1;var u=typeof o;return(u=="number"?e(s)&&r(o,s.length):u=="string"&&o in s)?t(s[o],a):!1}return vA=i,vA}var gA,q8;function wse(){if(q8)return gA;q8=1;var t=wP(),e=vse(),r=$V(),n=Dd(),i=r(function(a,o){if(a==null)return[];var s=o.length;return s>1&&n(a,o[0],o[1])?o=[]:s>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return gA=i,gA}var xse=wse();const $_=_t(xse);function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function pT(){return pT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pT.apply(this,arguments)}function bse(t,e){return Ose(t)||Sse(t,e)||Ase(t,e)||Ese()}function Ese(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ase(t,e){if(t){if(typeof t=="string")return z8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z8(t,e)}}function z8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Sse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function Ose(t){if(Array.isArray(t))return t}function W8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W8(Object(r),!0).forEach(function(n){Tse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tse(t,e,r){return e=Cse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cse(t){var e=Ise(t,"string");return Hp(e)=="symbol"?e:e+""}function Ise(t,e){if(Hp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pse(t){return Array.isArray(t)&&an(t[0])&&an(t[1])?t.join(" ~ "):t}var Rse=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,u=e.labelStyle,l=u===void 0?{}:u,c=e.payload,f=e.formatter,h=e.itemSorter,v=e.wrapperClassName,g=e.labelClassName,m=e.label,_=e.labelFormatter,b=e.accessibilityLayer,E=b===void 0?!1:b,A=function(){if(c&&c.length){var F={padding:0,margin:0},j=(h?$_(c,h):c).map(function(K,ee){if(K.type==="none")return null;var W=mA({display:"block",paddingTop:4,paddingBottom:4,color:K.color||"#000"},s),te=K.formatter||f||Pse,X=K.value,Q=K.name,se=X,q=Q;if(te&&se!=null&&q!=null){var Y=te(X,Q,K,ee,c);if(Array.isArray(Y)){var ae=bse(Y,2);se=ae[0],q=ae[1]}else se=Y}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ee),style:W},an(q)?$.createElement("span",{className:"recharts-tooltip-item-name"},q):null,an(q)?$.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,$.createElement("span",{className:"recharts-tooltip-item-value"},se),$.createElement("span",{className:"recharts-tooltip-item-unit"},K.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:F},j)}return null},C=mA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),O=mA({margin:0},l),R=!ht(m),I=R?m:"",S=yt("recharts-default-tooltip",v),T=yt("recharts-tooltip-label",g);R&&_&&c!==void 0&&c!==null&&(I=_(m,c));var D=E?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",pT({className:S,style:C},D),$.createElement("p",{className:T,style:O},$.isValidElement(I)?I:"".concat(I)),A())};function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function Gg(t,e,r){return e=Dse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dse(t){var e=Nse(t,"string");return Gp(e)=="symbol"?e:e+""}function Nse(t,e){if(Gp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rh="recharts-tooltip-wrapper",kse={visibility:"hidden"};function Mse(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return yt(Rh,Gg(Gg(Gg(Gg({},"".concat(Rh,"-right"),Ne(r)&&e&&Ne(e.x)&&r>=e.x),"".concat(Rh,"-left"),Ne(r)&&e&&Ne(e.x)&&r<e.x),"".concat(Rh,"-bottom"),Ne(n)&&e&&Ne(e.y)&&n>=e.y),"".concat(Rh,"-top"),Ne(n)&&e&&Ne(e.y)&&n<e.y))}function H8(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,u=t.viewBox,l=t.viewBoxDimension;if(a&&Ne(a[n]))return a[n];var c=r[n]-s-i,f=r[n]+i;if(e[n])return o[n]?c:f;if(o[n]){var h=c,v=u[n];return h<v?Math.max(f,u[n]):Math.max(c,u[n])}var g=f+s,m=u[n]+l;return g>m?Math.max(c,u[n]):Math.max(f,u[n])}function Lse(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function jse(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,u=t.viewBox,l,c,f;return o.height>0&&o.width>0&&r?(c=H8({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),f=H8({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),l=Lse({translateX:c,translateY:f,useTranslate3d:s})):l=kse,{cssProperties:l,cssClasses:Mse({translateX:c,translateY:f,coordinate:r})}}function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function G8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function K8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G8(Object(r),!0).forEach(function(n){gT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bse(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VV(n.key),n)}}function $se(t,e,r){return e&&Bse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Use(t,e,r){return e=Xy(e),Vse(t,UV()?Reflect.construct(e,r||[],Xy(t).constructor):e.apply(t,r))}function Vse(t,e){if(e&&(zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qse(t)}function qse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UV=function(){return!!t})()}function Xy(t){return Xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xy(t)}function zse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vT(t,e)}function vT(t,e){return vT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vT(t,e)}function gT(t,e,r){return e=VV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VV(t){var e=Wse(t,"string");return zf(e)=="symbol"?e:e+""}function Wse(t,e){if(zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var X8=1,Hse=function(t){function e(){var r;Fse(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Use(this,e,[].concat(i)),gT(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),gT(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,u,l,c;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(u=r.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&s!==void 0?s:0,y:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&l!==void 0?l:0}})}}),r}return zse(e,t),$se(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>X8||Math.abs(n.height-this.state.lastBoundingBox.height)>X8)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,u=i.animationEasing,l=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,v=i.offset,g=i.position,m=i.reverseDirection,_=i.useTranslate3d,b=i.viewBox,E=i.wrapperStyle,A=jse({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:v,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:b}),C=A.cssClasses,O=A.cssProperties,R=K8(K8({transition:h&&a?"transform ".concat(s,"ms ").concat(u):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},E);return $.createElement("div",{tabIndex:-1,className:C,style:R,ref:function(S){n.wrapperNode=S}},l)}}])}(z.PureComponent),Gse=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},fc={isSsr:Gse()};function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function Y8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Q8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y8(Object(r),!0).forEach(function(n){EP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xse(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zV(n.key),n)}}function Yse(t,e,r){return e&&Xse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qse(t,e,r){return e=Yy(e),Zse(t,qV()?Reflect.construct(e,r||[],Yy(t).constructor):e.apply(t,r))}function Zse(t,e){if(e&&(Wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jse(t)}function Jse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qV=function(){return!!t})()}function Yy(t){return Yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yy(t)}function eue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mT(t,e)}function mT(t,e){return mT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mT(t,e)}function EP(t,e,r){return e=zV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zV(t){var e=tue(t,"string");return Wf(e)=="symbol"?e:e+""}function tue(t,e){if(Wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rue(t){return t.dataKey}function nue(t,e){return $.isValidElement(t)?$.cloneElement(t,e):typeof t=="function"?$.createElement(t,e):$.createElement(Rse,e)}var li=function(t){function e(){return Kse(this,e),Qse(this,e,arguments)}return eue(e,t),Yse(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,u=i.animationEasing,l=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,v=i.offset,g=i.payload,m=i.payloadUniqBy,_=i.position,b=i.reverseDirection,E=i.useTranslate3d,A=i.viewBox,C=i.wrapperStyle,O=g??[];f&&O.length&&(O=NV(g.filter(function(I){return I.value!=null&&(I.hide!==!0||n.props.includeHidden)}),m,rue));var R=O.length>0;return $.createElement(Hse,{allowEscapeViewBox:o,animationDuration:s,animationEasing:u,isAnimationActive:h,active:a,coordinate:c,hasPayload:R,offset:v,position:_,reverseDirection:b,useTranslate3d:E,viewBox:A,wrapperStyle:C},nue(l,Q8(Q8({},this.props),{},{payload:O})))}}])}(z.PureComponent);EP(li,"displayName","Tooltip");EP(li,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!fc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var yA,Z8;function iue(){if(Z8)return yA;Z8=1;var t=io(),e=function(){return t.Date.now()};return yA=e,yA}var _A,J8;function aue(){if(J8)return _A;J8=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return _A=e,_A}var wA,e6;function oue(){if(e6)return wA;e6=1;var t=aue(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return wA=r,wA}var xA,t6;function WV(){if(t6)return xA;t6=1;var t=oue(),e=Aa(),r=Od(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function u(l){if(typeof l=="number")return l;if(r(l))return n;if(e(l)){var c=typeof l.valueOf=="function"?l.valueOf():l;l=e(c)?c+"":c}if(typeof l!="string")return l===0?l:+l;l=t(l);var f=a.test(l);return f||o.test(l)?s(l.slice(2),f?2:8):i.test(l)?n:+l}return xA=u,xA}var bA,r6;function sue(){if(r6)return bA;r6=1;var t=Aa(),e=iue(),r=WV(),n="Expected a function",i=Math.max,a=Math.min;function o(s,u,l){var c,f,h,v,g,m,_=0,b=!1,E=!1,A=!0;if(typeof s!="function")throw new TypeError(n);u=r(u)||0,t(l)&&(b=!!l.leading,E="maxWait"in l,h=E?i(r(l.maxWait)||0,u):h,A="trailing"in l?!!l.trailing:A);function C(j){var K=c,ee=f;return c=f=void 0,_=j,v=s.apply(ee,K),v}function O(j){return _=j,g=setTimeout(S,u),b?C(j):v}function R(j){var K=j-m,ee=j-_,W=u-K;return E?a(W,h-ee):W}function I(j){var K=j-m,ee=j-_;return m===void 0||K>=u||K<0||E&&ee>=h}function S(){var j=e();if(I(j))return T(j);g=setTimeout(S,R(j))}function T(j){return g=void 0,A&&c?C(j):(c=f=void 0,v)}function D(){g!==void 0&&clearTimeout(g),_=0,c=m=f=g=void 0}function L(){return g===void 0?v:T(e())}function F(){var j=e(),K=I(j);if(c=arguments,f=this,m=j,K){if(g===void 0)return O(m);if(E)return clearTimeout(g),g=setTimeout(S,u),C(m)}return g===void 0&&(g=setTimeout(S,u)),v}return F.cancel=D,F.flush=L,F}return bA=o,bA}var EA,n6;function uue(){if(n6)return EA;n6=1;var t=sue(),e=Aa(),r="Expected a function";function n(i,a,o){var s=!0,u=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(s="leading"in o?!!o.leading:s,u="trailing"in o?!!o.trailing:u),t(i,a,{leading:s,maxWait:a,trailing:u})}return EA=n,EA}var lue=uue();const HV=_t(lue);function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}function i6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i6(Object(r),!0).forEach(function(n){cue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cue(t,e,r){return e=fue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fue(t){var e=due(t,"string");return Kp(e)=="symbol"?e:e+""}function due(t,e){if(Kp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hue(t,e){return mue(t)||gue(t,e)||vue(t,e)||pue()}function pue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vue(t,e){if(t){if(typeof t=="string")return a6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a6(t,e)}}function a6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function mue(t){if(Array.isArray(t))return t}var Jc=z.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,s=t.height,u=s===void 0?"100%":s,l=t.minWidth,c=l===void 0?0:l,f=t.minHeight,h=t.maxHeight,v=t.children,g=t.debounce,m=g===void 0?0:g,_=t.id,b=t.className,E=t.onResize,A=t.style,C=A===void 0?{}:A,O=z.useRef(null),R=z.useRef();R.current=E,z.useImperativeHandle(e,function(){return Object.defineProperty(O.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),O.current},configurable:!0})});var I=z.useState({containerWidth:i.width,containerHeight:i.height}),S=hue(I,2),T=S[0],D=S[1],L=z.useCallback(function(j,K){D(function(ee){var W=Math.round(j),te=Math.round(K);return ee.containerWidth===W&&ee.containerHeight===te?ee:{containerWidth:W,containerHeight:te}})},[]);z.useEffect(function(){var j=function(Q){var se,q=Q[0].contentRect,Y=q.width,ae=q.height;L(Y,ae),(se=R.current)===null||se===void 0||se.call(R,Y,ae)};m>0&&(j=HV(j,m,{trailing:!0,leading:!1}));var K=new ResizeObserver(j),ee=O.current.getBoundingClientRect(),W=ee.width,te=ee.height;return L(W,te),K.observe(O.current),function(){K.disconnect()}},[L,m]);var F=z.useMemo(function(){var j=T.containerWidth,K=T.containerHeight;if(j<0||K<0)return null;Ja(Al(o)||Al(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,u),Ja(!r||r>0,"The aspect(%s) must be greater than zero.",r);var ee=Al(o)?j:o,W=Al(u)?K:u;r&&r>0&&(ee?W=ee/r:W&&(ee=W*r),h&&W>h&&(W=h)),Ja(ee>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ee,W,o,u,c,f,r);var te=!Array.isArray(v)&&ds(v.type).endsWith("Chart");return $.Children.map(v,function(X){return $.isValidElement(X)?z.cloneElement(X,Kg({width:ee,height:W},te?{style:Kg({height:"100%",width:"100%",maxHeight:W,maxWidth:ee},X.props.style)}:{})):X})},[r,v,u,h,f,c,T,o]);return $.createElement("div",{id:_?"".concat(_):void 0,className:yt("recharts-responsive-container",b),style:Kg(Kg({},C),{},{width:o,height:u,minWidth:c,minHeight:f,maxHeight:h}),ref:O},F)}),Xp=function(e){return null};Xp.displayName="Cell";function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function o6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o6(Object(r),!0).forEach(function(n){yue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yue(t,e,r){return e=_ue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ue(t){var e=wue(t,"string");return Yp(e)=="symbol"?e:e+""}function wue(t,e){if(Yp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ef={widthCache:{},cacheCount:0},xue=2e3,bue={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},s6="recharts_measurement_span";function Eue(t){var e=yT({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var wp=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||fc.isSsr)return{width:0,height:0};var n=Eue(r),i=JSON.stringify({text:e,copyStyle:n});if(ef.widthCache[i])return ef.widthCache[i];try{var a=document.getElementById(s6);a||(a=document.createElement("span"),a.setAttribute("id",s6),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=yT(yT({},bue),n);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),u={width:s.width,height:s.height};return ef.widthCache[i]=u,++ef.cacheCount>xue&&(ef.cacheCount=0,ef.widthCache={}),u}catch{return{width:0,height:0}}},Aue=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function Qy(t,e){return Cue(t)||Tue(t,e)||Oue(t,e)||Sue()}function Sue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oue(t,e){if(t){if(typeof t=="string")return u6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u6(t,e)}}function u6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Tue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function Cue(t){if(Array.isArray(t))return t}function Iue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rue(n.key),n)}}function Pue(t,e,r){return e&&l6(t.prototype,e),r&&l6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rue(t){var e=Due(t,"string");return Qp(e)=="symbol"?e:e+""}function Due(t,e){if(Qp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var c6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,f6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Nue=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,kue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,GV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Mue=Object.keys(GV),mf="NaN";function Lue(t,e){return t*GV[e]}var Xg=function(){function t(e,r){Iue(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!Nue.test(r)&&(this.num=NaN,this.unit=""),Mue.includes(r)&&(this.num=Lue(e,r),this.unit="px")}return Pue(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=kue.exec(r))!==null&&n!==void 0?n:[],a=Qy(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function KV(t){if(t.includes(mf))return mf;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=c6.exec(e))!==null&&r!==void 0?r:[],i=Qy(n,4),a=i[1],o=i[2],s=i[3],u=Xg.parse(a??""),l=Xg.parse(s??""),c=o==="*"?u.multiply(l):u.divide(l);if(c.isNaN())return mf;e=e.replace(c6,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=f6.exec(e))!==null&&f!==void 0?f:[],v=Qy(h,4),g=v[1],m=v[2],_=v[3],b=Xg.parse(g??""),E=Xg.parse(_??""),A=m==="+"?b.add(E):b.subtract(E);if(A.isNaN())return mf;e=e.replace(f6,A.toString())}return e}var d6=/\(([^()]*)\)/;function jue(t){for(var e=t;e.includes("(");){var r=d6.exec(e),n=Qy(r,2),i=n[1];e=e.replace(d6,KV(i))}return e}function Fue(t){var e=t.replace(/\s+/g,"");return e=jue(e),e=KV(e),e}function Bue(t){try{return Fue(t)}catch{return mf}}function AA(t){var e=Bue(t.slice(5,-1));return e===mf?"":e}var $ue=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Uue=["dx","dy","angle","className","breakAll"];function _T(){return _T=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_T.apply(this,arguments)}function h6(t,e){if(t==null)return{};var r=Vue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function p6(t,e){return Hue(t)||Wue(t,e)||zue(t,e)||que()}function que(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zue(t,e){if(t){if(typeof t=="string")return v6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v6(t,e)}}function v6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function Hue(t){if(Array.isArray(t))return t}var XV=/[ \f\n\r\t\v\u2028\u2029]+/,YV=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];ht(r)||(n?a=r.toString().split(""):a=r.toString().split(XV));var o=a.map(function(u){return{word:u,width:wp(u,i).width}}),s=n?0:wp("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},Gue=function(e,r,n,i,a){var o=e.maxLines,s=e.children,u=e.style,l=e.breakAll,c=Ne(o),f=s,h=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ee.reduce(function(W,te){var X=te.word,Q=te.width,se=W[W.length-1];if(se&&(i==null||a||se.width+Q+n<Number(i)))se.words.push(X),se.width+=Q+n;else{var q={words:[X],width:Q};W.push(q)}return W},[])},v=h(r),g=function(ee){return ee.reduce(function(W,te){return W.width>te.width?W:te})};if(!c)return v;for(var m="",_=function(ee){var W=f.slice(0,ee),te=YV({breakAll:l,style:u,children:W+m}).wordsWithComputedWidth,X=h(te),Q=X.length>o||g(X).width>Number(i);return[Q,X]},b=0,E=f.length-1,A=0,C;b<=E&&A<=f.length-1;){var O=Math.floor((b+E)/2),R=O-1,I=_(R),S=p6(I,2),T=S[0],D=S[1],L=_(O),F=p6(L,1),j=F[0];if(!T&&!j&&(b=O+1),T&&j&&(E=O-1),!T&&j){C=D;break}A++}return C||v},g6=function(e){var r=ht(e)?[]:e.toString().split(XV);return[{words:r}]},Kue=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((r||n)&&!fc.isSsr){var u,l,c=YV({breakAll:o,children:i,style:a});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;u=f,l=h}else return g6(i);return Gue({breakAll:o,children:i,maxLines:s,style:a},u,l,r,n)}return g6(i)},m6="#808080",Gl=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,u=e.capHeight,l=u===void 0?"0.71em":u,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,v=h===void 0?"start":h,g=e.verticalAnchor,m=g===void 0?"end":g,_=e.fill,b=_===void 0?m6:_,E=h6(e,$ue),A=z.useMemo(function(){return Kue({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:f,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,f,E.style,E.width]),C=E.dx,O=E.dy,R=E.angle,I=E.className,S=E.breakAll,T=h6(E,Uue);if(!an(n)||!an(a))return null;var D=n+(Ne(C)?C:0),L=a+(Ne(O)?O:0),F;switch(m){case"start":F=AA("calc(".concat(l,")"));break;case"middle":F=AA("calc(".concat((A.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:F=AA("calc(".concat(A.length-1," * -").concat(s,")"));break}var j=[];if(f){var K=A[0].width,ee=E.width;j.push("scale(".concat((Ne(ee)?ee/K:1)/K,")"))}return R&&j.push("rotate(".concat(R,", ").concat(D,", ").concat(L,")")),j.length&&(T.transform=j.join(" ")),$.createElement("text",_T({},et(T,!0),{x:D,y:L,className:yt("recharts-text",I),textAnchor:v,fill:b.includes("url")?m6:b}),A.map(function(W,te){var X=W.words.join(S?"":" ");return $.createElement("tspan",{x:D,dy:te===0?F:s,key:"".concat(X,"-").concat(te)},X)}))};function yu(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Xue(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function AP(t){let e,r,n;t.length!==2?(e=yu,r=(s,u)=>yu(t(s),u),n=(s,u)=>t(s)-u):(e=t===yu||t===Xue?t:Yue,r=t,n=t);function i(s,u,l=0,c=s.length){if(l<c){if(e(u,u)!==0)return c;do{const f=l+c>>>1;r(s[f],u)<0?l=f+1:c=f}while(l<c)}return l}function a(s,u,l=0,c=s.length){if(l<c){if(e(u,u)!==0)return c;do{const f=l+c>>>1;r(s[f],u)<=0?l=f+1:c=f}while(l<c)}return l}function o(s,u,l=0,c=s.length){const f=i(s,u,l,c-1);return f>l&&n(s[f-1],u)>-n(s[f],u)?f-1:f}return{left:i,center:o,right:a}}function Yue(){return 0}function QV(t){return t===null?NaN:+t}function*Que(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Zue=AP(yu),a0=Zue.right;AP(QV).center;class y6 extends Map{constructor(e,r=tle){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(_6(this,e))}has(e){return super.has(_6(this,e))}set(e,r){return super.set(Jue(this,e),r)}delete(e){return super.delete(ele(this,e))}}function _6({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Jue({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function ele({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function tle(t){return t!==null&&typeof t=="object"?t.valueOf():t}function rle(t=yu){if(t===yu)return ZV;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function ZV(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const nle=Math.sqrt(50),ile=Math.sqrt(10),ale=Math.sqrt(2);function Zy(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=nle?10:a>=ile?5:a>=ale?2:1;let s,u,l;return i<0?(l=Math.pow(10,-i)/o,s=Math.round(t*l),u=Math.round(e*l),s/l<t&&++s,u/l>e&&--u,l=-l):(l=Math.pow(10,i)*o,s=Math.round(t/l),u=Math.round(e/l),s*l<t&&++s,u*l>e&&--u),u<s&&.5<=r&&r<2?Zy(t,e,r*2):[s,u,l]}function wT(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?Zy(e,t,r):Zy(t,e,r);if(!(a>=i))return[];const s=a-i+1,u=new Array(s);if(n)if(o<0)for(let l=0;l<s;++l)u[l]=(a-l)/-o;else for(let l=0;l<s;++l)u[l]=(a-l)*o;else if(o<0)for(let l=0;l<s;++l)u[l]=(i+l)/-o;else for(let l=0;l<s;++l)u[l]=(i+l)*o;return u}function xT(t,e,r){return e=+e,t=+t,r=+r,Zy(t,e,r)[2]}function bT(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?xT(e,t,r):xT(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function w6(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function x6(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function JV(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?ZV:rle(i);n>r;){if(n-r>600){const u=n-r+1,l=e-r+1,c=Math.log(u),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1),v=Math.max(r,Math.floor(e-l*f/u+h)),g=Math.min(n,Math.floor(e+(u-l)*f/u+h));JV(t,e,v,g,i)}const a=t[e];let o=r,s=n;for(Dh(t,r,e),i(t[n],a)>0&&Dh(t,r,n);o<s;){for(Dh(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?Dh(t,r,s):(++s,Dh(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function Dh(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function ole(t,e,r){if(t=Float64Array.from(Que(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return x6(t);if(e>=1)return w6(t);var n,i=(n-1)*e,a=Math.floor(i),o=w6(JV(t,a).subarray(0,a+1)),s=x6(t.subarray(a+1));return o+(s-o)*(i-a)}}function sle(t,e,r=QV){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function ule(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Sa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ss(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const ET=Symbol("implicit");function SP(){var t=new y6,e=[],r=[],n=ET;function i(a){let o=t.get(a);if(o===void 0){if(n!==ET)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new y6;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return SP(e,r).unknown(n)},Sa.apply(i,arguments),i}function Zp(){var t=SP().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,s=!1,u=0,l=0,c=.5;delete t.unknown;function f(){var h=e().length,v=i<n,g=v?i:n,m=v?n:i;a=(m-g)/Math.max(1,h-u+l*2),s&&(a=Math.floor(a)),g+=(m-g-a*(h-u))*c,o=a*(1-u),s&&(g=Math.round(g),o=Math.round(o));var _=ule(h).map(function(b){return g+a*b});return r(v?_.reverse():_)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(u=Math.min(1,l=+h),f()):u},t.paddingInner=function(h){return arguments.length?(u=Math.min(1,h),f()):u},t.paddingOuter=function(h){return arguments.length?(l=+h,f()):l},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return Zp(e(),[n,i]).round(s).paddingInner(u).paddingOuter(l).align(c)},Sa.apply(f(),arguments)}function eq(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return eq(e())},t}function xp(){return eq(Zp.apply(null,arguments).paddingInner(1))}function OP(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function tq(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function o0(){}var Jp=.7,Jy=1/Jp,Rf="\\s*([+-]?\\d+)\\s*",ev="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Io="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lle=/^#([0-9a-f]{3,8})$/,cle=new RegExp(`^rgb\\(${Rf},${Rf},${Rf}\\)$`),fle=new RegExp(`^rgb\\(${Io},${Io},${Io}\\)$`),dle=new RegExp(`^rgba\\(${Rf},${Rf},${Rf},${ev}\\)$`),hle=new RegExp(`^rgba\\(${Io},${Io},${Io},${ev}\\)$`),ple=new RegExp(`^hsl\\(${ev},${Io},${Io}\\)$`),vle=new RegExp(`^hsla\\(${ev},${Io},${Io},${ev}\\)$`),b6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};OP(o0,tv,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:E6,formatHex:E6,formatHex8:gle,formatHsl:mle,formatRgb:A6,toString:A6});function E6(){return this.rgb().formatHex()}function gle(){return this.rgb().formatHex8()}function mle(){return rq(this).formatHsl()}function A6(){return this.rgb().formatRgb()}function tv(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=lle.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?S6(e):r===3?new Oi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Yg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Yg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=cle.exec(t))?new Oi(e[1],e[2],e[3],1):(e=fle.exec(t))?new Oi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=dle.exec(t))?Yg(e[1],e[2],e[3],e[4]):(e=hle.exec(t))?Yg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ple.exec(t))?C6(e[1],e[2]/100,e[3]/100,1):(e=vle.exec(t))?C6(e[1],e[2]/100,e[3]/100,e[4]):b6.hasOwnProperty(t)?S6(b6[t]):t==="transparent"?new Oi(NaN,NaN,NaN,0):null}function S6(t){return new Oi(t>>16&255,t>>8&255,t&255,1)}function Yg(t,e,r,n){return n<=0&&(t=e=r=NaN),new Oi(t,e,r,n)}function yle(t){return t instanceof o0||(t=tv(t)),t?(t=t.rgb(),new Oi(t.r,t.g,t.b,t.opacity)):new Oi}function AT(t,e,r,n){return arguments.length===1?yle(t):new Oi(t,e,r,n??1)}function Oi(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}OP(Oi,AT,tq(o0,{brighter(t){return t=t==null?Jy:Math.pow(Jy,t),new Oi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Jp:Math.pow(Jp,t),new Oi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Oi(Nl(this.r),Nl(this.g),Nl(this.b),e1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:O6,formatHex:O6,formatHex8:_le,formatRgb:T6,toString:T6}));function O6(){return`#${Sl(this.r)}${Sl(this.g)}${Sl(this.b)}`}function _le(){return`#${Sl(this.r)}${Sl(this.g)}${Sl(this.b)}${Sl((isNaN(this.opacity)?1:this.opacity)*255)}`}function T6(){const t=e1(this.opacity);return`${t===1?"rgb(":"rgba("}${Nl(this.r)}, ${Nl(this.g)}, ${Nl(this.b)}${t===1?")":`, ${t})`}`}function e1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Nl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Sl(t){return t=Nl(t),(t<16?"0":"")+t.toString(16)}function C6(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Xa(t,e,r,n)}function rq(t){if(t instanceof Xa)return new Xa(t.h,t.s,t.l,t.opacity);if(t instanceof o0||(t=tv(t)),!t)return new Xa;if(t instanceof Xa)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,u=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new Xa(o,s,u,t.opacity)}function wle(t,e,r,n){return arguments.length===1?rq(t):new Xa(t,e,r,n??1)}function Xa(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}OP(Xa,wle,tq(o0,{brighter(t){return t=t==null?Jy:Math.pow(Jy,t),new Xa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Jp:Math.pow(Jp,t),new Xa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Oi(SA(t>=240?t-240:t+120,i,n),SA(t,i,n),SA(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Xa(I6(this.h),Qg(this.s),Qg(this.l),e1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=e1(this.opacity);return`${t===1?"hsl(":"hsla("}${I6(this.h)}, ${Qg(this.s)*100}%, ${Qg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function I6(t){return t=(t||0)%360,t<0?t+360:t}function Qg(t){return Math.max(0,Math.min(1,t||0))}function SA(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const TP=t=>()=>t;function xle(t,e){return function(r){return t+r*e}}function ble(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Ele(t){return(t=+t)==1?nq:function(e,r){return r-e?ble(e,r,t):TP(isNaN(e)?r:e)}}function nq(t,e){var r=e-t;return r?xle(t,r):TP(isNaN(t)?e:t)}const P6=function t(e){var r=Ele(e);function n(i,a){var o=r((i=AT(i)).r,(a=AT(a)).r),s=r(i.g,a.g),u=r(i.b,a.b),l=nq(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=u(c),i.opacity=l(c),i+""}}return n.gamma=t,n}(1);function Ale(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function Sle(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ole(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Nd(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function Tle(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function t1(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Cle(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Nd(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var ST=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,OA=new RegExp(ST.source,"g");function Ile(t){return function(){return t}}function Ple(t){return function(e){return t(e)+""}}function Rle(t,e){var r=ST.lastIndex=OA.lastIndex=0,n,i,a,o=-1,s=[],u=[];for(t=t+"",e=e+"";(n=ST.exec(t))&&(i=OA.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,u.push({i:o,x:t1(n,i)})),r=OA.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?u[0]?Ple(u[0].x):Ile(e):(e=u.length,function(l){for(var c=0,f;c<e;++c)s[(f=u[c]).i]=f.x(l);return s.join("")})}function Nd(t,e){var r=typeof e,n;return e==null||r==="boolean"?TP(e):(r==="number"?t1:r==="string"?(n=tv(e))?(e=n,P6):Rle:e instanceof tv?P6:e instanceof Date?Tle:Sle(e)?Ale:Array.isArray(e)?Ole:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Cle:t1)(t,e)}function CP(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Dle(t,e){e===void 0&&(e=t,t=Nd);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function Nle(t){return function(){return t}}function r1(t){return+t}var R6=[0,1];function hi(t){return t}function OT(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Nle(isNaN(e)?NaN:.5)}function kle(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Mle(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=OT(i,n),a=r(o,a)):(n=OT(n,i),a=r(a,o)),function(s){return a(n(s))}}function Lle(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=OT(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(s){var u=a0(t,s,1,n)-1;return a[u](i[u](s))}}function s0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function U_(){var t=R6,e=R6,r=Nd,n,i,a,o=hi,s,u,l;function c(){var h=Math.min(t.length,e.length);return o!==hi&&(o=kle(t[0],t[h-1])),s=h>2?Lle:Mle,u=l=null,f}function f(h){return h==null||isNaN(h=+h)?a:(u||(u=s(t.map(n),e,r)))(n(o(h)))}return f.invert=function(h){return o(i((l||(l=s(e,t.map(n),t1)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,r1),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=CP,c()},f.clamp=function(h){return arguments.length?(o=h?!0:hi,c()):o!==hi},f.interpolate=function(h){return arguments.length?(r=h,c()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,v){return n=h,i=v,c()}}function IP(){return U_()(hi,hi)}function jle(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function n1(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Hf(t){return t=n1(Math.abs(t)),t?t[1]:NaN}function Fle(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>n&&(s=Math.max(1,n-u)),a.push(r.substring(i-=s,i+s)),!((u+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Ble(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var $le=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rv(t){if(!(e=$le.exec(t)))throw new Error("invalid format: "+t);var e;return new PP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}rv.prototype=PP.prototype;function PP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}PP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ule(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var iq;function Vle(t,e){var r=n1(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(iq=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+n1(t,Math.max(0,e+a-1))[0]}function D6(t,e){var r=n1(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const N6={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:jle,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>D6(t*100,e),r:D6,s:Vle,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function k6(t){return t}var M6=Array.prototype.map,L6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qle(t){var e=t.grouping===void 0||t.thousands===void 0?k6:Fle(M6.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?k6:Ble(M6.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(f){f=rv(f);var h=f.fill,v=f.align,g=f.sign,m=f.symbol,_=f.zero,b=f.width,E=f.comma,A=f.precision,C=f.trim,O=f.type;O==="n"?(E=!0,O="g"):N6[O]||(A===void 0&&(A=12),C=!0,O="g"),(_||h==="0"&&v==="=")&&(_=!0,h="0",v="=");var R=m==="$"?r:m==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",I=m==="$"?n:/[%p]/.test(O)?o:"",S=N6[O],T=/[defgprs%]/.test(O);A=A===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function D(L){var F=R,j=I,K,ee,W;if(O==="c")j=S(L)+j,L="";else{L=+L;var te=L<0||1/L<0;if(L=isNaN(L)?u:S(Math.abs(L),A),C&&(L=Ule(L)),te&&+L==0&&g!=="+"&&(te=!1),F=(te?g==="("?g:s:g==="-"||g==="("?"":g)+F,j=(O==="s"?L6[8+iq/3]:"")+j+(te&&g==="("?")":""),T){for(K=-1,ee=L.length;++K<ee;)if(W=L.charCodeAt(K),48>W||W>57){j=(W===46?i+L.slice(K+1):L.slice(K))+j,L=L.slice(0,K);break}}}E&&!_&&(L=e(L,1/0));var X=F.length+L.length+j.length,Q=X<b?new Array(b-X+1).join(h):"";switch(E&&_&&(L=e(Q+L,Q.length?b-j.length:1/0),Q=""),v){case"<":L=F+L+j+Q;break;case"=":L=F+Q+L+j;break;case"^":L=Q.slice(0,X=Q.length>>1)+F+L+j+Q.slice(X);break;default:L=Q+F+L+j;break}return a(L)}return D.toString=function(){return f+""},D}function c(f,h){var v=l((f=rv(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Hf(h)/3)))*3,m=Math.pow(10,-g),_=L6[8+g/3];return function(b){return v(m*b)+_}}return{format:l,formatPrefix:c}}var Zg,RP,aq;zle({thousands:",",grouping:[3],currency:["$",""]});function zle(t){return Zg=qle(t),RP=Zg.format,aq=Zg.formatPrefix,Zg}function Wle(t){return Math.max(0,-Hf(Math.abs(t)))}function Hle(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hf(e)/3)))*3-Hf(Math.abs(t)))}function Gle(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Hf(e)-Hf(t))+1}function oq(t,e,r,n){var i=bT(t,e,r),a;switch(n=rv(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=Hle(i,o))&&(n.precision=a),aq(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Gle(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Wle(i))&&(n.precision=a-(n.type==="%")*2);break}}return RP(n)}function Du(t){var e=t.domain;return t.ticks=function(r){var n=e();return wT(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return oq(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],u,l,c=10;for(s<o&&(l=o,o=s,s=l,l=i,i=a,a=l);c-- >0;){if(l=xT(o,s,r),l===u)return n[i]=o,n[a]=s,e(n);if(l>0)o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l;else if(l<0)o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l;else break;u=l}return t},t}function i1(){var t=IP();return t.copy=function(){return s0(t,i1())},Sa.apply(t,arguments),Du(t)}function sq(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,r1),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return sq(t).unknown(e)},t=arguments.length?Array.from(t,r1):[0,1],Du(r)}function uq(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function j6(t){return Math.log(t)}function F6(t){return Math.exp(t)}function Kle(t){return-Math.log(-t)}function Xle(t){return-Math.exp(-t)}function Yle(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Qle(t){return t===10?Yle:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Zle(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function B6(t){return(e,r)=>-t(-e,r)}function DP(t){const e=t(j6,F6),r=e.domain;let n=10,i,a;function o(){return i=Zle(n),a=Qle(n),r()[0]<0?(i=B6(i),a=B6(a),t(Kle,Xle)):t(j6,F6),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const u=r();let l=u[0],c=u[u.length-1];const f=c<l;f&&([l,c]=[c,l]);let h=i(l),v=i(c),g,m;const _=s==null?10:+s;let b=[];if(!(n%1)&&v-h<_){if(h=Math.floor(h),v=Math.ceil(v),l>0){for(;h<=v;++h)for(g=1;g<n;++g)if(m=h<0?g/a(-h):g*a(h),!(m<l)){if(m>c)break;b.push(m)}}else for(;h<=v;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/a(-h):g*a(h),!(m<l)){if(m>c)break;b.push(m)}b.length*2<_&&(b=wT(l,c,_))}else b=wT(h,v,Math.min(v-h,_)).map(a);return f?b.reverse():b},e.tickFormat=(s,u)=>{if(s==null&&(s=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=rv(u)).precision==null&&(u.trim=!0),u=RP(u)),s===1/0)return u;const l=Math.max(1,n*s/e.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*n<n-.5&&(f*=n),f<=l?u(c):""}},e.nice=()=>r(uq(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function lq(){const t=DP(U_()).domain([1,10]);return t.copy=()=>s0(t,lq()).base(t.base()),Sa.apply(t,arguments),t}function $6(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function U6(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function NP(t){var e=1,r=t($6(e),U6(e));return r.constant=function(n){return arguments.length?t($6(e=+n),U6(e)):e},Du(r)}function cq(){var t=NP(U_());return t.copy=function(){return s0(t,cq()).constant(t.constant())},Sa.apply(t,arguments)}function V6(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Jle(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ece(t){return t<0?-t*t:t*t}function kP(t){var e=t(hi,hi),r=1;function n(){return r===1?t(hi,hi):r===.5?t(Jle,ece):t(V6(r),V6(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Du(e)}function MP(){var t=kP(U_());return t.copy=function(){return s0(t,MP()).exponent(t.exponent())},Sa.apply(t,arguments),t}function tce(){return MP.apply(null,arguments).exponent(.5)}function q6(t){return Math.sign(t)*t*t}function rce(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function fq(){var t=IP(),e=[0,1],r=!1,n;function i(a){var o=rce(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(q6(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,r1)).map(q6)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return fq(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Sa.apply(i,arguments),Du(i)}function dq(){var t=[],e=[],r=[],n;function i(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=sle(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[a0(r,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(yu),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return dq().domain(t).range(e).unknown(n)},Sa.apply(a,arguments)}function hq(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[a0(n,u,0,r)]:a}function s(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*e-(u-r)*t)/(r+1);return o}return o.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,s()):[t,e]},o.range=function(u){return arguments.length?(r=(i=Array.from(u)).length-1,s()):i.slice()},o.invertExtent=function(u){var l=i.indexOf(u);return l<0?[NaN,NaN]:l<1?[t,n[0]]:l>=r?[n[r-1],e]:[n[l-1],n[l]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return n.slice()},o.copy=function(){return hq().domain([t,e]).range(i).unknown(a)},Sa.apply(Du(o),arguments)}function pq(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[a0(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return pq().domain(t).range(e).unknown(r)},Sa.apply(i,arguments)}const TA=new Date,CA=new Date;function un(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const u=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return u;let l;do u.push(l=new Date(+a)),e(a,s),t(a);while(l<a&&a<o);return u},i.filter=a=>un(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(TA.setTime(+a),CA.setTime(+o),t(TA),t(CA),Math.floor(r(TA,CA))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const a1=un(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);a1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?un(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):a1);a1.range;const ss=1e3,ma=ss*60,us=ma*60,ws=us*24,LP=ws*7,z6=ws*30,IA=ws*365,Ol=un(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ss)},(t,e)=>(e-t)/ss,t=>t.getUTCSeconds());Ol.range;const jP=un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ss)},(t,e)=>{t.setTime(+t+e*ma)},(t,e)=>(e-t)/ma,t=>t.getMinutes());jP.range;const FP=un(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ma)},(t,e)=>(e-t)/ma,t=>t.getUTCMinutes());FP.range;const BP=un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ss-t.getMinutes()*ma)},(t,e)=>{t.setTime(+t+e*us)},(t,e)=>(e-t)/us,t=>t.getHours());BP.range;const $P=un(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*us)},(t,e)=>(e-t)/us,t=>t.getUTCHours());$P.range;const u0=un(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ma)/ws,t=>t.getDate()-1);u0.range;const V_=un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ws,t=>t.getUTCDate()-1);V_.range;const vq=un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ws,t=>Math.floor(t/ws));vq.range;function dc(t){return un(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*ma)/LP)}const q_=dc(0),o1=dc(1),nce=dc(2),ice=dc(3),Gf=dc(4),ace=dc(5),oce=dc(6);q_.range;o1.range;nce.range;ice.range;Gf.range;ace.range;oce.range;function hc(t){return un(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/LP)}const z_=hc(0),s1=hc(1),sce=hc(2),uce=hc(3),Kf=hc(4),lce=hc(5),cce=hc(6);z_.range;s1.range;sce.range;uce.range;Kf.range;lce.range;cce.range;const UP=un(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());UP.range;const VP=un(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());VP.range;const xs=un(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());xs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:un(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});xs.range;const bs=un(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());bs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:un(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});bs.range;function gq(t,e,r,n,i,a){const o=[[Ol,1,ss],[Ol,5,5*ss],[Ol,15,15*ss],[Ol,30,30*ss],[a,1,ma],[a,5,5*ma],[a,15,15*ma],[a,30,30*ma],[i,1,us],[i,3,3*us],[i,6,6*us],[i,12,12*us],[n,1,ws],[n,2,2*ws],[r,1,LP],[e,1,z6],[e,3,3*z6],[t,1,IA]];function s(l,c,f){const h=c<l;h&&([l,c]=[c,l]);const v=f&&typeof f.range=="function"?f:u(l,c,f),g=v?v.range(l,+c+1):[];return h?g.reverse():g}function u(l,c,f){const h=Math.abs(c-l)/f,v=AP(([,,_])=>_).right(o,h);if(v===o.length)return t.every(bT(l/IA,c/IA,f));if(v===0)return a1.every(Math.max(bT(l,c,f),1));const[g,m]=o[h/o[v-1][2]<o[v][2]/h?v-1:v];return g.every(m)}return[s,u]}const[fce,dce]=gq(bs,VP,z_,vq,$P,FP),[hce,pce]=gq(xs,UP,q_,u0,BP,jP);function PA(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function RA(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Nh(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function vce(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,u=t.shortMonths,l=kh(i),c=Mh(i),f=kh(a),h=Mh(a),v=kh(o),g=Mh(o),m=kh(s),_=Mh(s),b=kh(u),E=Mh(u),A={a:te,A:X,b:Q,B:se,c:null,d:Y6,e:Y6,f:Fce,g:Kce,G:Yce,H:Mce,I:Lce,j:jce,L:mq,m:Bce,M:$ce,p:q,q:Y,Q:J6,s:eL,S:Uce,u:Vce,U:qce,V:zce,w:Wce,W:Hce,x:null,X:null,y:Gce,Y:Xce,Z:Qce,"%":Z6},C={a:ae,A:xe,b:Oe,B:Te,c:null,d:Q6,e:Q6,f:tfe,g:ffe,G:hfe,H:Zce,I:Jce,j:efe,L:_q,m:rfe,M:nfe,p:Be,q:Ae,Q:J6,s:eL,S:ife,u:afe,U:ofe,V:sfe,w:ufe,W:lfe,x:null,X:null,y:cfe,Y:dfe,Z:pfe,"%":Z6},O={a:D,A:L,b:F,B:j,c:K,d:K6,e:K6,f:Rce,g:G6,G:H6,H:X6,I:X6,j:Tce,L:Pce,m:Oce,M:Cce,p:T,q:Sce,Q:Nce,s:kce,S:Ice,u:wce,U:xce,V:bce,w:_ce,W:Ece,x:ee,X:W,y:G6,Y:H6,Z:Ace,"%":Dce};A.x=R(r,A),A.X=R(n,A),A.c=R(e,A),C.x=R(r,C),C.X=R(n,C),C.c=R(e,C);function R(G,ne){return function(re){var Z=[],fe=-1,ye=0,pe=G.length,be,Re,je;for(re instanceof Date||(re=new Date(+re));++fe<pe;)G.charCodeAt(fe)===37&&(Z.push(G.slice(ye,fe)),(Re=W6[be=G.charAt(++fe)])!=null?be=G.charAt(++fe):Re=be==="e"?" ":"0",(je=ne[be])&&(be=je(re,Re)),Z.push(be),ye=fe+1);return Z.push(G.slice(ye,fe)),Z.join("")}}function I(G,ne){return function(re){var Z=Nh(1900,void 0,1),fe=S(Z,G,re+="",0),ye,pe;if(fe!=re.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(ne&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(ye=RA(Nh(Z.y,0,1)),pe=ye.getUTCDay(),ye=pe>4||pe===0?s1.ceil(ye):s1(ye),ye=V_.offset(ye,(Z.V-1)*7),Z.y=ye.getUTCFullYear(),Z.m=ye.getUTCMonth(),Z.d=ye.getUTCDate()+(Z.w+6)%7):(ye=PA(Nh(Z.y,0,1)),pe=ye.getDay(),ye=pe>4||pe===0?o1.ceil(ye):o1(ye),ye=u0.offset(ye,(Z.V-1)*7),Z.y=ye.getFullYear(),Z.m=ye.getMonth(),Z.d=ye.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),pe="Z"in Z?RA(Nh(Z.y,0,1)).getUTCDay():PA(Nh(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(pe+5)%7:Z.w+Z.U*7-(pe+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,RA(Z)):PA(Z)}}function S(G,ne,re,Z){for(var fe=0,ye=ne.length,pe=re.length,be,Re;fe<ye;){if(Z>=pe)return-1;if(be=ne.charCodeAt(fe++),be===37){if(be=ne.charAt(fe++),Re=O[be in W6?ne.charAt(fe++):be],!Re||(Z=Re(G,re,Z))<0)return-1}else if(be!=re.charCodeAt(Z++))return-1}return Z}function T(G,ne,re){var Z=l.exec(ne.slice(re));return Z?(G.p=c.get(Z[0].toLowerCase()),re+Z[0].length):-1}function D(G,ne,re){var Z=v.exec(ne.slice(re));return Z?(G.w=g.get(Z[0].toLowerCase()),re+Z[0].length):-1}function L(G,ne,re){var Z=f.exec(ne.slice(re));return Z?(G.w=h.get(Z[0].toLowerCase()),re+Z[0].length):-1}function F(G,ne,re){var Z=b.exec(ne.slice(re));return Z?(G.m=E.get(Z[0].toLowerCase()),re+Z[0].length):-1}function j(G,ne,re){var Z=m.exec(ne.slice(re));return Z?(G.m=_.get(Z[0].toLowerCase()),re+Z[0].length):-1}function K(G,ne,re){return S(G,e,ne,re)}function ee(G,ne,re){return S(G,r,ne,re)}function W(G,ne,re){return S(G,n,ne,re)}function te(G){return o[G.getDay()]}function X(G){return a[G.getDay()]}function Q(G){return u[G.getMonth()]}function se(G){return s[G.getMonth()]}function q(G){return i[+(G.getHours()>=12)]}function Y(G){return 1+~~(G.getMonth()/3)}function ae(G){return o[G.getUTCDay()]}function xe(G){return a[G.getUTCDay()]}function Oe(G){return u[G.getUTCMonth()]}function Te(G){return s[G.getUTCMonth()]}function Be(G){return i[+(G.getUTCHours()>=12)]}function Ae(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var ne=R(G+="",A);return ne.toString=function(){return G},ne},parse:function(G){var ne=I(G+="",!1);return ne.toString=function(){return G},ne},utcFormat:function(G){var ne=R(G+="",C);return ne.toString=function(){return G},ne},utcParse:function(G){var ne=I(G+="",!0);return ne.toString=function(){return G},ne}}}var W6={"-":"",_:" ",0:"0"},xn=/^\s*\d+/,gce=/^%/,mce=/[\\^$*+?|[\]().{}]/g;function jt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function yce(t){return t.replace(mce,"\\$&")}function kh(t){return new RegExp("^(?:"+t.map(yce).join("|")+")","i")}function Mh(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function _ce(t,e,r){var n=xn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function wce(t,e,r){var n=xn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function xce(t,e,r){var n=xn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function bce(t,e,r){var n=xn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Ece(t,e,r){var n=xn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function H6(t,e,r){var n=xn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function G6(t,e,r){var n=xn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Ace(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Sce(t,e,r){var n=xn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Oce(t,e,r){var n=xn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function K6(t,e,r){var n=xn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Tce(t,e,r){var n=xn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function X6(t,e,r){var n=xn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Cce(t,e,r){var n=xn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Ice(t,e,r){var n=xn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Pce(t,e,r){var n=xn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Rce(t,e,r){var n=xn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Dce(t,e,r){var n=gce.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Nce(t,e,r){var n=xn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function kce(t,e,r){var n=xn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function Y6(t,e){return jt(t.getDate(),e,2)}function Mce(t,e){return jt(t.getHours(),e,2)}function Lce(t,e){return jt(t.getHours()%12||12,e,2)}function jce(t,e){return jt(1+u0.count(xs(t),t),e,3)}function mq(t,e){return jt(t.getMilliseconds(),e,3)}function Fce(t,e){return mq(t,e)+"000"}function Bce(t,e){return jt(t.getMonth()+1,e,2)}function $ce(t,e){return jt(t.getMinutes(),e,2)}function Uce(t,e){return jt(t.getSeconds(),e,2)}function Vce(t){var e=t.getDay();return e===0?7:e}function qce(t,e){return jt(q_.count(xs(t)-1,t),e,2)}function yq(t){var e=t.getDay();return e>=4||e===0?Gf(t):Gf.ceil(t)}function zce(t,e){return t=yq(t),jt(Gf.count(xs(t),t)+(xs(t).getDay()===4),e,2)}function Wce(t){return t.getDay()}function Hce(t,e){return jt(o1.count(xs(t)-1,t),e,2)}function Gce(t,e){return jt(t.getFullYear()%100,e,2)}function Kce(t,e){return t=yq(t),jt(t.getFullYear()%100,e,2)}function Xce(t,e){return jt(t.getFullYear()%1e4,e,4)}function Yce(t,e){var r=t.getDay();return t=r>=4||r===0?Gf(t):Gf.ceil(t),jt(t.getFullYear()%1e4,e,4)}function Qce(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+jt(e/60|0,"0",2)+jt(e%60,"0",2)}function Q6(t,e){return jt(t.getUTCDate(),e,2)}function Zce(t,e){return jt(t.getUTCHours(),e,2)}function Jce(t,e){return jt(t.getUTCHours()%12||12,e,2)}function efe(t,e){return jt(1+V_.count(bs(t),t),e,3)}function _q(t,e){return jt(t.getUTCMilliseconds(),e,3)}function tfe(t,e){return _q(t,e)+"000"}function rfe(t,e){return jt(t.getUTCMonth()+1,e,2)}function nfe(t,e){return jt(t.getUTCMinutes(),e,2)}function ife(t,e){return jt(t.getUTCSeconds(),e,2)}function afe(t){var e=t.getUTCDay();return e===0?7:e}function ofe(t,e){return jt(z_.count(bs(t)-1,t),e,2)}function wq(t){var e=t.getUTCDay();return e>=4||e===0?Kf(t):Kf.ceil(t)}function sfe(t,e){return t=wq(t),jt(Kf.count(bs(t),t)+(bs(t).getUTCDay()===4),e,2)}function ufe(t){return t.getUTCDay()}function lfe(t,e){return jt(s1.count(bs(t)-1,t),e,2)}function cfe(t,e){return jt(t.getUTCFullYear()%100,e,2)}function ffe(t,e){return t=wq(t),jt(t.getUTCFullYear()%100,e,2)}function dfe(t,e){return jt(t.getUTCFullYear()%1e4,e,4)}function hfe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Kf(t):Kf.ceil(t),jt(t.getUTCFullYear()%1e4,e,4)}function pfe(){return"+0000"}function Z6(){return"%"}function J6(t){return+t}function eL(t){return Math.floor(+t/1e3)}var tf,xq,bq;vfe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vfe(t){return tf=vce(t),xq=tf.format,tf.parse,bq=tf.utcFormat,tf.utcParse,tf}function gfe(t){return new Date(t)}function mfe(t){return t instanceof Date?+t:+new Date(+t)}function qP(t,e,r,n,i,a,o,s,u,l){var c=IP(),f=c.invert,h=c.domain,v=l(".%L"),g=l(":%S"),m=l("%I:%M"),_=l("%I %p"),b=l("%a %d"),E=l("%b %d"),A=l("%B"),C=l("%Y");function O(R){return(u(R)<R?v:s(R)<R?g:o(R)<R?m:a(R)<R?_:n(R)<R?i(R)<R?b:E:r(R)<R?A:C)(R)}return c.invert=function(R){return new Date(f(R))},c.domain=function(R){return arguments.length?h(Array.from(R,mfe)):h().map(gfe)},c.ticks=function(R){var I=h();return t(I[0],I[I.length-1],R??10)},c.tickFormat=function(R,I){return I==null?O:l(I)},c.nice=function(R){var I=h();return(!R||typeof R.range!="function")&&(R=e(I[0],I[I.length-1],R??10)),R?h(uq(I,R)):c},c.copy=function(){return s0(c,qP(t,e,r,n,i,a,o,s,u,l))},c}function yfe(){return Sa.apply(qP(hce,pce,xs,UP,q_,u0,BP,jP,Ol,xq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _fe(){return Sa.apply(qP(fce,dce,bs,VP,z_,V_,$P,FP,Ol,bq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function W_(){var t=0,e=1,r,n,i,a,o=hi,s=!1,u;function l(f){return f==null||isNaN(f=+f)?u:o(i===0?.5:(f=(a(f)-r)*i,s?Math.max(0,Math.min(1,f)):f))}l.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),l):[t,e]},l.clamp=function(f){return arguments.length?(s=!!f,l):s},l.interpolator=function(f){return arguments.length?(o=f,l):o};function c(f){return function(h){var v,g;return arguments.length?([v,g]=h,o=f(v,g),l):[o(0),o(1)]}}return l.range=c(Nd),l.rangeRound=c(CP),l.unknown=function(f){return arguments.length?(u=f,l):u},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),l}}function Nu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Eq(){var t=Du(W_()(hi));return t.copy=function(){return Nu(t,Eq())},Ss.apply(t,arguments)}function Aq(){var t=DP(W_()).domain([1,10]);return t.copy=function(){return Nu(t,Aq()).base(t.base())},Ss.apply(t,arguments)}function Sq(){var t=NP(W_());return t.copy=function(){return Nu(t,Sq()).constant(t.constant())},Ss.apply(t,arguments)}function zP(){var t=kP(W_());return t.copy=function(){return Nu(t,zP()).exponent(t.exponent())},Ss.apply(t,arguments)}function wfe(){return zP.apply(null,arguments).exponent(.5)}function Oq(){var t=[],e=hi;function r(n){if(n!=null&&!isNaN(n=+n))return e((a0(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(yu),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>ole(t,a/n))},r.copy=function(){return Oq(e).domain(t)},Ss.apply(r,arguments)}function H_(){var t=0,e=.5,r=1,n=1,i,a,o,s,u,l=hi,c,f=!1,h;function v(m){return isNaN(m=+m)?h:(m=.5+((m=+c(m))-a)*(n*m<n*a?s:u),l(f?Math.max(0,Math.min(1,m)):m))}v.domain=function(m){return arguments.length?([t,e,r]=m,i=c(t=+t),a=c(e=+e),o=c(r=+r),s=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),n=a<i?-1:1,v):[t,e,r]},v.clamp=function(m){return arguments.length?(f=!!m,v):f},v.interpolator=function(m){return arguments.length?(l=m,v):l};function g(m){return function(_){var b,E,A;return arguments.length?([b,E,A]=_,l=Dle(m,[b,E,A]),v):[l(0),l(.5),l(1)]}}return v.range=g(Nd),v.rangeRound=g(CP),v.unknown=function(m){return arguments.length?(h=m,v):h},function(m){return c=m,i=m(t),a=m(e),o=m(r),s=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),n=a<i?-1:1,v}}function Tq(){var t=Du(H_()(hi));return t.copy=function(){return Nu(t,Tq())},Ss.apply(t,arguments)}function Cq(){var t=DP(H_()).domain([.1,1,10]);return t.copy=function(){return Nu(t,Cq()).base(t.base())},Ss.apply(t,arguments)}function Iq(){var t=NP(H_());return t.copy=function(){return Nu(t,Iq()).constant(t.constant())},Ss.apply(t,arguments)}function WP(){var t=kP(H_());return t.copy=function(){return Nu(t,WP()).exponent(t.exponent())},Ss.apply(t,arguments)}function xfe(){return WP.apply(null,arguments).exponent(.5)}const tL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Zp,scaleDiverging:Tq,scaleDivergingLog:Cq,scaleDivergingPow:WP,scaleDivergingSqrt:xfe,scaleDivergingSymlog:Iq,scaleIdentity:sq,scaleImplicit:ET,scaleLinear:i1,scaleLog:lq,scaleOrdinal:SP,scalePoint:xp,scalePow:MP,scaleQuantile:dq,scaleQuantize:hq,scaleRadial:fq,scaleSequential:Eq,scaleSequentialLog:Aq,scaleSequentialPow:zP,scaleSequentialQuantile:Oq,scaleSequentialSqrt:wfe,scaleSequentialSymlog:Sq,scaleSqrt:tce,scaleSymlog:cq,scaleThreshold:pq,scaleTime:yfe,scaleUtc:_fe,tickFormat:oq},Symbol.toStringTag,{value:"Module"}));var DA,rL;function G_(){if(rL)return DA;rL=1;var t=Od();function e(r,n,i){for(var a=-1,o=r.length;++a<o;){var s=r[a],u=n(s);if(u!=null&&(l===void 0?u===u&&!t(u):i(u,l)))var l=u,c=s}return c}return DA=e,DA}var NA,nL;function Pq(){if(nL)return NA;nL=1;function t(e,r){return e>r}return NA=t,NA}var kA,iL;function bfe(){if(iL)return kA;iL=1;var t=G_(),e=Pq(),r=Rd();function n(i){return i&&i.length?t(i,r,e):void 0}return kA=n,kA}var Efe=bfe();const K_=_t(Efe);var MA,aL;function Rq(){if(aL)return MA;aL=1;function t(e,r){return e<r}return MA=t,MA}var LA,oL;function Afe(){if(oL)return LA;oL=1;var t=G_(),e=Rq(),r=Rd();function n(i){return i&&i.length?t(i,r,e):void 0}return LA=n,LA}var Sfe=Afe();const X_=_t(Sfe);var jA,sL;function Ofe(){if(sL)return jA;sL=1;var t=I_(),e=so(),r=LV(),n=Yn();function i(a,o){var s=n(a)?t:r;return s(a,e(o,3))}return jA=i,jA}var FA,uL;function Tfe(){if(uL)return FA;uL=1;var t=wP(),e=Ofe();function r(n,i){return t(e(n,i),1)}return FA=r,FA}var Cfe=Tfe();const Ife=_t(Cfe);var BA,lL;function Pfe(){if(lL)return BA;lL=1;var t=_P();function e(r,n){return t(r,n)}return BA=e,BA}var Rfe=Pfe();const kd=_t(Rfe);var Md=1e9,Dfe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},GP,_r=!0,xa="[DecimalError] ",kl=xa+"Invalid argument: ",HP=xa+"Exponent out of range: ",Ld=Math.floor,yl=Math.pow,Nfe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Gi,yn=1e7,pr=7,Dq=9007199254740991,u1=Ld(Dq/pr),Ve={};Ve.absoluteValue=Ve.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ve.comparedTo=Ve.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Ve.decimalPlaces=Ve.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*pr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ve.dividedBy=Ve.div=function(t){return hs(this,new this.constructor(t))};Ve.dividedToIntegerBy=Ve.idiv=function(t){var e=this,r=e.constructor;return tr(hs(e,new r(t),0,1),r.precision)};Ve.equals=Ve.eq=function(t){return!this.cmp(t)};Ve.exponent=function(){return Hr(this)};Ve.greaterThan=Ve.gt=function(t){return this.cmp(t)>0};Ve.greaterThanOrEqualTo=Ve.gte=function(t){return this.cmp(t)>=0};Ve.isInteger=Ve.isint=function(){return this.e>this.d.length-2};Ve.isNegative=Ve.isneg=function(){return this.s<0};Ve.isPositive=Ve.ispos=function(){return this.s>0};Ve.isZero=function(){return this.s===0};Ve.lessThan=Ve.lt=function(t){return this.cmp(t)<0};Ve.lessThanOrEqualTo=Ve.lte=function(t){return this.cmp(t)<1};Ve.logarithm=Ve.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Gi))throw Error(xa+"NaN");if(r.s<1)throw Error(xa+(r.s?"NaN":"-Infinity"));return r.eq(Gi)?new n(0):(_r=!1,e=hs(nv(r,a),nv(t,a),a),_r=!0,tr(e,i))};Ve.minus=Ve.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Mq(e,t):Nq(e,(t.s=-t.s,t))};Ve.modulo=Ve.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(xa+"NaN");return r.s?(_r=!1,e=hs(r,t,0,1).times(t),_r=!0,r.minus(e)):tr(new n(r),i)};Ve.naturalExponential=Ve.exp=function(){return kq(this)};Ve.naturalLogarithm=Ve.ln=function(){return nv(this)};Ve.negated=Ve.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ve.plus=Ve.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Nq(e,t):Mq(e,(t.s=-t.s,t))};Ve.precision=Ve.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(kl+t);if(e=Hr(i)+1,n=i.d.length-1,r=n*pr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ve.squareRoot=Ve.sqrt=function(){var t,e,r,n,i,a,o,s=this,u=s.constructor;if(s.s<1){if(!s.s)return new u(0);throw Error(xa+"NaN")}for(t=Hr(s),_r=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=bo(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ld((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new u(e)):n=new u(i.toString()),r=u.precision,i=o=r+3;;)if(a=n,n=a.plus(hs(s,a,o+2)).times(.5),bo(a.d).slice(0,o)===(e=bo(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(tr(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return _r=!0,tr(n,r)};Ve.times=Ve.mul=function(t){var e,r,n,i,a,o,s,u,l,c=this,f=c.constructor,h=c.d,v=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,r=c.e+t.e,u=h.length,l=v.length,u<l&&(a=h,h=v,v=a,o=u,u=l,l=o),a=[],o=u+l,n=o;n--;)a.push(0);for(n=l;--n>=0;){for(e=0,i=u+n;i>n;)s=a[i]+v[n]*h[i-n-1]+e,a[i--]=s%yn|0,e=s/yn|0;a[i]=(a[i]+e)%yn|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,_r?tr(t,f.precision):t};Ve.toDecimalPlaces=Ve.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ko(t,0,Md),e===void 0?e=n.rounding:ko(e,0,8),tr(r,t+Hr(r)+1,e))};Ve.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Kl(n,!0):(ko(t,0,Md),e===void 0?e=i.rounding:ko(e,0,8),n=tr(new i(n),t+1,e),r=Kl(n,!0,t+1)),r};Ve.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Kl(i):(ko(t,0,Md),e===void 0?e=a.rounding:ko(e,0,8),n=tr(new a(i),t+Hr(i)+1,e),r=Kl(n.abs(),!1,t+Hr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ve.toInteger=Ve.toint=function(){var t=this,e=t.constructor;return tr(new e(t),Hr(t)+1,e.rounding)};Ve.toNumber=function(){return+this};Ve.toPower=Ve.pow=function(t){var e,r,n,i,a,o,s=this,u=s.constructor,l=12,c=+(t=new u(t));if(!t.s)return new u(Gi);if(s=new u(s),!s.s){if(t.s<1)throw Error(xa+"Infinity");return s}if(s.eq(Gi))return s;if(n=u.precision,t.eq(Gi))return tr(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=s.s,o){if((r=c<0?-c:c)<=Dq){for(i=new u(Gi),e=Math.ceil(n/pr+4),_r=!1;r%2&&(i=i.times(s),fL(i.d,e)),r=Ld(r/2),r!==0;)s=s.times(s),fL(s.d,e);return _r=!0,t.s<0?new u(Gi).div(i):tr(i,n)}}else if(a<0)throw Error(xa+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,_r=!1,i=t.times(nv(s,n+l)),_r=!0,i=kq(i),i.s=a,i};Ve.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Hr(i),n=Kl(i,r<=a.toExpNeg||r>=a.toExpPos)):(ko(t,1,Md),e===void 0?e=a.rounding:ko(e,0,8),i=tr(new a(i),t,e),r=Hr(i),n=Kl(i,t<=r||r<=a.toExpNeg,t)),n};Ve.toSignificantDigits=Ve.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ko(t,1,Md),e===void 0?e=n.rounding:ko(e,0,8)),tr(new n(r),t,e)};Ve.toString=Ve.valueOf=Ve.val=Ve.toJSON=Ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Hr(t),r=t.constructor;return Kl(t,e<=r.toExpNeg||e>=r.toExpPos)};function Nq(t,e){var r,n,i,a,o,s,u,l,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),_r?tr(e,f):e;if(u=t.d,l=e.d,o=t.e,i=e.e,u=u.slice(),a=o-i,a){for(a<0?(n=u,a=-a,s=l.length):(n=l,i=o,s=u.length),o=Math.ceil(f/pr),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=u.length,a=l.length,s-a<0&&(a=s,n=l,l=u,u=n),r=0;a;)r=(u[--a]=u[a]+l[a]+r)/yn|0,u[a]%=yn;for(r&&(u.unshift(r),++i),s=u.length;u[--s]==0;)u.pop();return e.d=u,e.e=i,_r?tr(e,f):e}function ko(t,e,r){if(t!==~~t||t<e||t>r)throw Error(kl+t)}function bo(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=pr-n.length,r&&(a+=tu(r)),a+=n;o=t[e],n=o+"",r=pr-n.length,r&&(a+=tu(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var hs=function(){function t(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%yn|0,o=a/yn|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,u;if(a!=o)u=a>o?1:-1;else for(s=u=0;s<a;s++)if(n[s]!=i[s]){u=n[s]>i[s]?1:-1;break}return u}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*yn+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,u,l,c,f,h,v,g,m,_,b,E,A,C,O,R,I,S,T=n.constructor,D=n.s==i.s?1:-1,L=n.d,F=i.d;if(!n.s)return new T(n);if(!i.s)throw Error(xa+"Division by zero");for(u=n.e-i.e,I=F.length,O=L.length,v=new T(D),g=v.d=[],l=0;F[l]==(L[l]||0);)++l;if(F[l]>(L[l]||0)&&--u,a==null?E=a=T.precision:o?E=a+(Hr(n)-Hr(i))+1:E=a,E<0)return new T(0);if(E=E/pr+2|0,l=0,I==1)for(c=0,F=F[0],E++;(l<O||c)&&E--;l++)A=c*yn+(L[l]||0),g[l]=A/F|0,c=A%F|0;else{for(c=yn/(F[0]+1)|0,c>1&&(F=t(F,c),L=t(L,c),I=F.length,O=L.length),C=I,m=L.slice(0,I),_=m.length;_<I;)m[_++]=0;S=F.slice(),S.unshift(0),R=F[0],F[1]>=yn/2&&++R;do c=0,s=e(F,m,I,_),s<0?(b=m[0],I!=_&&(b=b*yn+(m[1]||0)),c=b/R|0,c>1?(c>=yn&&(c=yn-1),f=t(F,c),h=f.length,_=m.length,s=e(f,m,h,_),s==1&&(c--,r(f,I<h?S:F,h))):(c==0&&(s=c=1),f=F.slice()),h=f.length,h<_&&f.unshift(0),r(m,f,_),s==-1&&(_=m.length,s=e(F,m,I,_),s<1&&(c++,r(m,I<_?S:F,_))),_=m.length):s===0&&(c++,m=[0]),g[l++]=c,s&&m[0]?m[_++]=L[C]||0:(m=[L[C]],_=1);while((C++<O||m[0]!==void 0)&&E--)}return g[0]||g.shift(),v.e=u,tr(v,o?a+Hr(v)+1:a)}}();function kq(t,e){var r,n,i,a,o,s,u=0,l=0,c=t.constructor,f=c.precision;if(Hr(t)>16)throw Error(HP+Hr(t));if(!t.s)return new c(Gi);for(_r=!1,s=f,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),l+=5;for(n=Math.log(yl(2,l))/Math.LN10*2+5|0,s+=n,r=i=a=new c(Gi),c.precision=s;;){if(i=tr(i.times(t),s),r=r.times(++u),o=a.plus(hs(i,r,s)),bo(o.d).slice(0,s)===bo(a.d).slice(0,s)){for(;l--;)a=tr(a.times(a),s);return c.precision=f,e==null?(_r=!0,tr(a,f)):a}a=o}}function Hr(t){for(var e=t.e*pr,r=t.d[0];r>=10;r/=10)e++;return e}function $A(t,e,r){if(e>t.LN10.sd())throw _r=!0,r&&(t.precision=r),Error(xa+"LN10 precision limit exceeded");return tr(new t(t.LN10),e)}function tu(t){for(var e="";t--;)e+="0";return e}function nv(t,e){var r,n,i,a,o,s,u,l,c,f=1,h=10,v=t,g=v.d,m=v.constructor,_=m.precision;if(v.s<1)throw Error(xa+(v.s?"NaN":"-Infinity"));if(v.eq(Gi))return new m(0);if(e==null?(_r=!1,l=_):l=e,v.eq(10))return e==null&&(_r=!0),$A(m,l);if(l+=h,m.precision=l,r=bo(g),n=r.charAt(0),a=Hr(v),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(t),r=bo(v.d),n=r.charAt(0),f++;a=Hr(v),n>1?(v=new m("0."+r),a++):v=new m(n+"."+r.slice(1))}else return u=$A(m,l+2,_).times(a+""),v=nv(new m(n+"."+r.slice(1)),l-h).plus(u),m.precision=_,e==null?(_r=!0,tr(v,_)):v;for(s=o=v=hs(v.minus(Gi),v.plus(Gi),l),c=tr(v.times(v),l),i=3;;){if(o=tr(o.times(c),l),u=s.plus(hs(o,new m(i),l)),bo(u.d).slice(0,l)===bo(s.d).slice(0,l))return s=s.times(2),a!==0&&(s=s.plus($A(m,l+2,_).times(a+""))),s=hs(s,new m(f),l),m.precision=_,e==null?(_r=!0,tr(s,_)):s;s=u,i+=2}}function cL(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Ld(r/pr),t.d=[],n=(r+1)%pr,r<0&&(n+=pr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=pr;n<i;)t.d.push(+e.slice(n,n+=pr));e=e.slice(n),n=pr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),_r&&(t.e>u1||t.e<-u1))throw Error(HP+r)}else t.s=0,t.e=0,t.d=[0];return t}function tr(t,e,r){var n,i,a,o,s,u,l,c,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=pr,i=e,l=f[c=0];else{if(c=Math.ceil((n+1)/pr),a=f.length,c>=a)return t;for(l=a=f[c],o=1;a>=10;a/=10)o++;n%=pr,i=n-pr+o}if(r!==void 0&&(a=yl(10,o-i-1),s=l/a%10|0,u=e<0||f[c+1]!==void 0||l%a,u=r<4?(s||u)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||u||r==6&&(n>0?i>0?l/yl(10,o-i):0:f[c-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return u?(a=Hr(t),f.length=1,e=e-a-1,f[0]=yl(10,(pr-e%pr)%pr),t.e=Ld(-e/pr)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=c,a=1,c--):(f.length=c+1,a=yl(10,pr-n),f[c]=i>0?(l/yl(10,o-i)%yl(10,i)|0)*a:0),u)for(;;)if(c==0){(f[0]+=a)==yn&&(f[0]=1,++t.e);break}else{if(f[c]+=a,f[c]!=yn)break;f[c--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(_r&&(t.e>u1||t.e<-u1))throw Error(HP+Hr(t));return t}function Mq(t,e){var r,n,i,a,o,s,u,l,c,f,h=t.constructor,v=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),_r?tr(e,v):e;if(u=t.d,f=e.d,n=e.e,l=t.e,u=u.slice(),o=l-n,o){for(c=o<0,c?(r=u,o=-o,s=f.length):(r=f,n=l,s=u.length),i=Math.max(Math.ceil(v/pr),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=u.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(u[i]!=f[i]){c=u[i]<f[i];break}o=0}for(c&&(r=u,u=f,f=r,e.s=-e.s),s=u.length,i=f.length-s;i>0;--i)u[s++]=0;for(i=f.length;i>o;){if(u[--i]<f[i]){for(a=i;a&&u[--a]===0;)u[a]=yn-1;--u[a],u[i]+=yn}u[i]-=f[i]}for(;u[--s]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(e.d=u,e.e=n,_r?tr(e,v):e):new h(0)}function Kl(t,e,r){var n,i=Hr(t),a=bo(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+tu(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+tu(-i-1)+a,r&&(n=r-o)>0&&(a+=tu(n))):i>=o?(a+=tu(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+tu(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=tu(n))),t.s<0?"-"+a:a}function fL(t,e){if(t.length>e)return t.length=e,!0}function Lq(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(kl+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return cL(o,a.toString())}else if(typeof a!="string")throw Error(kl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Nfe.test(a))cL(o,a);else throw Error(kl+a)}if(i.prototype=Ve,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Lq,i.config=i.set=kfe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function kfe(t){if(!t||typeof t!="object")throw Error(xa+"Object expected");var e,r,n,i=["precision",1,Md,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Ld(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(kl+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(kl+r+": "+n);return this}var GP=Lq(Dfe);Gi=new GP(1);const Yt=GP;function Mfe(t){return Bfe(t)||Ffe(t)||jfe(t)||Lfe()}function Lfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jfe(t,e){if(t){if(typeof t=="string")return TT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TT(t,e)}}function Ffe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Bfe(t){if(Array.isArray(t))return TT(t)}function TT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var $fe=function(e){return e},jq={},Fq=function(e){return e===jq},dL=function(e){return function r(){return arguments.length===0||arguments.length===1&&Fq(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Ufe=function t(e,r){return e===1?r:dL(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==jq}).length;return o>=e?r.apply(void 0,i):t(e-o,dL(function(){for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];var c=i.map(function(f){return Fq(f)?u.shift():f});return r.apply(void 0,Mfe(c).concat(u))}))})},Y_=function(e){return Ufe(e.length,e)},CT=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},Vfe=Y_(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),qfe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return $fe;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,u){return u(s)},a.apply(void 0,arguments))}},IT=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Bq=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,u){return s===r[u]})||(r=a,n=e.apply(void 0,a)),n}};function zfe(t){var e;return t===0?e=1:e=Math.floor(new Yt(t).abs().log(10).toNumber())+1,e}function Wfe(t,e,r){for(var n=new Yt(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var Hfe=Y_(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Gfe=Y_(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Kfe=Y_(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Q_={rangeStep:Wfe,getDigitCount:zfe,interpolateNumber:Hfe,uninterpolateNumber:Gfe,uninterpolateTruncation:Kfe};function PT(t){return Qfe(t)||Yfe(t)||$q(t)||Xfe()}function Xfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yfe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Qfe(t){if(Array.isArray(t))return RT(t)}function iv(t,e){return ede(t)||Jfe(t,e)||$q(t,e)||Zfe()}function Zfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $q(t,e){if(t){if(typeof t=="string")return RT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RT(t,e)}}function RT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Jfe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(u){i=!0,a=u}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function ede(t){if(Array.isArray(t))return t}function Uq(t){var e=iv(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function Vq(t,e,r){if(t.lte(0))return new Yt(0);var n=Q_.getDigitCount(t.toNumber()),i=new Yt(10).pow(n),a=t.div(i),o=n!==1?.05:.1,s=new Yt(Math.ceil(a.div(o).toNumber())).add(r).mul(o),u=s.mul(i);return e?u:new Yt(Math.ceil(u))}function tde(t,e,r){var n=1,i=new Yt(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Yt(10).pow(Q_.getDigitCount(t)-1),i=new Yt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Yt(Math.floor(t)))}else t===0?i=new Yt(Math.floor((e-1)/2)):r||(i=new Yt(Math.floor(t)));var o=Math.floor((e-1)/2),s=qfe(Vfe(function(u){return i.add(new Yt(u-o).mul(n)).toNumber()}),CT);return s(0,e)}function qq(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Yt(0),tickMin:new Yt(0),tickMax:new Yt(0)};var a=Vq(new Yt(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new Yt(0):(o=new Yt(t).add(e).div(2),o=o.sub(new Yt(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),u=Math.ceil(new Yt(e).sub(o).div(a).toNumber()),l=s+u+1;return l>r?qq(t,e,r,n,i+1):(l<r&&(u=e>0?u+(r-l):u,s=e>0?s:s+(r-l)),{step:a,tickMin:o.sub(new Yt(s).mul(a)),tickMax:o.add(new Yt(u).mul(a))})}function rde(t){var e=iv(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=Uq([r,n]),u=iv(s,2),l=u[0],c=u[1];if(l===-1/0||c===1/0){var f=c===1/0?[l].concat(PT(CT(0,i-1).map(function(){return 1/0}))):[].concat(PT(CT(0,i-1).map(function(){return-1/0})),[c]);return r>n?IT(f):f}if(l===c)return tde(l,i,a);var h=qq(l,c,o,a),v=h.step,g=h.tickMin,m=h.tickMax,_=Q_.rangeStep(g,m.add(new Yt(.1).mul(v)),v);return r>n?IT(_):_}function nde(t,e){var r=iv(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Uq([n,i]),s=iv(o,2),u=s[0],l=s[1];if(u===-1/0||l===1/0)return[n,i];if(u===l)return[u];var c=Math.max(e,2),f=Vq(new Yt(l).sub(u).div(c-1),a,0),h=[].concat(PT(Q_.rangeStep(new Yt(u),new Yt(l).sub(new Yt(.99).mul(f)),f)),[l]);return n>i?IT(h):h}var ide=Bq(rde),ade=Bq(nde),ode="Invariant failed";function Xl(t,e){throw new Error(ode)}var sde=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function l1(){return l1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l1.apply(this,arguments)}function ude(t,e){return dde(t)||fde(t,e)||cde(t,e)||lde()}function lde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cde(t,e){if(t){if(typeof t=="string")return hL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hL(t,e)}}function hL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fde(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function dde(t){if(Array.isArray(t))return t}function hde(t,e){if(t==null)return{};var r=pde(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Hq(n.key),n)}}function mde(t,e,r){return e&&gde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yde(t,e,r){return e=c1(e),_de(t,zq()?Reflect.construct(e,r||[],c1(t).constructor):e.apply(t,r))}function _de(t,e){if(e&&(Xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wde(t)}function wde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zq=function(){return!!t})()}function c1(t){return c1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},c1(t)}function xde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DT(t,e)}function DT(t,e){return DT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},DT(t,e)}function Wq(t,e,r){return e=Hq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hq(t){var e=bde(t,"string");return Xf(e)=="symbol"?e:e+""}function bde(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var l0=function(t){function e(){return vde(this,e),yde(this,e,arguments)}return xde(e,t),mde(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,u=n.data,l=n.dataPointFormatter,c=n.xAxis,f=n.yAxis,h=hde(n,sde),v=et(h,!1);this.props.direction==="x"&&c.type!=="number"&&Xl();var g=u.map(function(m){var _=l(m,s),b=_.x,E=_.y,A=_.value,C=_.errorVal;if(!C)return null;var O=[],R,I;if(Array.isArray(C)){var S=ude(C,2);R=S[0],I=S[1]}else R=I=C;if(a==="vertical"){var T=c.scale,D=E+i,L=D+o,F=D-o,j=T(A-R),K=T(A+I);O.push({x1:K,y1:L,x2:K,y2:F}),O.push({x1:j,y1:D,x2:K,y2:D}),O.push({x1:j,y1:L,x2:j,y2:F})}else if(a==="horizontal"){var ee=f.scale,W=b+i,te=W-o,X=W+o,Q=ee(A-R),se=ee(A+I);O.push({x1:te,y1:se,x2:X,y2:se}),O.push({x1:W,y1:Q,x2:W,y2:se}),O.push({x1:te,y1:Q,x2:X,y2:Q})}return $.createElement(Lt,l1({className:"recharts-errorBar",key:"bar-".concat(O.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},v),O.map(function(q){return $.createElement("line",l1({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return $.createElement(Lt,{className:"recharts-errorBars"},g)}}])}($.Component);Wq(l0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Wq(l0,"displayName","ErrorBar");function av(t){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},av(t)}function pL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ll(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pL(Object(r),!0).forEach(function(n){Ede(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ede(t,e,r){return e=Ade(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ade(t){var e=Sde(t,"string");return av(e)=="symbol"?e:e+""}function Sde(t,e){if(av(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gq=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Wi(r,Dl);if(!o)return null;var s=Dl.defaultProps,u=s!==void 0?ll(ll({},s),o.props):{},l;return o.props&&o.props.payload?l=o.props&&o.props.payload:a==="children"?l=(n||[]).reduce(function(c,f){var h=f.item,v=f.props,g=v.sectors||v.data||[];return c.concat(g.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):l=(n||[]).map(function(c){var f=c.item,h=f.type.defaultProps,v=h!==void 0?ll(ll({},h),f.props):{},g=v.dataKey,m=v.name,_=v.legendType,b=v.hide;return{inactive:b,dataKey:g,type:u.iconType||_||"square",color:KP(f),value:m||g,payload:v}}),ll(ll(ll({},u),Dl.getWithHeight(o,i)),{},{payload:l,item:o})};function ov(t){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ov(t)}function vL(t){return Ide(t)||Cde(t)||Tde(t)||Ode()}function Ode(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tde(t,e){if(t){if(typeof t=="string")return NT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NT(t,e)}}function Cde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ide(t){if(Array.isArray(t))return NT(t)}function NT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ir(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gL(Object(r),!0).forEach(function(n){Df(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Df(t,e,r){return e=Pde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pde(t){var e=Rde(t,"string");return ov(e)=="symbol"?e:e+""}function Rde(t,e){if(ov(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rn(t,e,r){return ht(t)||ht(e)?r:an(e)?Yi(t,e,r):st(e)?e(t):r}function bp(t,e,r,n){var i=Ife(t,function(s){return rn(s,e)});if(r==="number"){var a=i.filter(function(s){return Ne(s)||parseFloat(s)});return a.length?[X_(a),K_(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!ht(s)}):i;return o.map(function(s){return an(s)||s instanceof Date?s:""})}var Dde=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n?.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var u=a.range,l=0;l<s;l++){var c=l>0?i[l-1].coordinate:i[s-1].coordinate,f=i[l].coordinate,h=l>=s-1?i[0].coordinate:i[l+1].coordinate,v=void 0;if(fi(f-c)!==fi(h-f)){var g=[];if(fi(h-f)===fi(u[1]-u[0])){v=h;var m=f+u[1]-u[0];g[0]=Math.min(m,(m+c)/2),g[1]=Math.max(m,(m+c)/2)}else{v=c;var _=h+u[1]-u[0];g[0]=Math.min(f,(_+f)/2),g[1]=Math.max(f,(_+f)/2)}var b=[Math.min(f,(v+f)/2),Math.max(f,(v+f)/2)];if(e>b[0]&&e<=b[1]||e>=g[0]&&e<=g[1]){o=i[l].index;break}}else{var E=Math.min(c,h),A=Math.max(c,h);if(e>(E+f)/2&&e<=(A+f)/2){o=i[l].index;break}}}else for(var C=0;C<s;C++)if(C===0&&e<=(n[C].coordinate+n[C+1].coordinate)/2||C>0&&C<s-1&&e>(n[C].coordinate+n[C-1].coordinate)/2&&e<=(n[C].coordinate+n[C+1].coordinate)/2||C===s-1&&e>(n[C].coordinate+n[C-1].coordinate)/2){o=n[C].index;break}return o},KP=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ir(Ir({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,u;switch(i){case"Line":u=o;break;case"Area":case"Radar":u=o&&o!=="none"?o:s;break;default:u=s;break}return u},Nde=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),u=0,l=s.length;u<l;u++)for(var c=a[s[u]].stackGroups,f=Object.keys(c),h=0,v=f.length;h<v;h++){var g=c[f[h]],m=g.items,_=g.cateAxisId,b=m.filter(function(I){return ds(I.type).indexOf("Bar")>=0});if(b&&b.length){var E=b[0].type.defaultProps,A=E!==void 0?Ir(Ir({},E),b[0].props):b[0].props,C=A.barSize,O=A[_];o[O]||(o[O]=[]);var R=ht(C)?r:C;o[O].push({item:b[0],stackList:b.slice(1),barSize:ht(R)?void 0:di(R,n,0)})}}return o},kde=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,u=o.length;if(u<1)return null;var l=di(r,i,0,!0),c,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,v=i/u,g=o.reduce(function(C,O){return C+O.barSize||0},0);g+=(u-1)*l,g>=i&&(g-=(u-1)*l,l=0),g>=i&&v>0&&(h=!0,v*=.9,g=u*v);var m=(i-g)/2>>0,_={offset:m-l,size:0};c=o.reduce(function(C,O){var R={item:O.item,position:{offset:_.offset+_.size+l,size:h?v:O.barSize}},I=[].concat(vL(C),[R]);return _=I[I.length-1].position,O.stackList&&O.stackList.length&&O.stackList.forEach(function(S){I.push({item:S,position:_})}),I},f)}else{var b=di(n,i,0,!0);i-2*b-(u-1)*l<=0&&(l=0);var E=(i-2*b-(u-1)*l)/u;E>1&&(E>>=0);var A=s===+s?Math.min(E,s):E;c=o.reduce(function(C,O,R){var I=[].concat(vL(C),[{item:O.item,position:{offset:b+(E+l)*R+(E-A)/2,size:A}}]);return O.stackList&&O.stackList.length&&O.stackList.forEach(function(S){I.push({item:S,position:I[I.length-1].position})}),I},f)}return c},Mde=function(e,r,n,i){var a=n.children,o=n.width,s=n.margin,u=o-(s.left||0)-(s.right||0),l=Gq({children:a,legendWidth:u});if(l){var c=i||{},f=c.width,h=c.height,v=l.align,g=l.verticalAlign,m=l.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&v!=="center"&&Ne(e[v]))return Ir(Ir({},e),{},Df({},v,e[v]+(f||0)));if((m==="horizontal"||m==="vertical"&&v==="center")&&g!=="middle"&&Ne(e[g]))return Ir(Ir({},e),{},Df({},g,e[g]+(h||0)))}return e},Lde=function(e,r,n){return ht(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Kq=function(e,r,n,i,a){var o=r.props.children,s=Qi(o,l0).filter(function(l){return Lde(i,a,l.props.direction)});if(s&&s.length){var u=s.map(function(l){return l.props.dataKey});return e.reduce(function(l,c){var f=rn(c,n);if(ht(f))return l;var h=Array.isArray(f)?[X_(f),K_(f)]:[f,f],v=u.reduce(function(g,m){var _=rn(c,m,0),b=h[0]-Math.abs(Array.isArray(_)?_[0]:_),E=h[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(b,g[0]),Math.max(E,g[1])]},[1/0,-1/0]);return[Math.min(v[0],l[0]),Math.max(v[1],l[1])]},[1/0,-1/0])}return null},jde=function(e,r,n,i,a){var o=r.map(function(s){return Kq(e,s,n,a,i)}).filter(function(s){return!ht(s)});return o&&o.length?o.reduce(function(s,u){return[Math.min(s[0],u[0]),Math.max(s[1],u[1])]},[1/0,-1/0]):null},Xq=function(e,r,n,i,a){var o=r.map(function(u){var l=u.props.dataKey;return n==="number"&&l&&Kq(e,u,l,i)||bp(e,l,n,a)});if(n==="number")return o.reduce(function(u,l){return[Math.min(u[0],l[0]),Math.max(u[1],l[1])]},[1/0,-1/0]);var s={};return o.reduce(function(u,l){for(var c=0,f=l.length;c<f;c++)s[l[c]]||(s[l[c]]=!0,u.push(l[c]));return u},[])},Yq=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},Qq=function(e,r,n,i){if(i)return e.map(function(u){return u.coordinate});var a,o,s=e.map(function(u){return u.coordinate===r&&(a=!0),u.coordinate===n&&(o=!0),u.coordinate});return a||s.push(r),o||s.push(n),s},ls=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,u=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,l=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/u:0;if(l=e.axisType==="angleAxis"&&s?.length>=2?fi(s[0]-s[1])*2*l:l,r&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+l,value:f,offset:l}});return c.filter(function(f){return!i0(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+l,value:f,index:h,offset:l}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+l,value:f,offset:l}}):i.domain().map(function(f,h){return{coordinate:i(f)+l,value:a?a[f]:f,index:h,offset:l}})},UA=new WeakMap,Jg=function(e,r){if(typeof r!="function")return e;UA.has(e)||UA.set(e,new WeakMap);var n=UA.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},Zq=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Zp(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:i1(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:xp(),realScaleType:"point"}:a==="category"?{scale:Zp(),realScaleType:"band"}:{scale:i1(),realScaleType:"linear"};if(Wl(i)){var u="scale".concat(D_(i));return{scale:(tL[u]||xp)(),realScaleType:tL[u]?u:"point"}}return st(i)?{scale:i}:{scale:xp(),realScaleType:"point"}},mL=1e-4,Jq=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-mL,o=Math.max(i[0],i[1])+mL,s=e(r[0]),u=e(r[n-1]);(s<a||s>o||u<a||u>o)&&e.domain([r[0],r[n-1]])}},Fde=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Bde=function(e,r){if(!r||r.length!==2||!Ne(r[0])||!Ne(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!Ne(e[0])||e[0]<n)&&(a[0]=n),(!Ne(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},$de=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var u=i0(e[s][n][1])?e[s][n][0]:e[s][n][1];u>=0?(e[s][n][0]=a,e[s][n][1]=a+u,a=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+u,o=e[s][n][1])}},Ude=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=i0(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},Vde={sign:$de,expand:Uae,none:Uf,silhouette:Vae,wiggle:qae,positive:Ude},qde=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),a=Vde[n],o=$ae().keys(i).value(function(s,u){return+rn(s,u,0)}).order(lT).offset(a);return o(e)},zde=function(e,r,n,i,a,o){if(!e)return null;var s=o?r.reverse():r,u={},l=s.reduce(function(f,h){var v,g=(v=h.type)!==null&&v!==void 0&&v.defaultProps?Ir(Ir({},h.type.defaultProps),h.props):h.props,m=g.stackId,_=g.hide;if(_)return f;var b=g[n],E=f[b]||{hasStack:!1,stackGroups:{}};if(an(m)){var A=E.stackGroups[m]||{numericAxisId:n,cateAxisId:i,items:[]};A.items.push(h),E.hasStack=!0,E.stackGroups[m]=A}else E.stackGroups[Cd("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return Ir(Ir({},f),{},Df({},b,E))},u),c={};return Object.keys(l).reduce(function(f,h){var v=l[h];if(v.hasStack){var g={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(m,_){var b=v.stackGroups[_];return Ir(Ir({},m),{},Df({},_,{numericAxisId:n,cateAxisId:i,items:b.items,stackedData:qde(e,b.items,a)}))},g)}return Ir(Ir({},f),{},Df({},h,v))},c)},ez=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,u=n||r.scale;if(u!=="auto"&&u!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var l=e.domain();if(!l.length)return null;var c=ide(l,a,s);return e.domain([X_(c),K_(c)]),{niceTicks:c}}if(a&&i==="number"){var f=e.domain(),h=ade(f,a,s);return{niceTicks:h}}return null};function yL(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ht(i[e.dataKey])){var s=$y(r,"value",i[e.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var u=rn(i,ht(o)?e.dataKey:o);return ht(u)?null:e.scale(u)}var _L=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var u=rn(o,r.dataKey,r.domain[s]);return ht(u)?null:r.scale(u)-a/2+i},Wde=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},Hde=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ir(Ir({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(an(a)){var o=r[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},Gde=function(e){return e.reduce(function(r,n){return[X_(n.concat([r[0]]).filter(Ne)),K_(n.concat([r[1]]).filter(Ne))]},[1/0,-1/0])},tz=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,u=s.reduce(function(l,c){var f=Gde(c.slice(r,n+1));return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},wL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kT=function(e,r,n){if(st(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Ne(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(wL.test(e[0])){var a=+wL.exec(e[0])[1];i[0]=r[0]-a}else st(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Ne(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(xL.test(e[1])){var o=+xL.exec(e[1])[1];i[1]=r[1]+o}else st(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},f1=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=$_(r,function(f){return f.coordinate}),o=1/0,s=1,u=a.length;s<u;s++){var l=a[s],c=a[s-1];o=Math.min((l.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},bL=function(e,r,n){return!e||!e.length||kd(e,Yi(n,"type.defaultProps.domain"))?r:e},rz=function(e,r){var n=e.type.defaultProps?Ir(Ir({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,u=n.tooltipType,l=n.chartType,c=n.hide;return Ir(Ir({},et(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:KP(e),value:rn(r,i),type:u,payload:r,chartType:l,hide:c})};function sv(t){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sv(t)}function EL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ns(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EL(Object(r),!0).forEach(function(n){nz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nz(t,e,r){return e=Kde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kde(t){var e=Xde(t,"string");return sv(e)=="symbol"?e:e+""}function Xde(t,e){if(sv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yde(t,e){return ehe(t)||Jde(t,e)||Zde(t,e)||Qde()}function Qde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zde(t,e){if(t){if(typeof t=="string")return AL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AL(t,e)}}function AL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Jde(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function ehe(t){if(Array.isArray(t))return t}var d1=Math.PI/180,the=function(e){return e*180/Math.PI},sr=function(e,r,n,i){return{x:e+Math.cos(-d1*i)*n,y:r+Math.sin(-d1*i)*n}},iz=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},rhe=function(e,r,n,i,a){var o=e.width,s=e.height,u=e.startAngle,l=e.endAngle,c=di(e.cx,o,o/2),f=di(e.cy,s,s/2),h=iz(o,s,n),v=di(e.innerRadius,h,0),g=di(e.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(_,b){var E=r[b],A=E.domain,C=E.reversed,O;if(ht(E.range))i==="angleAxis"?O=[u,l]:i==="radiusAxis"&&(O=[v,g]),C&&(O=[O[1],O[0]]);else{O=E.range;var R=O,I=Yde(R,2);u=I[0],l=I[1]}var S=Zq(E,a),T=S.realScaleType,D=S.scale;D.domain(A).range(O),Jq(D);var L=ez(D,ns(ns({},E),{},{realScaleType:T})),F=ns(ns(ns({},E),L),{},{range:O,radius:g,realScaleType:T,scale:D,cx:c,cy:f,innerRadius:v,outerRadius:g,startAngle:u,endAngle:l});return ns(ns({},_),{},nz({},b,F))},{})},nhe=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},ihe=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,s=nhe({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var u=(n-a)/s,l=Math.acos(u);return i>o&&(l=2*Math.PI-l),{radius:s,angle:the(l),angleInRadian:l}},ahe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},ohe=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},SL=function(e,r){var n=e.x,i=e.y,a=ihe({x:n,y:i},r),o=a.radius,s=a.angle,u=r.innerRadius,l=r.outerRadius;if(o<u||o>l)return!1;if(o===0)return!0;var c=ahe(r),f=c.startAngle,h=c.endAngle,v=s,g;if(f<=h){for(;v>h;)v-=360;for(;v<f;)v+=360;g=v>=f&&v<=h}else{for(;v>f;)v-=360;for(;v<h;)v+=360;g=v>=h&&v<=f}return g?ns(ns({},r),{},{radius:o,angle:ohe(v,r)}):null},az=function(e){return!z.isValidElement(e)&&!st(e)&&typeof e!="boolean"?e.className:""};function uv(t){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uv(t)}var she=["offset"];function uhe(t){return dhe(t)||fhe(t)||che(t)||lhe()}function lhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function che(t,e){if(t){if(typeof t=="string")return MT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MT(t,e)}}function fhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dhe(t){if(Array.isArray(t))return MT(t)}function MT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hhe(t,e){if(t==null)return{};var r=phe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function phe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function OL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OL(Object(r),!0).forEach(function(n){vhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vhe(t,e,r){return e=ghe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ghe(t){var e=mhe(t,"string");return uv(e)=="symbol"?e:e+""}function mhe(t,e){if(uv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lv(){return lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lv.apply(this,arguments)}var yhe=function(e){var r=e.value,n=e.formatter,i=ht(e.children)?r:e.children;return st(n)?n(i):i},_he=function(e,r){var n=fi(r-e),i=Math.min(Math.abs(r-e),360);return n*i},whe=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,u=a,l=u.cx,c=u.cy,f=u.innerRadius,h=u.outerRadius,v=u.startAngle,g=u.endAngle,m=u.clockWise,_=(f+h)/2,b=_he(v,g),E=b>=0?1:-1,A,C;i==="insideStart"?(A=v+E*o,C=m):i==="insideEnd"?(A=g-E*o,C=!m):i==="end"&&(A=g+E*o,C=m),C=b<=0?C:!C;var O=sr(l,c,_,A),R=sr(l,c,_,A+(C?1:-1)*359),I="M".concat(O.x,",").concat(O.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(C?0:1,`,
    `).concat(R.x,",").concat(R.y),S=ht(e.id)?Cd("recharts-radial-line-"):e.id;return $.createElement("text",lv({},n,{dominantBaseline:"central",className:yt("recharts-radial-bar-label",s)}),$.createElement("defs",null,$.createElement("path",{id:S,d:I})),$.createElement("textPath",{xlinkHref:"#".concat(S)},r))},xhe=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,s=a.cy,u=a.innerRadius,l=a.outerRadius,c=a.startAngle,f=a.endAngle,h=(c+f)/2;if(i==="outside"){var v=sr(o,s,l+n,h),g=v.x,m=v.y;return{x:g,y:m,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var _=(u+l)/2,b=sr(o,s,_,h),E=b.x,A=b.y;return{x:E,y:A,textAnchor:"middle",verticalAnchor:"middle"}},bhe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,s=o.x,u=o.y,l=o.width,c=o.height,f=c>=0?1:-1,h=f*i,v=f>0?"end":"start",g=f>0?"start":"end",m=l>=0?1:-1,_=m*i,b=m>0?"end":"start",E=m>0?"start":"end";if(a==="top"){var A={x:s+l/2,y:u-f*i,textAnchor:"middle",verticalAnchor:v};return Qr(Qr({},A),n?{height:Math.max(u-n.y,0),width:l}:{})}if(a==="bottom"){var C={x:s+l/2,y:u+c+h,textAnchor:"middle",verticalAnchor:g};return Qr(Qr({},C),n?{height:Math.max(n.y+n.height-(u+c),0),width:l}:{})}if(a==="left"){var O={x:s-_,y:u+c/2,textAnchor:b,verticalAnchor:"middle"};return Qr(Qr({},O),n?{width:Math.max(O.x-n.x,0),height:c}:{})}if(a==="right"){var R={x:s+l+_,y:u+c/2,textAnchor:E,verticalAnchor:"middle"};return Qr(Qr({},R),n?{width:Math.max(n.x+n.width-R.x,0),height:c}:{})}var I=n?{width:l,height:c}:{};return a==="insideLeft"?Qr({x:s+_,y:u+c/2,textAnchor:E,verticalAnchor:"middle"},I):a==="insideRight"?Qr({x:s+l-_,y:u+c/2,textAnchor:b,verticalAnchor:"middle"},I):a==="insideTop"?Qr({x:s+l/2,y:u+h,textAnchor:"middle",verticalAnchor:g},I):a==="insideBottom"?Qr({x:s+l/2,y:u+c-h,textAnchor:"middle",verticalAnchor:v},I):a==="insideTopLeft"?Qr({x:s+_,y:u+h,textAnchor:E,verticalAnchor:g},I):a==="insideTopRight"?Qr({x:s+l-_,y:u+h,textAnchor:b,verticalAnchor:g},I):a==="insideBottomLeft"?Qr({x:s+_,y:u+c-h,textAnchor:E,verticalAnchor:v},I):a==="insideBottomRight"?Qr({x:s+l-_,y:u+c-h,textAnchor:b,verticalAnchor:v},I):Td(a)&&(Ne(a.x)||Al(a.x))&&(Ne(a.y)||Al(a.y))?Qr({x:s+di(a.x,l),y:u+di(a.y,c),textAnchor:"end",verticalAnchor:"end"},I):Qr({x:s+l/2,y:u+c/2,textAnchor:"middle",verticalAnchor:"middle"},I)},Ehe=function(e){return"cx"in e&&Ne(e.cx)};function _n(t){var e=t.offset,r=e===void 0?5:e,n=hhe(t,she),i=Qr({offset:r},n),a=i.viewBox,o=i.position,s=i.value,u=i.children,l=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!a||ht(s)&&ht(u)&&!z.isValidElement(l)&&!st(l))return null;if(z.isValidElement(l))return z.cloneElement(l,i);var v;if(st(l)){if(v=z.createElement(l,i),z.isValidElement(v))return v}else v=yhe(i);var g=Ehe(a),m=et(i,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return whe(i,v,m);var _=g?xhe(i):bhe(i);return $.createElement(Gl,lv({className:yt("recharts-label",f)},m,_,{breakAll:h}),v)}_n.displayName="Label";var oz=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,u=e.radius,l=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,v=e.top,g=e.left,m=e.width,_=e.height,b=e.clockWise,E=e.labelViewBox;if(E)return E;if(Ne(m)&&Ne(_)){if(Ne(f)&&Ne(h))return{x:f,y:h,width:m,height:_};if(Ne(v)&&Ne(g))return{x:v,y:g,width:m,height:_}}return Ne(f)&&Ne(h)?{x:f,y:h,width:0,height:0}:Ne(r)&&Ne(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:l||0,outerRadius:c||u||s||0,clockWise:b}:e.viewBox?e.viewBox:{}},Ahe=function(e,r){return e?e===!0?$.createElement(_n,{key:"label-implicit",viewBox:r}):an(e)?$.createElement(_n,{key:"label-implicit",viewBox:r,value:e}):z.isValidElement(e)?e.type===_n?z.cloneElement(e,{key:"label-implicit",viewBox:r}):$.createElement(_n,{key:"label-implicit",content:e,viewBox:r}):st(e)?$.createElement(_n,{key:"label-implicit",content:e,viewBox:r}):Td(e)?$.createElement(_n,lv({viewBox:r},e,{key:"label-implicit"})):null:null},She=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=oz(e),o=Qi(i,_n).map(function(u,l){return z.cloneElement(u,{viewBox:r||a,key:"label-".concat(l)})});if(!n)return o;var s=Ahe(e.label,r||a);return[s].concat(uhe(o))};_n.parseViewBox=oz;_n.renderCallByParent=She;var VA,TL;function sz(){if(TL)return VA;TL=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return VA=t,VA}var Ohe=sz();const The=_t(Ohe);function cv(t){"@babel/helpers - typeof";return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cv(t)}var Che=["valueAccessor"],Ihe=["data","dataKey","clockWise","id","textBreakAll"];function Phe(t){return khe(t)||Nhe(t)||Dhe(t)||Rhe()}function Rhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dhe(t,e){if(t){if(typeof t=="string")return LT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LT(t,e)}}function Nhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function khe(t){if(Array.isArray(t))return LT(t)}function LT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function h1(){return h1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h1.apply(this,arguments)}function CL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function IL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CL(Object(r),!0).forEach(function(n){Mhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mhe(t,e,r){return e=Lhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lhe(t){var e=jhe(t,"string");return cv(e)=="symbol"?e:e+""}function jhe(t,e){if(cv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PL(t,e){if(t==null)return{};var r=Fhe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Bhe=function(e){return Array.isArray(e.value)?The(e.value):e.value};function ps(t){var e=t.valueAccessor,r=e===void 0?Bhe:e,n=PL(t,Che),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,u=n.textBreakAll,l=PL(n,Ihe);return!i||!i.length?null:$.createElement(Lt,{className:"recharts-label-list"},i.map(function(c,f){var h=ht(a)?r(c,f):rn(c&&c.payload,a),v=ht(s)?{}:{id:"".concat(s,"-").concat(f)};return $.createElement(_n,h1({},et(c,!0),l,v,{parentViewBox:c.parentViewBox,value:h,textBreakAll:u,viewBox:_n.parseViewBox(ht(o)?c:IL(IL({},c),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}ps.displayName="LabelList";function $he(t,e){return t?t===!0?$.createElement(ps,{key:"labelList-implicit",data:e}):$.isValidElement(t)||st(t)?$.createElement(ps,{key:"labelList-implicit",data:e,content:t}):Td(t)?$.createElement(ps,h1({data:e},t,{key:"labelList-implicit"})):null:null}function Uhe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Qi(n,ps).map(function(o,s){return z.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var a=$he(t.label,e);return[a].concat(Phe(i))}ps.renderCallByParent=Uhe;function fv(t){"@babel/helpers - typeof";return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fv(t)}function jT(){return jT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jT.apply(this,arguments)}function RL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RL(Object(r),!0).forEach(function(n){Vhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vhe(t,e,r){return e=qhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qhe(t){var e=zhe(t,"string");return fv(e)=="symbol"?e:e+""}function zhe(t,e){if(fv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Whe=function(e,r){var n=fi(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},em=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,u=e.cornerRadius,l=e.cornerIsExternal,c=u*(s?1:-1)+i,f=Math.asin(u/c)/d1,h=l?a:a+o*f,v=sr(r,n,c,h),g=sr(r,n,i,h),m=l?a-o*f:a,_=sr(r,n,c*Math.cos(f*d1),m);return{center:v,circleTangency:g,lineTangency:_,theta:f}},uz=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,u=Whe(o,s),l=o+u,c=sr(r,n,a,o),f=sr(r,n,a,l),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>l),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var v=sr(r,n,i,o),g=sr(r,n,i,l);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=l),`,
            `).concat(v.x,",").concat(v.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Hhe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,u=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,f=fi(c-l),h=em({cx:r,cy:n,radius:a,angle:l,sign:f,cornerRadius:o,cornerIsExternal:u}),v=h.circleTangency,g=h.lineTangency,m=h.theta,_=em({cx:r,cy:n,radius:a,angle:c,sign:-f,cornerRadius:o,cornerIsExternal:u}),b=_.circleTangency,E=_.lineTangency,A=_.theta,C=u?Math.abs(l-c):Math.abs(l-c)-m-A;if(C<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):uz({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:l,endAngle:c});var O="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
  `);if(i>0){var R=em({cx:r,cy:n,radius:i,angle:l,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),I=R.circleTangency,S=R.lineTangency,T=R.theta,D=em({cx:r,cy:n,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),L=D.circleTangency,F=D.lineTangency,j=D.theta,K=u?Math.abs(l-c):Math.abs(l-c)-T-j;if(K<0&&o===0)return"".concat(O,"L").concat(r,",").concat(n,"Z");O+="L".concat(F.x,",").concat(F.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(K>180),",").concat(+(f>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else O+="L".concat(r,",").concat(n,"Z");return O},Ghe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},lz=function(e){var r=DL(DL({},Ghe),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,u=r.forceCornerRadius,l=r.cornerIsExternal,c=r.startAngle,f=r.endAngle,h=r.className;if(o<a||c===f)return null;var v=yt("recharts-sector",h),g=o-a,m=di(s,g,0,!0),_;return m>0&&Math.abs(c-f)<360?_=Hhe({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(m,g/2),forceCornerRadius:u,cornerIsExternal:l,startAngle:c,endAngle:f}):_=uz({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f}),$.createElement("path",jT({},et(r,!0),{className:v,d:_,role:"img"}))};function dv(t){"@babel/helpers - typeof";return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dv(t)}function FT(){return FT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FT.apply(this,arguments)}function NL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NL(Object(r),!0).forEach(function(n){Khe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Khe(t,e,r){return e=Xhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xhe(t){var e=Yhe(t,"string");return dv(e)=="symbol"?e:e+""}function Yhe(t,e){if(dv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ML={curveBasisClosed:Iae,curveBasisOpen:Pae,curveBasis:Cae,curveBumpX:pae,curveBumpY:vae,curveLinearClosed:Rae,curveLinear:k_,curveMonotoneX:Dae,curveMonotoneY:Nae,curveNatural:kae,curveStep:Mae,curveStepAfter:jae,curveStepBefore:Lae},tm=function(e){return e.x===+e.x&&e.y===+e.y},Lh=function(e){return e.x},jh=function(e){return e.y},Qhe=function(e,r){if(st(e))return e;var n="curve".concat(D_(e));return(n==="curveMonotone"||n==="curveBump")&&r?ML["".concat(n).concat(r==="vertical"?"Y":"X")]:ML[n]||k_},Zhe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,u=e.connectNulls,l=u===void 0?!1:u,c=Qhe(n,s),f=l?a.filter(function(m){return tm(m)}):a,h;if(Array.isArray(o)){var v=l?o.filter(function(m){return tm(m)}):o,g=f.map(function(m,_){return kL(kL({},m),{},{base:v[_]})});return s==="vertical"?h=Hg().y(jh).x1(Lh).x0(function(m){return m.base.x}):h=Hg().x(Lh).y1(jh).y0(function(m){return m.base.y}),h.defined(tm).curve(c),h(g)}return s==="vertical"&&Ne(o)?h=Hg().y(jh).x1(Lh).x0(o):Ne(o)?h=Hg().x(Lh).y1(jh).y0(o):h=aV().x(Lh).y(jh),h.defined(tm).curve(c),h(f)},p1=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Zhe(e):i;return z.createElement("path",FT({},et(e,!1),Uy(e),{className:yt("recharts-curve",r),d:o,ref:a}))},qA={exports:{}},zA,LL;function Jhe(){if(LL)return zA;LL=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return zA=t,zA}var WA,jL;function epe(){if(jL)return WA;jL=1;var t=Jhe();function e(){}function r(){}return r.resetWarningCache=e,WA=function(){function n(o,s,u,l,c,f){if(f!==t){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},WA}var FL;function tpe(){return FL||(FL=1,qA.exports=epe()()),qA.exports}var rpe=tpe();const _e=_t(rpe);var npe=Object.getOwnPropertyNames,ipe=Object.getOwnPropertySymbols,ape=Object.prototype.hasOwnProperty;function BL(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function rm(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var u=t(r,n,i);return a.delete(r),a.delete(n),u}}function $L(t){return npe(t).concat(ipe(t))}var ope=Object.hasOwn||function(t,e){return ape.call(t,e)};function pc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var spe="__v",upe="__o",lpe="_owner",UL=Object.getOwnPropertyDescriptor,VL=Object.keys;function cpe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function fpe(t,e){return pc(t.getTime(),e.getTime())}function dpe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function hpe(t,e){return t===e}function qL(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),o,s,u=0;(o=a.next())&&!o.done;){for(var l=e.entries(),c=!1,f=0;(s=l.next())&&!s.done;){if(i[f]){f++;continue}var h=o.value,v=s.value;if(r.equals(h[0],v[0],u,f,t,e,r)&&r.equals(h[1],v[1],h[0],v[0],t,e,r)){c=i[f]=!0;break}f++}if(!c)return!1;u++}return!0}var ppe=pc;function vpe(t,e,r){var n=VL(t),i=n.length;if(VL(e).length!==i)return!1;for(;i-- >0;)if(!cz(t,e,r,n[i]))return!1;return!0}function Fh(t,e,r){var n=$L(t),i=n.length;if($L(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],!cz(t,e,r,a)||(o=UL(t,a),s=UL(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function gpe(t,e){return pc(t.valueOf(),e.valueOf())}function mpe(t,e){return t.source===e.source&&t.flags===e.flags}function zL(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var u=e.values(),l=!1,c=0;(s=u.next())&&!s.done;){if(!i[c]&&r.equals(o.value,s.value,o.value,s.value,t,e,r)){l=i[c]=!0;break}c++}if(!l)return!1}return!0}function ype(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function _pe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function cz(t,e,r,n){return(n===lpe||n===upe||n===spe)&&(t.$$typeof||e.$$typeof)?!0:ope(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var wpe="[object Arguments]",xpe="[object Boolean]",bpe="[object Date]",Epe="[object Error]",Ape="[object Map]",Spe="[object Number]",Ope="[object Object]",Tpe="[object RegExp]",Cpe="[object Set]",Ipe="[object String]",Ppe="[object URL]",Rpe=Array.isArray,WL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,HL=Object.assign,Dpe=Object.prototype.toString.call.bind(Object.prototype.toString);function Npe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,u=t.arePrimitiveWrappersEqual,l=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(g,m,_){if(g===m)return!0;if(g==null||m==null)return!1;var b=typeof g;if(b!==typeof m)return!1;if(b!=="object")return b==="number"?o(g,m,_):b==="function"?i(g,m,_):!1;var E=g.constructor;if(E!==m.constructor)return!1;if(E===Object)return s(g,m,_);if(Rpe(g))return e(g,m,_);if(WL!=null&&WL(g))return f(g,m,_);if(E===Date)return r(g,m,_);if(E===RegExp)return l(g,m,_);if(E===Map)return a(g,m,_);if(E===Set)return c(g,m,_);var A=Dpe(g);return A===bpe?r(g,m,_):A===Tpe?l(g,m,_):A===Ape?a(g,m,_):A===Cpe?c(g,m,_):A===Ope?typeof g.then!="function"&&typeof m.then!="function"&&s(g,m,_):A===Ppe?h(g,m,_):A===Epe?n(g,m,_):A===wpe?s(g,m,_):A===xpe||A===Spe||A===Ipe?u(g,m,_):!1}}function kpe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Fh:cpe,areDatesEqual:fpe,areErrorsEqual:dpe,areFunctionsEqual:hpe,areMapsEqual:n?BL(qL,Fh):qL,areNumbersEqual:ppe,areObjectsEqual:n?Fh:vpe,arePrimitiveWrappersEqual:gpe,areRegExpsEqual:mpe,areSetsEqual:n?BL(zL,Fh):zL,areTypedArraysEqual:n?Fh:ype,areUrlsEqual:_pe};if(r&&(i=HL({},i,r(i))),e){var a=rm(i.areArraysEqual),o=rm(i.areMapsEqual),s=rm(i.areObjectsEqual),u=rm(i.areSetsEqual);i=HL({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:u})}return i}function Mpe(t){return function(e,r,n,i,a,o,s){return t(e,r,s)}}function Lpe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(u,l){var c=n(),f=c.cache,h=f===void 0?e?new WeakMap:void 0:f,v=c.meta;return r(u,l,{cache:h,equals:i,meta:v,strict:a})};if(e)return function(u,l){return r(u,l,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(u,l){return r(u,l,o)}}var jpe=ku();ku({strict:!0});ku({circular:!0});ku({circular:!0,strict:!0});ku({createInternalComparator:function(){return pc}});ku({strict:!0,createInternalComparator:function(){return pc}});ku({circular:!0,createInternalComparator:function(){return pc}});ku({circular:!0,createInternalComparator:function(){return pc},strict:!0});function ku(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=kpe(t),u=Npe(s),l=n?n(u):Mpe(u);return Lpe({circular:r,comparator:u,createState:i,equals:l,strict:o})}function Fpe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function GL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):Fpe(i)};requestAnimationFrame(n)}function BT(t){"@babel/helpers - typeof";return BT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BT(t)}function Bpe(t){return qpe(t)||Vpe(t)||Upe(t)||$pe()}function $pe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Upe(t,e){if(t){if(typeof t=="string")return KL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KL(t,e)}}function KL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qpe(t){if(Array.isArray(t))return t}function zpe(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=Bpe(o),u=s[0],l=s.slice(1);if(typeof u=="number"){GL(i.bind(null,l),u);return}i(u),GL(i.bind(null,l));return}BT(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function hv(t){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hv(t)}function XL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XL(Object(r),!0).forEach(function(n){fz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fz(t,e,r){return e=Wpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wpe(t){var e=Hpe(t,"string");return hv(e)==="symbol"?e:String(e)}function Hpe(t,e){if(hv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gpe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Kpe=function(e){return e},Xpe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ep=function(e,r){return Object.keys(r).reduce(function(n,i){return YL(YL({},n),{},fz({},i,e(i,r[i])))},{})},QL=function(e,r,n){return e.map(function(i){return"".concat(Xpe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Ype(t,e){return Jpe(t)||Zpe(t,e)||dz(t,e)||Qpe()}function Qpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function Jpe(t){if(Array.isArray(t))return t}function eve(t){return nve(t)||rve(t)||dz(t)||tve()}function tve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dz(t,e){if(t){if(typeof t=="string")return $T(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $T(t,e)}}function rve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nve(t){if(Array.isArray(t))return $T(t)}function $T(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var v1=1e-4,hz=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},pz=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},ZL=function(e,r){return function(n){var i=hz(e,r);return pz(i,n)}},ive=function(e,r){return function(n){var i=hz(e,r),a=[].concat(eve(i.map(function(o,s){return o*s}).slice(1)),[0]);return pz(a,n)}},JL=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var u=r[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var l=u[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),c=Ype(l,4);i=c[0],a=c[1],o=c[2],s=c[3]}}}var f=ZL(i,o),h=ZL(a,s),v=ive(i,o),g=function(b){return b>1?1:b<0?0:b},m=function(b){for(var E=b>1?1:b,A=E,C=0;C<8;++C){var O=f(A)-E,R=v(A);if(Math.abs(O-E)<v1||R<v1)return h(A);A=g(A-O/R)}return h(A)};return m.isStepper=!1,m},ave=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,u=function(c,f,h){var v=-(c-f)*n,g=h*a,m=h+(v-g)*s/1e3,_=h*s/1e3+c;return Math.abs(_-f)<v1&&Math.abs(m)<v1?[f,0]:[_,m]};return u.isStepper=!0,u.dt=s,u},ove=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return JL(i);case"spring":return ave();default:if(i.split("(")[0]==="cubic-bezier")return JL(i)}return typeof i=="function"?i:null};function pv(t){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pv(t)}function ej(t){return lve(t)||uve(t)||vz(t)||sve()}function sve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lve(t){if(Array.isArray(t))return VT(t)}function tj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function In(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tj(Object(r),!0).forEach(function(n){UT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UT(t,e,r){return e=cve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cve(t){var e=fve(t,"string");return pv(e)==="symbol"?e:String(e)}function fve(t,e){if(pv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dve(t,e){return vve(t)||pve(t,e)||vz(t,e)||hve()}function hve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vz(t,e){if(t){if(typeof t=="string")return VT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VT(t,e)}}function VT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function vve(t){if(Array.isArray(t))return t}var g1=function(e,r,n){return e+(r-e)*n},qT=function(e){var r=e.from,n=e.to;return r!==n},gve=function t(e,r,n){var i=Ep(function(a,o){if(qT(o)){var s=e(o.from,o.to,o.velocity),u=dve(s,2),l=u[0],c=u[1];return In(In({},o),{},{from:l,velocity:c})}return o},r);return n<1?Ep(function(a,o){return qT(o)?In(In({},o),{},{velocity:g1(o.velocity,i[a].velocity,n),from:g1(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const mve=function(t,e,r,n,i){var a=Gpe(t,e),o=a.reduce(function(_,b){return In(In({},_),{},UT({},b,[t[b],e[b]]))},{}),s=a.reduce(function(_,b){return In(In({},_),{},UT({},b,{from:t[b],velocity:0,to:e[b]}))},{}),u=-1,l,c,f=function(){return null},h=function(){return Ep(function(b,E){return E.from},s)},v=function(){return!Object.values(s).filter(qT).length},g=function(b){l||(l=b);var E=b-l,A=E/r.dt;s=gve(r,s,A),i(In(In(In({},t),e),h())),l=b,v()||(u=requestAnimationFrame(f))},m=function(b){c||(c=b);var E=(b-c)/n,A=Ep(function(O,R){return g1.apply(void 0,ej(R).concat([r(E)]))},o);if(i(In(In(In({},t),e),A)),E<1)u=requestAnimationFrame(f);else{var C=Ep(function(O,R){return g1.apply(void 0,ej(R).concat([r(1)]))},o);i(In(In(In({},t),e),C))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(u)}}};function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}var yve=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _ve(t,e){if(t==null)return{};var r=wve(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wve(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function HA(t){return Ave(t)||Eve(t)||bve(t)||xve()}function xve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bve(t,e){if(t){if(typeof t=="string")return zT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zT(t,e)}}function Eve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ave(t){if(Array.isArray(t))return zT(t)}function zT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function za(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rj(Object(r),!0).forEach(function(n){up(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function up(t,e,r){return e=gz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ove(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gz(n.key),n)}}function Tve(t,e,r){return e&&Ove(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gz(t){var e=Cve(t,"string");return Yf(e)==="symbol"?e:String(e)}function Cve(t,e){if(Yf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ive(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WT(t,e)}function WT(t,e){return WT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WT(t,e)}function Pve(t){var e=Rve();return function(){var n=m1(t),i;if(e){var a=m1(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return HT(this,i)}}function HT(t,e){if(e&&(Yf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GT(t)}function GT(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m1(t){return m1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m1(t)}var Mo=function(t){Ive(r,t);var e=Pve(r);function r(n,i){var a;Sve(this,r),a=e.call(this,n,i);var o=a.props,s=o.isActive,u=o.attributeName,l=o.from,c=o.to,f=o.steps,h=o.children,v=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(GT(a)),a.changeStyle=a.changeStyle.bind(GT(a)),!s||v<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:c}),HT(a);if(f&&f.length)a.state={style:f[0].style};else if(l){if(typeof h=="function")return a.state={style:l},HT(a);a.state={style:u?up({},u,l):l}}else a.state={style:{}};return a}return Tve(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,u=a.attributeName,l=a.shouldReAnimate,c=a.to,f=a.from,h=this.state.style;if(s){if(!o){var v={style:u?up({},u,c):c};this.state&&h&&(u&&h[u]!==c||!u&&h!==c)&&this.setState(v);return}if(!(jpe(i.to,c)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||l?f:i.to;if(this.state&&h){var _={style:u?up({},u,m):m};(u&&h[u]!==m||!u&&h!==m)&&this.setState(_)}this.runAnimation(za(za({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,u=i.duration,l=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,v=mve(o,s,ove(l),u,this.changeStyle),g=function(){a.stopJSAnimation=v()};this.manager.start([h,c,g,u,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,u=i.onAnimationStart,l=o[0],c=l.style,f=l.duration,h=f===void 0?0:f,v=function(m,_,b){if(b===0)return m;var E=_.duration,A=_.easing,C=A===void 0?"ease":A,O=_.style,R=_.properties,I=_.onAnimationEnd,S=b>0?o[b-1]:_,T=R||Object.keys(O);if(typeof C=="function"||C==="spring")return[].concat(HA(m),[a.runJSAnimation.bind(a,{from:S.style,to:O,duration:E,easing:C}),E]);var D=QL(T,E,C),L=za(za(za({},S.style),O),{},{transition:D});return[].concat(HA(m),[L,E,I]).filter(Kpe)};return this.manager.start([u].concat(HA(o.reduce(v,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=zpe());var a=i.begin,o=i.duration,s=i.attributeName,u=i.to,l=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,v=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof l=="function"||typeof v=="function"||l==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var m=s?up({},s,u):u,_=QL(Object.keys(m),o,l);g.start([c,a,za(za({},m),{},{transition:_}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var u=_ve(i,yve),l=z.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!s||l===0||o<=0)return a;var f=function(v){var g=v.props,m=g.style,_=m===void 0?{}:m,b=g.className,E=z.cloneElement(v,za(za({},u),{},{style:za(za({},_),c),className:b}));return E};return l===1?f(z.Children.only(a)):$.createElement("div",null,z.Children.map(a,function(h){return f(h)}))}}]),r}(z.PureComponent);Mo.displayName="Animate";Mo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Mo.propTypes={from:_e.oneOfType([_e.object,_e.string]),to:_e.oneOfType([_e.object,_e.string]),attributeName:_e.string,duration:_e.number,begin:_e.number,easing:_e.oneOfType([_e.string,_e.func]),steps:_e.arrayOf(_e.shape({duration:_e.number.isRequired,style:_e.object.isRequired,easing:_e.oneOfType([_e.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),_e.func]),properties:_e.arrayOf("string"),onAnimationEnd:_e.func})),children:_e.oneOfType([_e.node,_e.func]),isActive:_e.bool,canBegin:_e.bool,onAnimationEnd:_e.func,shouldReAnimate:_e.bool,onAnimationStart:_e.func,onAnimationReStart:_e.func};function Pr(){return Pr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pr.apply(null,arguments)}function Z_(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function y1(t,e){return y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},y1(t,e)}function Dve(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,y1(t,e)}function Nve(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function kve(t,e){t.classList?t.classList.add(e):Nve(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function nj(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Mve(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=nj(t.className,e):t.setAttribute("class",nj(t.className&&t.className.baseVal||"",e))}function Lve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vv(t){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vv(t)}function _1(){return _1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_1.apply(this,arguments)}function jve(t,e){return Uve(t)||$ve(t,e)||Bve(t,e)||Fve()}function Fve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bve(t,e){if(t){if(typeof t=="string")return ij(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ij(t,e)}}function ij(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $ve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function Uve(t){if(Array.isArray(t))return t}function aj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aj(Object(r),!0).forEach(function(n){Vve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vve(t,e,r){return e=qve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qve(t){var e=zve(t,"string");return vv(e)=="symbol"?e:e+""}function zve(t,e){if(vv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sj=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,u=n>=0?1:-1,l=i>=0&&n>=0||i<0&&n<0?1:0,c;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,v=4;h<v;h++)f[h]=a[h]>o?o:a[h];c="M".concat(e,",").concat(r+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(l,",").concat(e+u*f[0],",").concat(r)),c+="L ".concat(e+n-u*f[1],",").concat(r),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(l,`,
        `).concat(e+n,",").concat(r+s*f[1])),c+="L ".concat(e+n,",").concat(r+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(l,`,
        `).concat(e+n-u*f[2],",").concat(r+i)),c+="L ".concat(e+u*f[3],",").concat(r+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(r+i-s*f[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var g=Math.min(o,a);c="M ".concat(e,",").concat(r+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(l,",").concat(e+u*g,",").concat(r,`
            L `).concat(e+n-u*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(l,",").concat(e+n,",").concat(r+s*g,`
            L `).concat(e+n,",").concat(r+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(l,",").concat(e+n-u*g,",").concat(r+i,`
            L `).concat(e+u*g,",").concat(r+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(l,",").concat(e,",").concat(r+i-s*g," Z")}else c="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return c},Wve=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,s=r.width,u=r.height;if(Math.abs(s)>0&&Math.abs(u)>0){var l=Math.min(a,a+s),c=Math.max(a,a+s),f=Math.min(o,o+u),h=Math.max(o,o+u);return n>=l&&n<=c&&i>=f&&i<=h}return!1},Hve={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},XP=function(e){var r=oj(oj({},Hve),e),n=z.useRef(),i=z.useState(-1),a=jve(i,2),o=a[0],s=a[1];z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&s(C)}catch{}},[]);var u=r.x,l=r.y,c=r.width,f=r.height,h=r.radius,v=r.className,g=r.animationEasing,m=r.animationDuration,_=r.animationBegin,b=r.isAnimationActive,E=r.isUpdateAnimationActive;if(u!==+u||l!==+l||c!==+c||f!==+f||c===0||f===0)return null;var A=yt("recharts-rectangle",v);return E?$.createElement(Mo,{canBegin:o>0,from:{width:c,height:f,x:u,y:l},to:{width:c,height:f,x:u,y:l},duration:m,animationEasing:g,isActive:E},function(C){var O=C.width,R=C.height,I=C.x,S=C.y;return $.createElement(Mo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:m,isActive:b,easing:g},$.createElement("path",_1({},et(r,!0),{className:A,d:sj(I,S,O,R,h),ref:n})))}):$.createElement("path",_1({},et(r,!0),{className:A,d:sj(u,l,c,f,h)}))},Gve=["points","className","baseLinePoints","connectNulls"];function yf(){return yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yf.apply(this,arguments)}function Kve(t,e){if(t==null)return{};var r=Xve(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xve(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uj(t){return Jve(t)||Zve(t)||Qve(t)||Yve()}function Yve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qve(t,e){if(t){if(typeof t=="string")return KT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KT(t,e)}}function Zve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jve(t){if(Array.isArray(t))return KT(t)}function KT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var lj=function(e){return e&&e.x===+e.x&&e.y===+e.y},e0e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){lj(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),lj(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Ap=function(e,r){var n=e0e(e);r&&(n=[n.reduce(function(a,o){return[].concat(uj(a),uj(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,s,u){return"".concat(o).concat(u===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},t0e=function(e,r,n){var i=Ap(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Ap(r.reverse(),n).slice(1))},r0e=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=Kve(e,Gve);if(!r||!r.length)return null;var s=yt("recharts-polygon",n);if(i&&i.length){var u=o.stroke&&o.stroke!=="none",l=t0e(r,i,a);return $.createElement("g",{className:s},$.createElement("path",yf({},et(o,!0),{fill:l.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:l})),u?$.createElement("path",yf({},et(o,!0),{fill:"none",d:Ap(r,a)})):null,u?$.createElement("path",yf({},et(o,!0),{fill:"none",d:Ap(i,a)})):null)}var c=Ap(r,a);return $.createElement("path",yf({},et(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",className:s,d:c}))};function XT(){return XT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XT.apply(this,arguments)}var J_=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=yt("recharts-dot",a);return r===+r&&n===+n&&i===+i?z.createElement("circle",XT({},et(e,!1),Uy(e),{className:o,cx:r,cy:n,r:i})):null};function gv(t){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gv(t)}var n0e=["x","y","top","left","width","height","className"];function YT(){return YT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},YT.apply(this,arguments)}function cj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function i0e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cj(Object(r),!0).forEach(function(n){a0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a0e(t,e,r){return e=o0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o0e(t){var e=s0e(t,"string");return gv(e)=="symbol"?e:e+""}function s0e(t,e){if(gv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u0e(t,e){if(t==null)return{};var r=l0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function l0e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var c0e=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},f0e=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,u=e.left,l=u===void 0?0:u,c=e.width,f=c===void 0?0:c,h=e.height,v=h===void 0?0:h,g=e.className,m=u0e(e,n0e),_=i0e({x:n,y:a,top:s,left:l,width:f,height:v},m);return!Ne(n)||!Ne(a)||!Ne(f)||!Ne(v)||!Ne(s)||!Ne(l)?null:$.createElement("path",YT({},et(_,!0),{className:yt("recharts-cross",g),d:c0e(n,a,f,v,s,l)}))},GA,fj;function d0e(){if(fj)return GA;fj=1;var t=G_(),e=Pq(),r=so();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return GA=n,GA}var h0e=d0e();const p0e=_t(h0e);var KA,dj;function v0e(){if(dj)return KA;dj=1;var t=G_(),e=so(),r=Rq();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return KA=n,KA}var g0e=v0e();const m0e=_t(g0e);var y0e=["cx","cy","angle","ticks","axisLine"],_0e=["ticks","tick","angle","tickFormatter","stroke"];function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function Sp(){return Sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sp.apply(this,arguments)}function hj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hj(Object(r),!0).forEach(function(n){ew(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pj(t,e){if(t==null)return{};var r=w0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function w0e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function x0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yz(n.key),n)}}function b0e(t,e,r){return e&&vj(t.prototype,e),r&&vj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function E0e(t,e,r){return e=w1(e),A0e(t,mz()?Reflect.construct(e,r||[],w1(t).constructor):e.apply(t,r))}function A0e(t,e){if(e&&(Qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S0e(t)}function S0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mz=function(){return!!t})()}function w1(t){return w1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},w1(t)}function O0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QT(t,e)}function QT(t,e){return QT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QT(t,e)}function ew(t,e,r){return e=yz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yz(t){var e=T0e(t,"string");return Qf(e)=="symbol"?e:e+""}function T0e(t,e){if(Qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tw=function(t){function e(){return x0e(this,e),E0e(this,e,arguments)}return O0e(e,t),b0e(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,s=a.cx,u=a.cy;return sr(s,u,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,u=p0e(s,function(c){return c.coordinate||0}),l=m0e(s,function(c){return c.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:l.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,u=n.axisLine,l=pj(n,y0e),c=s.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),f=sr(i,a,c[0],o),h=sr(i,a,c[1],o),v=cl(cl(cl({},et(l,!1)),{},{fill:"none"},et(u,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return $.createElement("line",Sp({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,u=i.tickFormatter,l=i.stroke,c=pj(i,_0e),f=this.getTickTextAnchor(),h=et(c,!1),v=et(o,!1),g=a.map(function(m,_){var b=n.getTickValueCoord(m),E=cl(cl(cl(cl({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:l},v),{},{index:_},b),{},{payload:m});return $.createElement(Lt,Sp({className:yt("recharts-polar-radius-axis-tick",az(o)),key:"tick-".concat(m.coordinate)},Hl(n.props,m,_)),e.renderTickItem(o,E,u?u(m.value,_):m.value))});return $.createElement(Lt,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:$.createElement(Lt,{className:yt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),_n.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return $.isValidElement(n)?o=$.cloneElement(n,i):st(n)?o=n(i):o=$.createElement(Gl,Sp({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(z.PureComponent);ew(tw,"displayName","PolarRadiusAxis");ew(tw,"axisType","radiusAxis");ew(tw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function xl(){return xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xl.apply(this,arguments)}function gj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gj(Object(r),!0).forEach(function(n){rw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wz(n.key),n)}}function I0e(t,e,r){return e&&mj(t.prototype,e),r&&mj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function P0e(t,e,r){return e=x1(e),R0e(t,_z()?Reflect.construct(e,r||[],x1(t).constructor):e.apply(t,r))}function R0e(t,e){if(e&&(Zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D0e(t)}function D0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _z(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_z=function(){return!!t})()}function x1(t){return x1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},x1(t)}function N0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZT(t,e)}function ZT(t,e){return ZT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZT(t,e)}function rw(t,e,r){return e=wz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wz(t){var e=k0e(t,"string");return Zf(e)=="symbol"?e:e+""}function k0e(t,e){if(Zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M0e=Math.PI/180,yj=1e-5,nw=function(t){function e(){return C0e(this,e),P0e(this,e,arguments)}return N0e(e,t),I0e(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,s=i.radius,u=i.orientation,l=i.tickSize,c=l||8,f=sr(a,o,s,n.coordinate),h=sr(a,o,s+(u==="inner"?-1:1)*c,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*M0e),o;return a>yj?o=i==="outer"?"start":"end":a<-yj?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,s=n.axisLine,u=n.axisLineType,l=fl(fl({},et(this.props,!1)),{},{fill:"none"},et(s,!1));if(u==="circle")return $.createElement(J_,xl({className:"recharts-polar-angle-axis-line"},l,{cx:i,cy:a,r:o}));var c=this.props.ticks,f=c.map(function(h){return sr(i,a,o,h.coordinate)});return $.createElement(r0e,xl({className:"recharts-polar-angle-axis-line"},l,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,u=i.tickFormatter,l=i.stroke,c=et(this.props,!1),f=et(o,!1),h=fl(fl({},c),{},{fill:"none"},et(s,!1)),v=a.map(function(g,m){var _=n.getTickLineCoord(g),b=n.getTickTextAnchor(g),E=fl(fl(fl({textAnchor:b},c),{},{stroke:"none",fill:l},f),{},{index:m,payload:g,x:_.x2,y:_.y2});return $.createElement(Lt,xl({className:yt("recharts-polar-angle-axis-tick",az(o)),key:"tick-".concat(g.coordinate)},Hl(n.props,g,m)),s&&$.createElement("line",xl({className:"recharts-polar-angle-axis-tick-line"},h,_)),o&&e.renderTickItem(o,E,u?u(g.value,m):g.value))});return $.createElement(Lt,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:$.createElement(Lt,{className:yt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return $.isValidElement(n)?o=$.cloneElement(n,i):st(n)?o=n(i):o=$.createElement(Gl,xl({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(z.PureComponent);rw(nw,"displayName","PolarAngleAxis");rw(nw,"axisType","angleAxis");rw(nw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var XA,_j;function iw(){if(_j)return XA;_j=1;var t=TV(),e=t(Object.getPrototypeOf,Object);return XA=e,XA}var YA,wj;function xz(){if(wj)return YA;wj=1;var t=As(),e=iw(),r=ao(),n="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,s=a.hasOwnProperty,u=o.call(Object);function l(c){if(!r(c)||t(c)!=n)return!1;var f=e(c);if(f===null)return!0;var h=s.call(f,"constructor")&&f.constructor;return typeof h=="function"&&h instanceof h&&o.call(h)==u}return YA=l,YA}var L0e=xz();const j0e=_t(L0e);var QA,xj;function F0e(){if(xj)return QA;xj=1;var t=As(),e=ao(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return QA=n,QA}var B0e=F0e();const $0e=_t(B0e);function mv(t){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mv(t)}function b1(){return b1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b1.apply(this,arguments)}function U0e(t,e){return W0e(t)||z0e(t,e)||q0e(t,e)||V0e()}function V0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q0e(t,e){if(t){if(typeof t=="string")return bj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bj(t,e)}}function bj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function z0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function W0e(t){if(Array.isArray(t))return t}function Ej(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Aj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ej(Object(r),!0).forEach(function(n){H0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ej(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function H0e(t,e,r){return e=G0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G0e(t){var e=K0e(t,"string");return mv(e)=="symbol"?e:e+""}function K0e(t,e){if(mv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sj=function(e,r,n,i,a){var o=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-o/2,",").concat(r+a),s+="L ".concat(e+n-o/2-i,",").concat(r+a),s+="L ".concat(e,",").concat(r," Z"),s},X0e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Y0e=function(e){var r=Aj(Aj({},X0e),e),n=z.useRef(),i=z.useState(-1),a=U0e(i,2),o=a[0],s=a[1];z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&s(A)}catch{}},[]);var u=r.x,l=r.y,c=r.upperWidth,f=r.lowerWidth,h=r.height,v=r.className,g=r.animationEasing,m=r.animationDuration,_=r.animationBegin,b=r.isUpdateAnimationActive;if(u!==+u||l!==+l||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var E=yt("recharts-trapezoid",v);return b?$.createElement(Mo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:u,y:l},to:{upperWidth:c,lowerWidth:f,height:h,x:u,y:l},duration:m,animationEasing:g,isActive:b},function(A){var C=A.upperWidth,O=A.lowerWidth,R=A.height,I=A.x,S=A.y;return $.createElement(Mo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:m,easing:g},$.createElement("path",b1({},et(r,!0),{className:E,d:Sj(I,S,C,O,R),ref:n})))}):$.createElement("g",null,$.createElement("path",b1({},et(r,!0),{className:E,d:Sj(u,l,c,f,h)})))},Q0e=["option","shapeType","propTransformer","activeClassName","isActive"];function yv(t){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yv(t)}function Z0e(t,e){if(t==null)return{};var r=J0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function J0e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Oj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function E1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Oj(Object(r),!0).forEach(function(n){ege(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Oj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ege(t,e,r){return e=tge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tge(t){var e=rge(t,"string");return yv(e)=="symbol"?e:e+""}function rge(t,e){if(yv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nge(t,e){return E1(E1({},e),t)}function ige(t,e){return t==="symbols"}function Tj(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return $.createElement(XP,r);case"trapezoid":return $.createElement(Y0e,r);case"sector":return $.createElement(lz,r);case"symbols":if(ige(e))return $.createElement(sP,r);break;default:return null}}function age(t){return z.isValidElement(t)?t.props:t}function bz(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?nge:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,u=Z0e(t,Q0e),l;if(z.isValidElement(e))l=z.cloneElement(e,E1(E1({},u),age(e)));else if(st(e))l=e(u);else if(j0e(e)&&!$0e(e)){var c=i(e,u);l=$.createElement(Tj,{shapeType:r,elementProps:c})}else{var f=u;l=$.createElement(Tj,{shapeType:r,elementProps:f})}return s?$.createElement(Lt,{className:o},l):l}function aw(t,e){return e!=null&&"trapezoids"in t.props}function ow(t,e){return e!=null&&"sectors"in t.props}function _v(t,e){return e!=null&&"points"in t.props}function oge(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function sge(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function uge(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function lge(t,e){var r;return aw(t,e)?r=oge:ow(t,e)?r=sge:_v(t,e)&&(r=uge),r}function cge(t,e){var r;return aw(t,e)?r="trapezoids":ow(t,e)?r="sectors":_v(t,e)&&(r="points"),r}function fge(t,e){if(aw(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(ow(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return _v(t,e)?e.payload:{}}function dge(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=cge(r,e),a=fge(r,e),o=n.filter(function(u,l){var c=kd(a,u),f=r.props[i].filter(function(g){var m=lge(r,e);return m(g,e)}),h=r.props[i].indexOf(f[f.length-1]),v=l===h;return c&&v}),s=n.indexOf(o[o.length-1]);return s}var ay;function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function _f(){return _f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_f.apply(this,arguments)}function Cj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Cj(Object(r),!0).forEach(function(n){ga(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ij(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Az(n.key),n)}}function pge(t,e,r){return e&&Ij(t.prototype,e),r&&Ij(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function vge(t,e,r){return e=A1(e),gge(t,Ez()?Reflect.construct(e,r||[],A1(t).constructor):e.apply(t,r))}function gge(t,e){if(e&&(Jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mge(t)}function mge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ez(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ez=function(){return!!t})()}function A1(t){return A1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},A1(t)}function yge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JT(t,e)}function JT(t,e){return JT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JT(t,e)}function ga(t,e,r){return e=Az(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Az(t){var e=_ge(t,"string");return Jf(e)=="symbol"?e:e+""}function _ge(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lo=function(t){function e(r){var n;return hge(this,e),n=vge(this,e,[r]),ga(n,"pieRef",null),ga(n,"sectorRefs",[]),ga(n,"id",Cd("recharts-pie-")),ga(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),st(i)&&i()}),ga(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),st(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return yge(e,t),pge(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,u=a.dataKey,l=a.valueKey,c=et(this.props,!1),f=et(o,!1),h=et(s,!1),v=o&&o.offsetRadius||20,g=n.map(function(m,_){var b=(m.startAngle+m.endAngle)/2,E=sr(m.cx,m.cy,m.outerRadius+v,b),A=ar(ar(ar(ar({},c),m),{},{stroke:"none"},f),{},{index:_,textAnchor:e.getTextAnchor(E.x,m.cx)},E),C=ar(ar(ar(ar({},c),m),{},{fill:"none",stroke:m.fill},h),{},{index:_,points:[sr(m.cx,m.cy,m.outerRadius,b),E]}),O=u;return ht(u)&&ht(l)?O="value":ht(u)&&(O=l),$.createElement(Lt,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(_)},s&&e.renderLabelLineItem(s,C,"line"),e.renderLabelItem(o,A,rn(m,O)))});return $.createElement(Lt,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,u=a.inactiveShape;return n.map(function(l,c){if(l?.startAngle===0&&l?.endAngle===0&&n.length!==1)return null;var f=i.isActiveIndex(c),h=u&&i.hasActiveIndex()?u:null,v=f?o:h,g=ar(ar({},l),{},{stroke:s?l.fill:l.stroke,tabIndex:-1});return $.createElement(Lt,_f({ref:function(_){_&&!i.sectorRefs.includes(_)&&i.sectorRefs.push(_)},tabIndex:-1,className:"recharts-pie-sector"},Hl(i.props,l,c),{key:"sector-".concat(l?.startAngle,"-").concat(l?.endAngle,"-").concat(l.midAngle,"-").concat(c)}),$.createElement(bz,_f({option:v,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,u=i.animationDuration,l=i.animationEasing,c=i.animationId,f=this.state,h=f.prevSectors,v=f.prevIsAnimationActive;return $.createElement(Mo,{begin:s,duration:u,isActive:o,easing:l,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,_=[],b=a&&a[0],E=b.startAngle;return a.forEach(function(A,C){var O=h&&h[C],R=C>0?Yi(A,"paddingAngle",0):0;if(O){var I=Hi(O.endAngle-O.startAngle,A.endAngle-A.startAngle),S=ar(ar({},A),{},{startAngle:E+R,endAngle:E+I(m)+R});_.push(S),E=S.endAngle}else{var T=A.endAngle,D=A.startAngle,L=Hi(0,T-D),F=L(m),j=ar(ar({},A),{},{startAngle:E+R,endAngle:E+F+R});_.push(j),E=j.endAngle}}),$.createElement(Lt,null,n.renderSectorsStatically(_))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!kd(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,u=i.label,l=i.cx,c=i.cy,f=i.innerRadius,h=i.outerRadius,v=i.isAnimationActive,g=this.state.isAnimationFinished;if(a||!o||!o.length||!Ne(l)||!Ne(c)||!Ne(f)||!Ne(h))return null;var m=yt("recharts-pie",s);return $.createElement(Lt,{tabIndex:this.props.rootTabIndex,className:m,ref:function(b){n.pieRef=b}},this.renderSectors(),u&&this.renderLabels(o),_n.renderCallByParent(this.props,null,!1),(!v||g)&&ps.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if($.isValidElement(n))return $.cloneElement(n,i);if(st(n))return n(i);var o=yt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return $.createElement(p1,_f({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if($.isValidElement(n))return $.cloneElement(n,i);var o=a;if(st(n)&&(o=n(i),$.isValidElement(o)))return o;var s=yt("recharts-pie-label-text",typeof n!="boolean"&&!st(n)?n.className:"");return $.createElement(Gl,_f({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(z.PureComponent);ay=Lo;ga(Lo,"displayName","Pie");ga(Lo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!fc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ga(Lo,"parseDeltaAngle",function(t,e){var r=fi(e-t),n=Math.min(Math.abs(e-t),360);return r*n});ga(Lo,"getRealPieData",function(t){var e=t.data,r=t.children,n=et(t,!1),i=Qi(r,Xp);return e&&e.length?e.map(function(a,o){return ar(ar(ar({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return ar(ar({},n),a.props)}):[]});ga(Lo,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=iz(i,a),s=n+di(t.cx,i,i/2),u=r+di(t.cy,a,a/2),l=di(t.innerRadius,o,0),c=di(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:u,innerRadius:l,outerRadius:c,maxRadius:f}});ga(Lo,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?ar(ar({},e.type.defaultProps),e.props):e.props,i=ay.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,s=n.endAngle,u=n.paddingAngle,l=n.dataKey,c=n.nameKey,f=n.valueKey,h=n.tooltipType,v=Math.abs(n.minAngle),g=ay.parseCoordinateOfPie(n,r),m=ay.parseDeltaAngle(o,s),_=Math.abs(m),b=l;ht(l)&&ht(f)?(Ja(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):ht(l)&&(Ja(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var E=i.filter(function(S){return rn(S,b,0)!==0}).length,A=(_>=360?E:E-1)*u,C=_-E*v-A,O=i.reduce(function(S,T){var D=rn(T,b,0);return S+(Ne(D)?D:0)},0),R;if(O>0){var I;R=i.map(function(S,T){var D=rn(S,b,0),L=rn(S,c,T),F=(Ne(D)?D:0)/O,j;T?j=I.endAngle+fi(m)*u*(D!==0?1:0):j=o;var K=j+fi(m)*((D!==0?v:0)+F*C),ee=(j+K)/2,W=(g.innerRadius+g.outerRadius)/2,te=[{name:L,value:D,payload:S,dataKey:b,type:h}],X=sr(g.cx,g.cy,W,ee);return I=ar(ar(ar({percent:F,cornerRadius:a,name:L,tooltipPayload:te,midAngle:ee,middleRadius:W,tooltipPosition:X},S),g),{},{value:rn(S,b),startAngle:j,endAngle:K,payload:S,paddingAngle:fi(m)*u}),I})}return ar(ar({},g),{},{sectors:R,data:i})});var ZA,Pj;function wge(){if(Pj)return ZA;Pj=1;var t=Math.ceil,e=Math.max;function r(n,i,a,o){for(var s=-1,u=e(t((i-n)/(a||1)),0),l=Array(u);u--;)l[o?u:++s]=n,n+=a;return l}return ZA=r,ZA}var JA,Rj;function Sz(){if(Rj)return JA;Rj=1;var t=WV(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return JA=n,JA}var eS,Dj;function xge(){if(Dj)return eS;Dj=1;var t=wge(),e=Dd(),r=Sz();function n(i){return function(a,o,s){return s&&typeof s!="number"&&e(a,o,s)&&(o=s=void 0),a=r(a),o===void 0?(o=a,a=0):o=r(o),s=s===void 0?a<o?1:-1:r(s),t(a,o,s,i)}}return eS=n,eS}var tS,Nj;function bge(){if(Nj)return tS;Nj=1;var t=xge(),e=t();return tS=e,tS}var Ege=bge();const wv=_t(Ege);function xv(t){"@babel/helpers - typeof";return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xv(t)}function kj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kj(Object(r),!0).forEach(function(n){Oz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oz(t,e,r){return e=Age(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Age(t){var e=Sge(t,"string");return xv(e)=="symbol"?e:e+""}function Sge(t,e){if(xv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oge=["Webkit","Moz","O","ms"],Tge=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Oge.reduce(function(a,o){return Mj(Mj({},a),{},Oz({},o+n,r))},{});return i[e]=r,i};function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function S1(){return S1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},S1.apply(this,arguments)}function Lj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Lj(Object(r),!0).forEach(function(n){zi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Cz(n.key),n)}}function Ige(t,e,r){return e&&jj(t.prototype,e),r&&jj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pge(t,e,r){return e=O1(e),Rge(t,Tz()?Reflect.construct(e,r||[],O1(t).constructor):e.apply(t,r))}function Rge(t,e){if(e&&(ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dge(t)}function Dge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tz=function(){return!!t})()}function O1(t){return O1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O1(t)}function Nge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eC(t,e)}function eC(t,e){return eC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eC(t,e)}function zi(t,e,r){return e=Cz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cz(t){var e=kge(t,"string");return ed(e)=="symbol"?e:e+""}function kge(t,e){if(ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mge=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var u=r.length,l=xp().domain(wv(0,u)).range([a,a+o-s]),c=l.domain().map(function(f){return l(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(i),scale:l,scaleValues:c}},Fj=function(e){return e.changedTouches&&!!e.changedTouches.length},td=function(t){function e(r){var n;return Cge(this,e),n=Pge(this,e,[r]),zi(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),zi(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),zi(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o?.({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),zi(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),zi(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),zi(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),zi(n,"handleSlideDragStart",function(i){var a=Fj(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Nge(e,t),Ige(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,u=s.gap,l=s.data,c=l.length-1,f=Math.min(i,a),h=Math.max(i,a),v=e.getIndexInRange(o,f),g=e.getIndexInRange(o,h);return{startIndex:v-v%u,endIndex:g===c?c:g-g%u}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,u=rn(a[n],s,n);return st(o)?o(u,n):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,u=this.props,l=u.x,c=u.width,f=u.travellerWidth,h=u.startIndex,v=u.endIndex,g=u.onChange,m=n.pageX-a;m>0?m=Math.min(m,l+c-f-s,l+c-f-o):m<0&&(m=Math.max(m,l-o,l-s));var _=this.getIndex({startX:o+m,endX:s+m});(_.startIndex!==h||_.endIndex!==v)&&g&&g(_),this.setState({startX:o+m,endX:s+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=Fj(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,u=i.startX,l=this.state[o],c=this.props,f=c.x,h=c.width,v=c.travellerWidth,g=c.onChange,m=c.gap,_=c.data,b={startX:this.state.startX,endX:this.state.endX},E=n.pageX-a;E>0?E=Math.min(E,f+h-v-l):E<0&&(E=Math.max(E,f-l)),b[o]=l+E;var A=this.getIndex(b),C=A.startIndex,O=A.endIndex,R=function(){var S=_.length-1;return o==="startX"&&(s>u?C%m===0:O%m===0)||s<u&&O===S||o==="endX"&&(s>u?O%m===0:C%m===0)||s>u&&O===S};this.setState(zi(zi({},o,l+E),"brushMoveStartX",n.pageX),function(){g&&R()&&g(A)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,u=o.startX,l=o.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var v=s[h];i==="startX"&&v>=l||i==="endX"&&v<=u||this.setState(zi({},i,v),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,u=n.fill,l=n.stroke;return $.createElement("rect",{stroke:l,fill:u,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,u=n.data,l=n.children,c=n.padding,f=z.Children.only(l);return f?$.cloneElement(f,{x:i,y:a,width:o,height:s,margin:c,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,u=this.props,l=u.y,c=u.travellerWidth,f=u.height,h=u.traveller,v=u.ariaLabel,g=u.data,m=u.startIndex,_=u.endIndex,b=Math.max(n,this.props.x),E=rS(rS({},et(this.props,!1)),{},{x:b,y:l,width:c,height:f}),A=v||"Min value: ".concat((a=g[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=g[_])===null||o===void 0?void 0:o.name);return $.createElement(Lt,{tabIndex:0,role:"slider","aria-label":A,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(O){["ArrowLeft","ArrowRight"].includes(O.key)&&(O.preventDefault(),O.stopPropagation(),s.handleTravellerMoveKeyboard(O.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,E))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,u=a.stroke,l=a.travellerWidth,c=Math.min(n,i)+l,f=Math.max(Math.abs(i-n)-l,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:c,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,u=n.travellerWidth,l=n.stroke,c=this.state,f=c.startX,h=c.endX,v=5,g={pointerEvents:"none",fill:l};return $.createElement(Lt,{className:"recharts-brush-texts"},$.createElement(Gl,S1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-v,y:o+s/2},g),this.getTextOfTick(i)),$.createElement(Gl,S1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+u+v,y:o+s/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,u=n.y,l=n.width,c=n.height,f=n.alwaysShowText,h=this.state,v=h.startX,g=h.endX,m=h.isTextActive,_=h.isSlideMoving,b=h.isTravellerMoving,E=h.isTravellerFocused;if(!i||!i.length||!Ne(s)||!Ne(u)||!Ne(l)||!Ne(c)||l<=0||c<=0)return null;var A=yt("recharts-brush",a),C=$.Children.count(o)===1,O=Tge("userSelect","none");return $.createElement(Lt,{className:A,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:O},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(v,g),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(g,"endX"),(m||_||b||E||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,u=n.stroke,l=Math.floor(a+s/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:i,y:a,width:o,height:s,fill:u,stroke:"none"}),$.createElement("line",{x1:i+1,y1:l,x2:i+o-1,y2:l,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:i+1,y1:l+2,x2:i+o-1,y2:l+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return $.isValidElement(n)?a=$.cloneElement(n,i):st(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,u=n.travellerWidth,l=n.updateId,c=n.startIndex,f=n.endIndex;if(a!==i.prevData||l!==i.prevUpdateId)return rS({prevData:a,prevTravellerWidth:u,prevUpdateId:l,prevX:s,prevWidth:o},a&&a.length?Mge({data:a,width:o,x:s,travellerWidth:u,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||u!==i.prevTravellerWidth)){i.scale.range([s,s+o-u]);var h=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:a,prevTravellerWidth:u,prevUpdateId:l,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var u=Math.floor((o+s)/2);n[u]>i?s=u:o=u}return i>=n[s]?s:o}}])}(z.PureComponent);zi(td,"displayName","Brush");zi(td,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var nS,Bj;function Lge(){if(Bj)return nS;Bj=1;var t=bP();function e(r,n){var i;return t(r,function(a,o,s){return i=n(a,o,s),!i}),!!i}return nS=e,nS}var iS,$j;function jge(){if($j)return iS;$j=1;var t=wV(),e=so(),r=Lge(),n=Yn(),i=Dd();function a(o,s,u){var l=n(o)?t:r;return u&&i(o,s,u)&&(s=void 0),l(o,e(s,3))}return iS=a,iS}var Fge=jge();const Bge=_t(Fge);var Po=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},aS,Uj;function YP(){if(Uj)return aS;Uj=1;var t=FV();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return aS=e,aS}var oS,Vj;function $ge(){if(Vj)return oS;Vj=1;var t=YP(),e=xP(),r=so();function n(i,a){var o={};return a=r(a,3),e(i,function(s,u,l){t(o,u,a(s,u,l))}),o}return oS=n,oS}var Uge=$ge();const Iz=_t(Uge);var sS,qj;function Vge(){if(qj)return sS;qj=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return sS=t,sS}var uS,zj;function qge(){if(zj)return uS;zj=1;var t=bP();function e(r,n){var i=!0;return t(r,function(a,o,s){return i=!!n(a,o,s),i}),i}return uS=e,uS}var lS,Wj;function zge(){if(Wj)return lS;Wj=1;var t=Vge(),e=qge(),r=so(),n=Yn(),i=Dd();function a(o,s,u){var l=n(o)?t:e;return u&&i(o,s,u)&&(s=void 0),l(o,r(s,3))}return lS=a,lS}var Wge=zge();const Pz=_t(Wge);var Hge=["x","y"];function bv(t){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bv(t)}function tC(){return tC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tC.apply(this,arguments)}function Hj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Hj(Object(r),!0).forEach(function(n){Gge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gge(t,e,r){return e=Kge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kge(t){var e=Xge(t,"string");return bv(e)=="symbol"?e:e+""}function Xge(t,e){if(bv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yge(t,e){if(t==null)return{};var r=Qge(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Zge(t,e){var r=t.x,n=t.y,i=Yge(t,Hge),a="".concat(r),o=parseInt(a,10),s="".concat(n),u=parseInt(s,10),l="".concat(e.height||i.height),c=parseInt(l,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Bh(Bh(Bh(Bh(Bh({},e),i),o?{x:o}:{}),u?{y:u}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function Gj(t){return $.createElement(bz,tC({shapeType:"rectangle",propTransformer:Zge,activeClassName:"recharts-active-bar"},t))}var Jge=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=Ne(n)||Lie(n);return a?e(n,i):(a||Xl(),r)}},eme=["value","background"],Rz;function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function tme(t,e){if(t==null)return{};var r=rme(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function T1(){return T1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T1.apply(this,arguments)}function Kj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kj(Object(r),!0).forEach(function(n){du(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nz(n.key),n)}}function ime(t,e,r){return e&&Xj(t.prototype,e),r&&Xj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ame(t,e,r){return e=C1(e),ome(t,Dz()?Reflect.construct(e,r||[],C1(t).constructor):e.apply(t,r))}function ome(t,e){if(e&&(rd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sme(t)}function sme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dz=function(){return!!t})()}function C1(t){return C1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},C1(t)}function ume(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rC(t,e)}function rC(t,e){return rC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rC(t,e)}function du(t,e,r){return e=Nz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nz(t){var e=lme(t,"string");return rd(e)=="symbol"?e:e+""}function lme(t,e){if(rd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ya=function(t){function e(){var r;nme(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ame(this,e,[].concat(i)),du(r,"state",{isAnimationFinished:!1}),du(r,"id",Cd("recharts-bar-")),du(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),du(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return ume(e,t),ime(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,u=a.activeIndex,l=a.activeBar,c=et(this.props,!1);return n&&n.map(function(f,h){var v=h===u,g=v?l:o,m=qr(qr(qr({},c),f),{},{isActive:v,option:g,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return $.createElement(Lt,T1({className:"recharts-bar-rectangle"},Hl(i.props,f,h),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value,"-").concat(h)}),$.createElement(Gj,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,u=i.animationBegin,l=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return $.createElement(Mo,{begin:u,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var g=v.t,m=a.map(function(_,b){var E=h&&h[b];if(E){var A=Hi(E.x,_.x),C=Hi(E.y,_.y),O=Hi(E.width,_.width),R=Hi(E.height,_.height);return qr(qr({},_),{},{x:A(g),y:C(g),width:O(g),height:R(g)})}if(o==="horizontal"){var I=Hi(0,_.height),S=I(g);return qr(qr({},_),{},{y:_.y+_.height-S,height:S})}var T=Hi(0,_.width),D=T(g);return qr(qr({},_),{},{width:D})});return $.createElement(Lt,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!kd(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,u=et(this.props.background,!1);return a.map(function(l,c){l.value;var f=l.background,h=tme(l,eme);if(!f)return null;var v=qr(qr(qr(qr(qr({},h),{},{fill:"#eee"},f),u),Hl(n.props,l,c)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:c,className:"recharts-bar-background-rectangle"});return $.createElement(Gj,T1({key:"background-bar-".concat(c),option:n.props.background,isActive:c===s},v))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,u=a.yAxis,l=a.layout,c=a.children,f=Qi(c,l0);if(!f)return null;var h=l==="vertical"?o[0].height/2:o[0].width/2,v=function(_,b){var E=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:E,errorVal:rn(_,b)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return $.createElement(Lt,g,f.map(function(m){return $.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:o,xAxis:s,yAxis:u,layout:l,offset:h,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,u=n.yAxis,l=n.left,c=n.top,f=n.width,h=n.height,v=n.isAnimationActive,g=n.background,m=n.id;if(i||!a||!a.length)return null;var _=this.state.isAnimationFinished,b=yt("recharts-bar",o),E=s&&s.allowDataOverflow,A=u&&u.allowDataOverflow,C=E||A,O=ht(m)?this.id:m;return $.createElement(Lt,{className:b},E||A?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(O)},$.createElement("rect",{x:E?l:l-f/2,y:A?c:c-h/2,width:E?f:f*2,height:A?h:h*2}))):null,$.createElement(Lt,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(O,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,O),(!v||_)&&ps.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(z.PureComponent);Rz=Ya;du(Ya,"displayName","Bar");du(Ya,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!fc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});du(Ya,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,u=t.yAxisTicks,l=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,v=Fde(n,r);if(!v)return null;var g=e.layout,m=r.type.defaultProps,_=m!==void 0?qr(qr({},m),r.props):r.props,b=_.dataKey,E=_.children,A=_.minPointSize,C=g==="horizontal"?o:a,O=l?C.scale.domain():null,R=Wde({numericAxis:C}),I=Qi(E,Xp),S=f.map(function(T,D){var L,F,j,K,ee,W;l?L=Bde(l[c+D],O):(L=rn(T,b),Array.isArray(L)||(L=[R,L]));var te=Jge(A,Rz.defaultProps.minPointSize)(L[1],D);if(g==="horizontal"){var X,Q=[o.scale(L[0]),o.scale(L[1])],se=Q[0],q=Q[1];F=_L({axis:a,ticks:s,bandSize:i,offset:v.offset,entry:T,index:D}),j=(X=q??se)!==null&&X!==void 0?X:void 0,K=v.size;var Y=se-q;if(ee=Number.isNaN(Y)?0:Y,W={x:F,y:o.y,width:K,height:o.height},Math.abs(te)>0&&Math.abs(ee)<Math.abs(te)){var ae=fi(ee||te)*(Math.abs(te)-Math.abs(ee));j-=ae,ee+=ae}}else{var xe=[a.scale(L[0]),a.scale(L[1])],Oe=xe[0],Te=xe[1];if(F=Oe,j=_L({axis:o,ticks:u,bandSize:i,offset:v.offset,entry:T,index:D}),K=Te-Oe,ee=v.size,W={x:a.x,y:j,width:a.width,height:ee},Math.abs(te)>0&&Math.abs(K)<Math.abs(te)){var Be=fi(K||te)*(Math.abs(te)-Math.abs(K));K+=Be}}return qr(qr(qr({},T),{},{x:F,y:j,width:K,height:ee,value:l?L:L[1],payload:T,background:W},I&&I[D]&&I[D].props),{},{tooltipPayload:[rz(r,T)],tooltipPosition:{x:F+K/2,y:j+ee/2}})});return qr({data:S,layout:g},h)});function Ev(t){"@babel/helpers - typeof";return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ev(t)}function cme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kz(n.key),n)}}function fme(t,e,r){return e&&Yj(t.prototype,e),r&&Yj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ga(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qj(Object(r),!0).forEach(function(n){sw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sw(t,e,r){return e=kz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kz(t){var e=dme(t,"string");return Ev(e)=="symbol"?e:e+""}function dme(t,e){if(Ev(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mz=function(e,r,n,i,a){var o=e.width,s=e.height,u=e.layout,l=e.children,c=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!Wi(l,Ya);return c.reduce(function(v,g){var m=r[g],_=m.orientation,b=m.domain,E=m.padding,A=E===void 0?{}:E,C=m.mirror,O=m.reversed,R="".concat(_).concat(C?"Mirror":""),I,S,T,D,L;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var F=b[1]-b[0],j=1/0,K=m.categoricalDomain.sort(Bie);if(K.forEach(function(xe,Oe){Oe>0&&(j=Math.min((xe||0)-(K[Oe-1]||0),j))}),Number.isFinite(j)){var ee=j/F,W=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(I=ee*W/2),m.padding==="no-gap"){var te=di(e.barCategoryGap,ee*W),X=ee*W/2;I=X-te-(X-te)/W*te}}}i==="xAxis"?S=[n.left+(A.left||0)+(I||0),n.left+n.width-(A.right||0)-(I||0)]:i==="yAxis"?S=u==="horizontal"?[n.top+n.height-(A.bottom||0),n.top+(A.top||0)]:[n.top+(A.top||0)+(I||0),n.top+n.height-(A.bottom||0)-(I||0)]:S=m.range,O&&(S=[S[1],S[0]]);var Q=Zq(m,a,h),se=Q.scale,q=Q.realScaleType;se.domain(b).range(S),Jq(se);var Y=ez(se,Ga(Ga({},m),{},{realScaleType:q}));i==="xAxis"?(L=_==="top"&&!C||_==="bottom"&&C,T=n.left,D=f[R]-L*m.height):i==="yAxis"&&(L=_==="left"&&!C||_==="right"&&C,T=f[R]-L*m.width,D=n.top);var ae=Ga(Ga(Ga({},m),Y),{},{realScaleType:q,x:T,y:D,scale:se,width:i==="xAxis"?n.width:m.width,height:i==="yAxis"?n.height:m.height});return ae.bandSize=f1(ae,Y),!m.hide&&i==="xAxis"?f[R]+=(L?-1:1)*ae.height:m.hide||(f[R]+=(L?-1:1)*ae.width),Ga(Ga({},v),{},sw({},g,ae))},{})},Lz=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},hme=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return Lz({x:r,y:n},{x:i,y:a})},jz=function(){function t(e){cme(this,t),this.scale=e}return fme(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+u}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();sw(jz,"EPS",1e-4);var QP=function(e){var r=Object.keys(e).reduce(function(n,i){return Ga(Ga({},n),{},sw({},i,jz.create(e[i])))},{});return Ga(Ga({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return Iz(i,function(u,l){return r[l].apply(u,{bandAware:o,position:s})})},isInRange:function(i){return Pz(i,function(a,o){return r[o].isInRange(a)})}})};function pme(t){return(t%180+180)%180}var vme=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=pme(i),o=a*Math.PI/180,s=Math.atan(n/r),u=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(u)},cS,Zj;function gme(){if(Zj)return cS;Zj=1;var t=so(),e=Id(),r=Pd();function n(i){return function(a,o,s){var u=Object(a);if(!e(a)){var l=t(o,3);a=r(a),o=function(f){return l(u[f],f,u)}}var c=i(a,o,s);return c>-1?u[l?a[c]:c]:void 0}}return cS=n,cS}var fS,Jj;function Fz(){if(Jj)return fS;Jj=1;var t=Sz();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return fS=e,fS}var dS,e5;function Bz(){if(e5)return dS;e5=1;var t=DV(),e=so(),r=Fz(),n=Math.max;function i(a,o,s){var u=a==null?0:a.length;if(!u)return-1;var l=s==null?0:r(s);return l<0&&(l=n(u+l,0)),t(a,e(o,3),l)}return dS=i,dS}var hS,t5;function mme(){if(t5)return hS;t5=1;var t=gme(),e=Bz(),r=t(e);return hS=r,hS}var yme=mme();const _me=_t(yme);var wme=XU();const xme=_t(wme);var bme=xme(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),ZP=z.createContext(void 0),JP=z.createContext(void 0),$z=z.createContext(void 0),Uz=z.createContext({}),Vz=z.createContext(void 0),qz=z.createContext(0),zz=z.createContext(0),r5=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,s=e.children,u=e.width,l=e.height,c=bme(a);return $.createElement(ZP.Provider,{value:n},$.createElement(JP.Provider,{value:i},$.createElement(Uz.Provider,{value:a},$.createElement($z.Provider,{value:c},$.createElement(Vz.Provider,{value:o},$.createElement(qz.Provider,{value:l},$.createElement(zz.Provider,{value:u},s)))))))},Eme=function(){return z.useContext(Vz)},Wz=function(e){var r=z.useContext(ZP);r==null&&Xl();var n=r[e];return n==null&&Xl(),n},Ame=function(){var e=z.useContext(ZP);return uu(e)},Sme=function(){var e=z.useContext(JP),r=_me(e,function(n){return Pz(n.domain,Number.isFinite)});return r||uu(e)},Hz=function(e){var r=z.useContext(JP);r==null&&Xl();var n=r[e];return n==null&&Xl(),n},Ome=function(){var e=z.useContext($z);return e},Tme=function(){return z.useContext(Uz)},eR=function(){return z.useContext(zz)},tR=function(){return z.useContext(qz)};function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function Cme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ime(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Kz(n.key),n)}}function Pme(t,e,r){return e&&Ime(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rme(t,e,r){return e=I1(e),Dme(t,Gz()?Reflect.construct(e,r||[],I1(t).constructor):e.apply(t,r))}function Dme(t,e){if(e&&(nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nme(t)}function Nme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gz=function(){return!!t})()}function I1(t){return I1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I1(t)}function kme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nC(t,e)}function nC(t,e){return nC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nC(t,e)}function n5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function i5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n5(Object(r),!0).forEach(function(n){rR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rR(t,e,r){return e=Kz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kz(t){var e=Mme(t,"string");return nd(e)=="symbol"?e:e+""}function Mme(t,e){if(nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Lme(t,e){return $me(t)||Bme(t,e)||Fme(t,e)||jme()}function jme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fme(t,e){if(t){if(typeof t=="string")return a5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a5(t,e)}}function a5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Bme(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function $me(t){if(Array.isArray(t))return t}function iC(){return iC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iC.apply(this,arguments)}var Ume=function(e,r){var n;return $.isValidElement(e)?n=$.cloneElement(e,r):st(e)?n=e(r):n=$.createElement("line",iC({},r,{className:"recharts-reference-line-line"})),n},Vme=function(e,r,n,i,a,o,s,u,l){var c=a.x,f=a.y,h=a.width,v=a.height;if(n){var g=l.y,m=e.y.apply(g,{position:o});if(Po(l,"discard")&&!e.y.isInRange(m))return null;var _=[{x:c+h,y:m},{x:c,y:m}];return u==="left"?_.reverse():_}if(r){var b=l.x,E=e.x.apply(b,{position:o});if(Po(l,"discard")&&!e.x.isInRange(E))return null;var A=[{x:E,y:f+v},{x:E,y:f}];return s==="top"?A.reverse():A}if(i){var C=l.segment,O=C.map(function(R){return e.apply(R,{position:o})});return Po(l,"discard")&&Bge(O,function(R){return!e.isInRange(R)})?null:O}return null};function qme(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,u=t.alwaysShow,l=Eme(),c=Wz(i),f=Hz(a),h=Ome();if(!l||!h)return null;Ja(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=QP({x:c.scale,y:f.scale}),g=an(e),m=an(r),_=n&&n.length===2,b=Vme(v,g,m,_,h,t.position,c.orientation,f.orientation,t);if(!b)return null;var E=Lme(b,2),A=E[0],C=A.x,O=A.y,R=E[1],I=R.x,S=R.y,T=Po(t,"hidden")?"url(#".concat(l,")"):void 0,D=i5(i5({clipPath:T},et(t,!0)),{},{x1:C,y1:O,x2:I,y2:S});return $.createElement(Lt,{className:yt("recharts-reference-line",s)},Ume(o,D),_n.renderCallByParent(t,hme({x1:C,y1:O,x2:I,y2:S})))}var nR=function(t){function e(){return Cme(this,e),Rme(this,e,arguments)}return kme(e,t),Pme(e,[{key:"render",value:function(){return $.createElement(qme,this.props)}}])}($.Component);rR(nR,"displayName","ReferenceLine");rR(nR,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function aC(){return aC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aC.apply(this,arguments)}function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function o5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function s5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o5(Object(r),!0).forEach(function(n){uw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Yz(n.key),n)}}function Hme(t,e,r){return e&&Wme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gme(t,e,r){return e=P1(e),Kme(t,Xz()?Reflect.construct(e,r||[],P1(t).constructor):e.apply(t,r))}function Kme(t,e){if(e&&(id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xme(t)}function Xme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xz=function(){return!!t})()}function P1(t){return P1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},P1(t)}function Yme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oC(t,e)}function oC(t,e){return oC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oC(t,e)}function uw(t,e,r){return e=Yz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yz(t){var e=Qme(t,"string");return id(e)=="symbol"?e:e+""}function Qme(t,e){if(id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zme=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=QP({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return Po(e,"discard")&&!o.isInRange(s)?null:s},lw=function(t){function e(){return zme(this,e),Gme(this,e,arguments)}return Yme(e,t),Hme(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,u=n.clipPathId,l=an(i),c=an(a);if(Ja(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var f=Zme(this.props);if(!f)return null;var h=f.x,v=f.y,g=this.props,m=g.shape,_=g.className,b=Po(this.props,"hidden")?"url(#".concat(u,")"):void 0,E=s5(s5({clipPath:b},et(this.props,!0)),{},{cx:h,cy:v});return $.createElement(Lt,{className:yt("recharts-reference-dot",_)},e.renderDot(m,E),_n.renderCallByParent(this.props,{x:h-o,y:v-o,width:2*o,height:2*o}))}}])}($.Component);uw(lw,"displayName","ReferenceDot");uw(lw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});uw(lw,"renderDot",function(t,e){var r;return $.isValidElement(t)?r=$.cloneElement(t,e):st(t)?r=t(e):r=$.createElement(J_,aC({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function sC(){return sC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sC.apply(this,arguments)}function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function u5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function l5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u5(Object(r),!0).forEach(function(n){cw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zz(n.key),n)}}function tye(t,e,r){return e&&eye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rye(t,e,r){return e=R1(e),nye(t,Qz()?Reflect.construct(e,r||[],R1(t).constructor):e.apply(t,r))}function nye(t,e){if(e&&(ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iye(t)}function iye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qz=function(){return!!t})()}function R1(t){return R1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},R1(t)}function aye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uC(t,e)}function uC(t,e){return uC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uC(t,e)}function cw(t,e,r){return e=Zz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zz(t){var e=oye(t,"string");return ad(e)=="symbol"?e:e+""}function oye(t,e){if(ad(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sye=function(e,r,n,i,a){var o=a.x1,s=a.x2,u=a.y1,l=a.y2,c=a.xAxis,f=a.yAxis;if(!c||!f)return null;var h=QP({x:c.scale,y:f.scale}),v={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(u,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(l,{position:"end"}):h.y.rangeMax};return Po(a,"discard")&&(!h.isInRange(v)||!h.isInRange(g))?null:Lz(v,g)},fw=function(t){function e(){return Jme(this,e),rye(this,e,arguments)}return aye(e,t),tye(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,u=n.className,l=n.alwaysShow,c=n.clipPathId;Ja(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=an(i),h=an(a),v=an(o),g=an(s),m=this.props.shape;if(!f&&!h&&!v&&!g&&!m)return null;var _=sye(f,h,v,g,this.props);if(!_&&!m)return null;var b=Po(this.props,"hidden")?"url(#".concat(c,")"):void 0;return $.createElement(Lt,{className:yt("recharts-reference-area",u)},e.renderRect(m,l5(l5({clipPath:b},et(this.props,!0)),_)),_n.renderCallByParent(this.props,_))}}])}($.Component);cw(fw,"displayName","ReferenceArea");cw(fw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});cw(fw,"renderRect",function(t,e){var r;return $.isValidElement(t)?r=$.cloneElement(t,e):st(t)?r=t(e):r=$.createElement(XP,sC({},e,{className:"recharts-reference-area-rect"})),r});function Jz(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function uye(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return vme(n,r)}function lye(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function D1(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function cye(t,e){return Jz(t,e+1)}function fye(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,s=e.end,u=0,l=1,c=o,f=function(){var g=n?.[u];if(g===void 0)return{v:Jz(n,l)};var m=u,_,b=function(){return _===void 0&&(_=r(g,m)),_},E=g.coordinate,A=u===0||D1(t,E,b,c,s);A||(u=0,c=o,l+=1),A&&(c=E+t*(b()/2+i),u+=l)},h;l<=a.length;)if(h=f(),h)return h.v;return[]}function Av(t){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Av(t)}function c5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c5(Object(r),!0).forEach(function(n){dye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dye(t,e,r){return e=hye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hye(t){var e=pye(t,"string");return Av(e)=="symbol"?e:e+""}function pye(t,e){if(Av(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vye(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=e.start,u=e.end,l=function(h){var v=a[h],g,m=function(){return g===void 0&&(g=r(v,h)),g};if(h===o-1){var _=t*(v.coordinate+t*m()/2-u);a[h]=v=zn(zn({},v),{},{tickCoord:_>0?v.coordinate-_*t:v.coordinate})}else a[h]=v=zn(zn({},v),{},{tickCoord:v.coordinate});var b=D1(t,v.tickCoord,m,s,u);b&&(u=v.tickCoord-t*(m()/2+i),a[h]=zn(zn({},v),{},{isShow:!0}))},c=o-1;c>=0;c--)l(c);return a}function gye(t,e,r,n,i,a){var o=(n||[]).slice(),s=o.length,u=e.start,l=e.end;if(a){var c=n[s-1],f=r(c,s-1),h=t*(c.coordinate+t*f/2-l);o[s-1]=c=zn(zn({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var v=D1(t,c.tickCoord,function(){return f},u,l);v&&(l=c.tickCoord-t*(f/2+i),o[s-1]=zn(zn({},c),{},{isShow:!0}))}for(var g=a?s-1:s,m=function(E){var A=o[E],C,O=function(){return C===void 0&&(C=r(A,E)),C};if(E===0){var R=t*(A.coordinate-t*O()/2-u);o[E]=A=zn(zn({},A),{},{tickCoord:R<0?A.coordinate-R*t:A.coordinate})}else o[E]=A=zn(zn({},A),{},{tickCoord:A.coordinate});var I=D1(t,A.tickCoord,O,u,l);I&&(u=A.tickCoord+t*(O()/2+i),o[E]=zn(zn({},A),{},{isShow:!0}))},_=0;_<g;_++)m(_);return o}function iR(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,u=t.interval,l=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(Ne(u)||fc.isSsr)return cye(i,typeof u=="number"&&Ne(u)?u:0);var h=[],v=s==="top"||s==="bottom"?"width":"height",g=c&&v==="width"?wp(c,{fontSize:e,letterSpacing:r}):{width:0,height:0},m=function(A,C){var O=st(l)?l(A.value,C):A.value;return v==="width"?uye(wp(O,{fontSize:e,letterSpacing:r}),g,f):wp(O,{fontSize:e,letterSpacing:r})[v]},_=i.length>=2?fi(i[1].coordinate-i[0].coordinate):1,b=lye(a,_,v);return u==="equidistantPreserveStart"?fye(_,b,m,i,o):(u==="preserveStart"||u==="preserveStartEnd"?h=gye(_,b,m,i,o,u==="preserveStartEnd"):h=vye(_,b,m,i,o),h.filter(function(E){return E.isShow}))}var mye=["viewBox"],yye=["viewBox"],_ye=["ticks"];function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function wf(){return wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wf.apply(this,arguments)}function f5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f5(Object(r),!0).forEach(function(n){aR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pS(t,e){if(t==null)return{};var r=wye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tW(n.key),n)}}function bye(t,e,r){return e&&d5(t.prototype,e),r&&d5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eye(t,e,r){return e=N1(e),Aye(t,eW()?Reflect.construct(e,r||[],N1(t).constructor):e.apply(t,r))}function Aye(t,e){if(e&&(od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sye(t)}function Sye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eW=function(){return!!t})()}function N1(t){return N1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},N1(t)}function Oye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lC(t,e)}function lC(t,e){return lC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lC(t,e)}function aR(t,e,r){return e=tW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tW(t){var e=Tye(t,"string");return od(e)=="symbol"?e:e+""}function Tye(t,e){if(od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jd=function(t){function e(r){var n;return xye(this,e),n=Eye(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Oye(e,t),bye(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=pS(n,mye),s=this.props,u=s.viewBox,l=pS(s,yye);return!Pf(a,u)||!Pf(o,l)||!Pf(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,u=i.height,l=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,v,g,m,_,b,E,A=f?-1:1,C=n.tickSize||c,O=Ne(n.tickCoord)?n.tickCoord:n.coordinate;switch(l){case"top":v=g=n.coordinate,_=o+ +!f*u,m=_-A*C,E=m-A*h,b=O;break;case"left":m=_=n.coordinate,g=a+ +!f*s,v=g-A*C,b=v-A*h,E=O;break;case"right":m=_=n.coordinate,g=a+ +f*s,v=g+A*C,b=v+A*h,E=O;break;default:v=g=n.coordinate,_=o+ +f*u,m=_+A*C,E=m+A*h,b=O;break}return{line:{x1:v,y1:m,x2:g,y2:_},tick:{x:b,y:E}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,u=n.orientation,l=n.mirror,c=n.axisLine,f=Yr(Yr(Yr({},et(this.props,!1)),et(c,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var h=+(u==="top"&&!l||u==="bottom"&&l);f=Yr(Yr({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var v=+(u==="left"&&!l||u==="right"&&l);f=Yr(Yr({},f),{},{x1:i+v*o,y1:a,x2:i+v*o,y2:a+s})}return $.createElement("line",wf({},f,{className:yt("recharts-cartesian-axis-line",Yi(c,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,u=s.tickLine,l=s.stroke,c=s.tick,f=s.tickFormatter,h=s.unit,v=iR(Yr(Yr({},this.props),{},{ticks:n}),i,a),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),_=et(this.props,!1),b=et(c,!1),E=Yr(Yr({},_),{},{fill:"none"},et(u,!1)),A=v.map(function(C,O){var R=o.getTickLineCoord(C),I=R.line,S=R.tick,T=Yr(Yr(Yr(Yr({textAnchor:g,verticalAnchor:m},_),{},{stroke:"none",fill:l},b),S),{},{index:O,payload:C,visibleTicksCount:v.length,tickFormatter:f});return $.createElement(Lt,wf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},Hl(o.props,C,O)),u&&$.createElement("line",wf({},E,I,{className:yt("recharts-cartesian-axis-tick-line",Yi(u,"className"))})),c&&e.renderTickItem(c,T,"".concat(st(f)?f(C.value,O):C.value).concat(h||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},A)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,u=i.ticksGenerator,l=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,v=pS(f,_ye),g=h;return st(u)&&(g=h&&h.length>0?u(this.props):u(v)),o<=0||s<=0||!g||!g.length?null:$.createElement(Lt,{className:yt("recharts-cartesian-axis",l),ref:function(_){n.layerReference=_}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),_n.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,s=yt(i.className,"recharts-cartesian-axis-tick-value");return $.isValidElement(n)?o=$.cloneElement(n,Yr(Yr({},i),{},{className:s})):st(n)?o=n(Yr(Yr({},i),{},{className:s})):o=$.createElement(Gl,wf({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(z.Component);aR(jd,"displayName","CartesianAxis");aR(jd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Cye=["x1","y1","x2","y2","key"],Iye=["offset"];function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function h5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h5(Object(r),!0).forEach(function(n){Pye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pye(t,e,r){return e=Rye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rye(t){var e=Dye(t,"string");return Yl(e)=="symbol"?e:e+""}function Dye(t,e){if(Yl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tl(){return Tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tl.apply(this,arguments)}function p5(t,e){if(t==null)return{};var r=Nye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Nye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var kye=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,u=e.ry;return $.createElement("rect",{x:i,y:a,ry:u,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function rW(t,e){var r;if($.isValidElement(t))r=$.cloneElement(t,e);else if(st(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,u=p5(e,Cye),l=et(u,!1);l.offset;var c=p5(l,Iye);r=$.createElement("line",Tl({},c,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function Mye(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,u){var l=Gn(Gn({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(u),index:u});return rW(i,l)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Lye(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,u){var l=Gn(Gn({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(u),index:u});return rW(i,l)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function jye(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,u=t.horizontal,l=u===void 0?!0:u;if(!l||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,v){return h-v});i!==c[0]&&c.unshift(0);var f=c.map(function(h,v){var g=!c[v+1],m=g?i+o-h:c[v+1]-h;if(m<=0)return null;var _=v%e.length;return $.createElement("rect",{key:"react-".concat(v),y:h,x:n,height:m,width:a,stroke:"none",fill:e[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Fye(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,u=t.height,l=t.verticalPoints;if(!r||!n||!n.length)return null;var c=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,v){return h-v});a!==c[0]&&c.unshift(0);var f=c.map(function(h,v){var g=!c[v+1],m=g?a+s-h:c[v+1]-h;if(m<=0)return null;var _=v%n.length;return $.createElement("rect",{key:"react-".concat(v),x:h,y:o,width:m,height:u,stroke:"none",fill:n[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Bye=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return Qq(iR(Gn(Gn(Gn({},jd.defaultProps),n),{},{ticks:ls(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},$ye=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return Qq(iR(Gn(Gn(Gn({},jd.defaultProps),n),{},{ticks:ls(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},rf={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function nW(t){var e,r,n,i,a,o,s=eR(),u=tR(),l=Tme(),c=Gn(Gn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:rf.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:rf.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:rf.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:rf.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:rf.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:rf.verticalFill,x:Ne(t.x)?t.x:l.left,y:Ne(t.y)?t.y:l.top,width:Ne(t.width)?t.width:l.width,height:Ne(t.height)?t.height:l.height}),f=c.x,h=c.y,v=c.width,g=c.height,m=c.syncWithTicks,_=c.horizontalValues,b=c.verticalValues,E=Ame(),A=Sme();if(!Ne(v)||v<=0||!Ne(g)||g<=0||!Ne(f)||f!==+f||!Ne(h)||h!==+h)return null;var C=c.verticalCoordinatesGenerator||Bye,O=c.horizontalCoordinatesGenerator||$ye,R=c.horizontalPoints,I=c.verticalPoints;if((!R||!R.length)&&st(O)){var S=_&&_.length,T=O({yAxis:A?Gn(Gn({},A),{},{ticks:S?_:A.ticks}):void 0,width:s,height:u,offset:l},S?!0:m);Ja(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Yl(T),"]")),Array.isArray(T)&&(R=T)}if((!I||!I.length)&&st(C)){var D=b&&b.length,L=C({xAxis:E?Gn(Gn({},E),{},{ticks:D?b:E.ticks}):void 0,width:s,height:u,offset:l},D?!0:m);Ja(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Yl(L),"]")),Array.isArray(L)&&(I=L)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(kye,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),$.createElement(Mye,Tl({},c,{offset:l,horizontalPoints:R,xAxis:E,yAxis:A})),$.createElement(Lye,Tl({},c,{offset:l,verticalPoints:I,xAxis:E,yAxis:A})),$.createElement(jye,Tl({},c,{horizontalPoints:R})),$.createElement(Fye,Tl({},c,{verticalPoints:I})))}nW.displayName="CartesianGrid";var Uye=["type","layout","connectNulls","ref"],Vye=["key"];function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function v5(t,e){if(t==null)return{};var r=qye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Op(){return Op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Op.apply(this,arguments)}function g5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g5(Object(r),!0).forEach(function(n){Ka(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nf(t){return Gye(t)||Hye(t)||Wye(t)||zye()}function zye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wye(t,e){if(t){if(typeof t=="string")return cC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cC(t,e)}}function Hye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gye(t){if(Array.isArray(t))return cC(t)}function cC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Kye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aW(n.key),n)}}function Xye(t,e,r){return e&&m5(t.prototype,e),r&&m5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yye(t,e,r){return e=k1(e),Qye(t,iW()?Reflect.construct(e,r||[],k1(t).constructor):e.apply(t,r))}function Qye(t,e){if(e&&(sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zye(t)}function Zye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iW=function(){return!!t})()}function k1(t){return k1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},k1(t)}function Jye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fC(t,e)}function fC(t,e){return fC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fC(t,e)}function Ka(t,e,r){return e=aW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aW(t){var e=e1e(t,"string");return sd(e)=="symbol"?e:e+""}function e1e(t,e){if(sd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var c0=function(t){function e(){var r;Kye(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Yye(this,e,[].concat(i)),Ka(r,"state",{isAnimationFinished:!0,totalLength:0}),Ka(r,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),Ka(r,"getStrokeDasharray",function(o,s,u){var l=u.reduce(function(b,E){return b+E});if(!l)return r.generateSimpleStrokeDasharray(s,o);for(var c=Math.floor(o/l),f=o%l,h=s-o,v=[],g=0,m=0;g<u.length;m+=u[g],++g)if(m+u[g]>f){v=[].concat(nf(u.slice(0,g)),[f-m]);break}var _=v.length%2===0?[0,h]:[h];return[].concat(nf(e.repeat(u,c)),nf(v),_).map(function(b){return"".concat(b,"px")}).join(", ")}),Ka(r,"id",Cd("recharts-line-")),Ka(r,"pathRef",function(o){r.mainCurve=o}),Ka(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ka(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Jye(e,t),Xye(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,u=a.yAxis,l=a.layout,c=a.children,f=Qi(c,l0);if(!f)return null;var h=function(m,_){return{x:m.x,y:m.y,value:m.value,errorVal:rn(m.payload,_)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return $.createElement(Lt,v,f.map(function(g){return $.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:s,yAxis:u,layout:l,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,u=s.dot,l=s.points,c=s.dataKey,f=et(this.props,!1),h=et(u,!0),v=l.map(function(m,_){var b=qi(qi(qi({key:"dot-".concat(_),r:3},f),h),{},{index:_,cx:m.x,cy:m.y,value:m.value,dataKey:c,payload:m.payload,points:l});return e.renderDotItem(u,b)}),g={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return $.createElement(Lt,Op({className:"recharts-line-dots",key:"dots"},g),v)}},{key:"renderCurveStatically",value:function(n,i,a,o){var s=this.props,u=s.type,l=s.layout,c=s.connectNulls;s.ref;var f=v5(s,Uye),h=qi(qi(qi({},et(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:u,layout:l,connectNulls:c});return $.createElement(p1,Op({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,u=o.strokeDasharray,l=o.isAnimationActive,c=o.animationBegin,f=o.animationDuration,h=o.animationEasing,v=o.animationId,g=o.animateNewValues,m=o.width,_=o.height,b=this.state,E=b.prevPoints,A=b.totalLength;return $.createElement(Mo,{begin:c,duration:f,isActive:l,easing:h,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var O=C.t;if(E){var R=E.length/s.length,I=s.map(function(F,j){var K=Math.floor(j*R);if(E[K]){var ee=E[K],W=Hi(ee.x,F.x),te=Hi(ee.y,F.y);return qi(qi({},F),{},{x:W(O),y:te(O)})}if(g){var X=Hi(m*2,F.x),Q=Hi(_/2,F.y);return qi(qi({},F),{},{x:X(O),y:Q(O)})}return qi(qi({},F),{},{x:F.x,y:F.y})});return a.renderCurveStatically(I,n,i)}var S=Hi(0,A),T=S(O),D;if(u){var L="".concat(u).split(/[,\s]+/gim).map(function(F){return parseFloat(F)});D=a.getStrokeDasharray(T,A,L)}else D=a.generateSimpleStrokeDasharray(A,T);return a.renderCurveStatically(s,n,i,{strokeDasharray:D})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,s=a.isAnimationActive,u=this.state,l=u.prevPoints,c=u.totalLength;return s&&o&&o.length&&(!l&&c>0||!kd(l,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,u=i.className,l=i.xAxis,c=i.yAxis,f=i.top,h=i.left,v=i.width,g=i.height,m=i.isAnimationActive,_=i.id;if(a||!s||!s.length)return null;var b=this.state.isAnimationFinished,E=s.length===1,A=yt("recharts-line",u),C=l&&l.allowDataOverflow,O=c&&c.allowDataOverflow,R=C||O,I=ht(_)?this.id:_,S=(n=et(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=S.r,D=T===void 0?3:T,L=S.strokeWidth,F=L===void 0?2:L,j=Kie(o)?o:{},K=j.clipDot,ee=K===void 0?!0:K,W=D*2+F;return $.createElement(Lt,{className:A},C||O?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(I)},$.createElement("rect",{x:C?h:h-v/2,y:O?f:f-g/2,width:C?v:v*2,height:O?g:g*2})),!ee&&$.createElement("clipPath",{id:"clipPath-dots-".concat(I)},$.createElement("rect",{x:h-W/2,y:f-W/2,width:v+W,height:g+W}))):null,!E&&this.renderCurve(R,I),this.renderErrorBar(R,I),(E||o)&&this.renderDots(R,ee,I),(!m||b)&&ps.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(nf(n),[0]):n,o=[],s=0;s<i;++s)o=[].concat(nf(o),nf(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if($.isValidElement(n))a=$.cloneElement(n,i);else if(st(n))a=n(i);else{var o=i.key,s=v5(i,Vye),u=yt("recharts-line-dot",typeof n!="boolean"?n.className:"");a=$.createElement(J_,Op({key:o},s,{className:u}))}return a}}])}(z.PureComponent);Ka(c0,"displayName","Line");Ka(c0,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!fc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ka(c0,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,u=t.displayedData,l=t.offset,c=e.layout,f=u.map(function(h,v){var g=rn(h,o);return c==="horizontal"?{x:yL({axis:r,ticks:i,bandSize:s,entry:h,index:v}),y:ht(g)?null:n.scale(g),value:g,payload:h}:{x:ht(g)?null:r.scale(g),y:yL({axis:n,ticks:a,bandSize:s,entry:h,index:v}),value:g,payload:h}});return qi({points:f,layout:c},l)});function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function t1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r1e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uW(n.key),n)}}function n1e(t,e,r){return e&&r1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function i1e(t,e,r){return e=M1(e),a1e(t,oW()?Reflect.construct(e,r||[],M1(t).constructor):e.apply(t,r))}function a1e(t,e){if(e&&(ud(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o1e(t)}function o1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oW=function(){return!!t})()}function M1(t){return M1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},M1(t)}function s1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dC(t,e)}function dC(t,e){return dC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dC(t,e)}function sW(t,e,r){return e=uW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uW(t){var e=u1e(t,"string");return ud(e)=="symbol"?e:e+""}function u1e(t,e){if(ud(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hC(){return hC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hC.apply(this,arguments)}function l1e(t){var e=t.xAxisId,r=eR(),n=tR(),i=Wz(e);return i==null?null:z.createElement(jd,hC({},i,{className:yt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ls(o,!0)}}))}var hu=function(t){function e(){return t1e(this,e),i1e(this,e,arguments)}return s1e(e,t),n1e(e,[{key:"render",value:function(){return z.createElement(l1e,this.props)}}])}(z.Component);sW(hu,"displayName","XAxis");sW(hu,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function c1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f1e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fW(n.key),n)}}function d1e(t,e,r){return e&&f1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function h1e(t,e,r){return e=L1(e),p1e(t,lW()?Reflect.construct(e,r||[],L1(t).constructor):e.apply(t,r))}function p1e(t,e){if(e&&(ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v1e(t)}function v1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lW=function(){return!!t})()}function L1(t){return L1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},L1(t)}function g1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pC(t,e)}function pC(t,e){return pC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pC(t,e)}function cW(t,e,r){return e=fW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fW(t){var e=m1e(t,"string");return ld(e)=="symbol"?e:e+""}function m1e(t,e){if(ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function vC(){return vC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vC.apply(this,arguments)}var y1e=function(e){var r=e.yAxisId,n=eR(),i=tR(),a=Hz(r);return a==null?null:z.createElement(jd,vC({},a,{className:yt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return ls(s,!0)}}))},pu=function(t){function e(){return c1e(this,e),h1e(this,e,arguments)}return g1e(e,t),d1e(e,[{key:"render",value:function(){return z.createElement(y1e,this.props)}}])}(z.Component);cW(pu,"displayName","YAxis");cW(pu,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function y5(t){return b1e(t)||x1e(t)||w1e(t)||_1e()}function _1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w1e(t,e){if(t){if(typeof t=="string")return gC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gC(t,e)}}function x1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function b1e(t){if(Array.isArray(t))return gC(t)}function gC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var mC=function(e,r,n,i,a){var o=Qi(e,nR),s=Qi(e,lw),u=[].concat(y5(o),y5(s)),l=Qi(e,fw),c="".concat(i,"Id"),f=i[0],h=r;if(u.length&&(h=u.reduce(function(m,_){if(_.props[c]===n&&Po(_.props,"extendDomain")&&Ne(_.props[f])){var b=_.props[f];return[Math.min(m[0],b),Math.max(m[1],b)]}return m},h)),l.length){var v="".concat(f,"1"),g="".concat(f,"2");h=l.reduce(function(m,_){if(_.props[c]===n&&Po(_.props,"extendDomain")&&Ne(_.props[v])&&Ne(_.props[g])){var b=_.props[v],E=_.props[g];return[Math.min(m[0],b,E),Math.max(m[1],b,E)]}return m},h)}return a&&a.length&&(h=a.reduce(function(m,_){return Ne(_)?[Math.min(m[0],_),Math.max(m[1],_)]:m},h)),h},vS={exports:{}},_5;function E1e(){return _5||(_5=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,l,c){this.fn=u,this.context=l,this.once=c||!1}function a(u,l,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var v=new i(c,f||u,h),g=r?r+l:l;return u._events[g]?u._events[g].fn?u._events[g]=[u._events[g],v]:u._events[g].push(v):(u._events[g]=v,u._eventsCount++),u}function o(u,l){--u._eventsCount===0?u._events=new n:delete u._events[l]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],c,f;if(this._eventsCount===0)return l;for(f in c=this._events)e.call(c,f)&&l.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},s.prototype.listeners=function(l){var c=r?r+l:l,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,v=f.length,g=new Array(v);h<v;h++)g[h]=f[h].fn;return g},s.prototype.listenerCount=function(l){var c=r?r+l:l,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(l,c,f,h,v,g){var m=r?r+l:l;if(!this._events[m])return!1;var _=this._events[m],b=arguments.length,E,A;if(_.fn){switch(_.once&&this.removeListener(l,_.fn,void 0,!0),b){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,c),!0;case 3:return _.fn.call(_.context,c,f),!0;case 4:return _.fn.call(_.context,c,f,h),!0;case 5:return _.fn.call(_.context,c,f,h,v),!0;case 6:return _.fn.call(_.context,c,f,h,v,g),!0}for(A=1,E=new Array(b-1);A<b;A++)E[A-1]=arguments[A];_.fn.apply(_.context,E)}else{var C=_.length,O;for(A=0;A<C;A++)switch(_[A].once&&this.removeListener(l,_[A].fn,void 0,!0),b){case 1:_[A].fn.call(_[A].context);break;case 2:_[A].fn.call(_[A].context,c);break;case 3:_[A].fn.call(_[A].context,c,f);break;case 4:_[A].fn.call(_[A].context,c,f,h);break;default:if(!E)for(O=1,E=new Array(b-1);O<b;O++)E[O-1]=arguments[O];_[A].fn.apply(_[A].context,E)}}return!0},s.prototype.on=function(l,c,f){return a(this,l,c,f,!1)},s.prototype.once=function(l,c,f){return a(this,l,c,f,!0)},s.prototype.removeListener=function(l,c,f,h){var v=r?r+l:l;if(!this._events[v])return this;if(!c)return o(this,v),this;var g=this._events[v];if(g.fn)g.fn===c&&(!h||g.once)&&(!f||g.context===f)&&o(this,v);else{for(var m=0,_=[],b=g.length;m<b;m++)(g[m].fn!==c||h&&!g[m].once||f&&g[m].context!==f)&&_.push(g[m]);_.length?this._events[v]=_.length===1?_[0]:_:o(this,v)}return this},s.prototype.removeAllListeners=function(l){var c;return l?(c=r?r+l:l,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s}(vS)),vS.exports}var A1e=E1e();const S1e=_t(A1e);var gS=new S1e,mS="recharts.syncMouseEvents";function Sv(t){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sv(t)}function O1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T1e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dW(n.key),n)}}function C1e(t,e,r){return e&&T1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yS(t,e,r){return e=dW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dW(t){var e=I1e(t,"string");return Sv(e)=="symbol"?e:e+""}function I1e(t,e){if(Sv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var P1e=function(){function t(){O1e(this,t),yS(this,"activeIndex",0),yS(this,"coordinateList",[]),yS(this,"layout","horizontal")}return C1e(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,u=r.layout,l=u===void 0?null:u,c=r.offset,f=c===void 0?null:c,h=r.mouseHandlerCallback,v=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=l??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,u=this.coordinateList[this.activeIndex].coordinate,l=((r=window)===null||r===void 0?void 0:r.scrollX)||0,c=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+u+l,h=o+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function R1e(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&Ne(n)&&Ne(i))return!0}return!1}function D1e(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function hW(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=sr(e,r,n,i),s=sr(e,r,n,a);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function N1e(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,u=e.cy,l=e.innerRadius,c=e.outerRadius,f=e.angle,h=sr(s,u,l,f),v=sr(s,u,c,f);n=h.x,i=h.y,a=v.x,o=v.y}else return hW(e);return[{x:n,y:i},{x:a,y:o}]}function Ov(t){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ov(t)}function w5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w5(Object(r),!0).forEach(function(n){k1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k1e(t,e,r){return e=M1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M1e(t){var e=L1e(t,"string");return Ov(e)=="symbol"?e:e+""}function L1e(t,e){if(Ov(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j1e(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,u=t.offset,l=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,v=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var g,m=p1;if(h==="ScatterChart")g=o,m=f0e;else if(h==="BarChart")g=D1e(f,o,u,c),m=XP;else if(f==="radial"){var _=hW(o),b=_.cx,E=_.cy,A=_.radius,C=_.startAngle,O=_.endAngle;g={cx:b,cy:E,startAngle:C,endAngle:O,innerRadius:A,outerRadius:A},m=lz}else g={points:N1e(f,o,u)},m=p1;var R=nm(nm(nm(nm({stroke:"#ccc",pointerEvents:"none"},u),g),et(v,!1)),{},{payload:s,payloadIndex:l,className:yt("recharts-tooltip-cursor",v.className)});return z.isValidElement(v)?z.cloneElement(v,R):z.createElement(m,R)}var F1e=["item"],B1e=["children","className","width","height","style","compact","title","desc"];function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function xf(){return xf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xf.apply(this,arguments)}function x5(t,e){return V1e(t)||U1e(t,e)||vW(t,e)||$1e()}function $1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U1e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function V1e(t){if(Array.isArray(t))return t}function b5(t,e){if(t==null)return{};var r=q1e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function q1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function z1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W1e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gW(n.key),n)}}function H1e(t,e,r){return e&&W1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function G1e(t,e,r){return e=j1(e),K1e(t,pW()?Reflect.construct(e,r||[],j1(t).constructor):e.apply(t,r))}function K1e(t,e){if(e&&(cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X1e(t)}function X1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pW=function(){return!!t})()}function j1(t){return j1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},j1(t)}function Y1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yC(t,e)}function yC(t,e){return yC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yC(t,e)}function fd(t){return J1e(t)||Z1e(t)||vW(t)||Q1e()}function Q1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vW(t,e){if(t){if(typeof t=="string")return _C(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _C(t,e)}}function Z1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function J1e(t){if(Array.isArray(t))return _C(t)}function _C(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function E5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function me(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E5(Object(r),!0).forEach(function(n){rt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rt(t,e,r){return e=gW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gW(t){var e=e_e(t,"string");return cd(e)=="symbol"?e:e+""}function e_e(t,e){if(cd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var t_e={xAxis:["bottom","top"],yAxis:["left","right"]},r_e={width:"100%",height:"100%"},mW={x:0,y:0};function im(t){return t}var n_e=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},i_e=function(e,r,n,i){var a=r.find(function(c){return c&&c.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return me(me(me({},i),sr(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var u=a.coordinate,l=i.angle;return me(me(me({},i),sr(i.cx,i.cy,u,l)),{},{angle:l,radius:u})}return mW},dw=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,u){var l=u.props.data;return l&&l.length?[].concat(fd(s),fd(l)):s},[]);return o.length>0?o:e&&e.length&&Ne(i)&&Ne(a)?e.slice(i,a+1):[]};function yW(t){return t==="number"?[0,"auto"]:void 0}var wC=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,s=dw(r,e);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(u,l){var c,f=(c=l.props.data)!==null&&c!==void 0?c:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var v=f===void 0?s:f;h=$y(v,o.dataKey,i)}else h=f&&f[n]||s[n];return h?[].concat(fd(u),[rz(l,h)]):u},[])},A5=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=n_e(a,n),s=e.orderedTooltipTicks,u=e.tooltipAxis,l=e.tooltipTicks,c=Dde(o,s,l,u);if(c>=0&&l){var f=l[c]&&l[c].value,h=wC(e,r,c,f),v=i_e(n,s,c,a);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:v}}return null},a_e=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,u=r.dataStartIndex,l=r.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,v=Yq(c,a);return n.reduce(function(g,m){var _,b=m.type.defaultProps!==void 0?me(me({},m.type.defaultProps),m.props):m.props,E=b.type,A=b.dataKey,C=b.allowDataOverflow,O=b.allowDuplicatedCategory,R=b.scale,I=b.ticks,S=b.includeHidden,T=b[o];if(g[T])return g;var D=dw(e.data,{graphicalItems:i.filter(function(Y){var ae,xe=o in Y.props?Y.props[o]:(ae=Y.type.defaultProps)===null||ae===void 0?void 0:ae[o];return xe===T}),dataStartIndex:u,dataEndIndex:l}),L=D.length,F,j,K;R1e(b.domain,C,E)&&(F=kT(b.domain,null,C),v&&(E==="number"||R!=="auto")&&(K=bp(D,A,"category")));var ee=yW(E);if(!F||F.length===0){var W,te=(W=b.domain)!==null&&W!==void 0?W:ee;if(A){if(F=bp(D,A,E),E==="category"&&v){var X=Fie(F);O&&X?(j=F,F=wv(0,L)):O||(F=bL(te,F,m).reduce(function(Y,ae){return Y.indexOf(ae)>=0?Y:[].concat(fd(Y),[ae])},[]))}else if(E==="category")O?F=F.filter(function(Y){return Y!==""&&!ht(Y)}):F=bL(te,F,m).reduce(function(Y,ae){return Y.indexOf(ae)>=0||ae===""||ht(ae)?Y:[].concat(fd(Y),[ae])},[]);else if(E==="number"){var Q=jde(D,i.filter(function(Y){var ae,xe,Oe=o in Y.props?Y.props[o]:(ae=Y.type.defaultProps)===null||ae===void 0?void 0:ae[o],Te="hide"in Y.props?Y.props.hide:(xe=Y.type.defaultProps)===null||xe===void 0?void 0:xe.hide;return Oe===T&&(S||!Te)}),A,a,c);Q&&(F=Q)}v&&(E==="number"||R!=="auto")&&(K=bp(D,A,"category"))}else v?F=wv(0,L):s&&s[T]&&s[T].hasStack&&E==="number"?F=h==="expand"?[0,1]:tz(s[T].stackGroups,u,l):F=Xq(D,i.filter(function(Y){var ae=o in Y.props?Y.props[o]:Y.type.defaultProps[o],xe="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return ae===T&&(S||!xe)}),E,c,!0);if(E==="number")F=mC(f,F,T,a,I),te&&(F=kT(te,F,C));else if(E==="category"&&te){var se=te,q=F.every(function(Y){return se.indexOf(Y)>=0});q&&(F=se)}}return me(me({},g),{},rt({},T,me(me({},b),{},{axisType:a,domain:F,categoricalDomain:K,duplicateDomain:j,originalDomain:(_=b.domain)!==null&&_!==void 0?_:ee,isCategorical:v,layout:c})))},{})},o_e=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,u=r.dataStartIndex,l=r.dataEndIndex,c=e.layout,f=e.children,h=dw(e.data,{graphicalItems:n,dataStartIndex:u,dataEndIndex:l}),v=h.length,g=Yq(c,a),m=-1;return n.reduce(function(_,b){var E=b.type.defaultProps!==void 0?me(me({},b.type.defaultProps),b.props):b.props,A=E[o],C=yW("number");if(!_[A]){m++;var O;return g?O=wv(0,v):s&&s[A]&&s[A].hasStack?(O=tz(s[A].stackGroups,u,l),O=mC(f,O,A,a)):(O=kT(C,Xq(h,n.filter(function(R){var I,S,T=o in R.props?R.props[o]:(I=R.type.defaultProps)===null||I===void 0?void 0:I[o],D="hide"in R.props?R.props.hide:(S=R.type.defaultProps)===null||S===void 0?void 0:S.hide;return T===A&&!D}),"number",c),i.defaultProps.allowDataOverflow),O=mC(f,O,A,a)),me(me({},_),{},rt({},A,me(me({axisType:a},i.defaultProps),{},{hide:!0,orientation:Yi(t_e,"".concat(a,".").concat(m%2),null),domain:O,originalDomain:C,isCategorical:g,layout:c})))}return _},{})},s_e=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,u=r.dataStartIndex,l=r.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=Qi(c,a),v={};return h&&h.length?v=a_e(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:u,dataEndIndex:l}):o&&o.length&&(v=o_e(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:u,dataEndIndex:l})),v},u_e=function(e){var r=uu(e),n=ls(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:$_(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:f1(r,n)}},S5=function(e){var r=e.children,n=e.defaultShowTooltip,i=Wi(r,td),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},l_e=function(e){return!e||!e.length?!1:e.some(function(r){var n=ds(r&&r.type);return n&&n.indexOf("Bar")>=0})},O5=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},c_e=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,u=s===void 0?{}:s,l=n.width,c=n.height,f=n.children,h=n.margin||{},v=Wi(f,td),g=Wi(f,Dl),m=Object.keys(u).reduce(function(O,R){var I=u[R],S=I.orientation;return!I.mirror&&!I.hide?me(me({},O),{},rt({},S,O[S]+I.width)):O},{left:h.left||0,right:h.right||0}),_=Object.keys(o).reduce(function(O,R){var I=o[R],S=I.orientation;return!I.mirror&&!I.hide?me(me({},O),{},rt({},S,Yi(O,"".concat(S))+I.height)):O},{top:h.top||0,bottom:h.bottom||0}),b=me(me({},_),m),E=b.bottom;v&&(b.bottom+=v.props.height||td.defaultProps.height),g&&r&&(b=Mde(b,i,n,r));var A=l-b.left-b.right,C=c-b.top-b.bottom;return me(me({brushBottom:E},b),{},{width:Math.max(A,0),height:Math.max(C,0)})},f_e=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},oR=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,u=e.axisComponents,l=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(b,E){var A=E.graphicalItems,C=E.stackGroups,O=E.offset,R=E.updateId,I=E.dataStartIndex,S=E.dataEndIndex,T=b.barSize,D=b.layout,L=b.barGap,F=b.barCategoryGap,j=b.maxBarSize,K=O5(D),ee=K.numericAxisName,W=K.cateAxisName,te=l_e(A),X=[];return A.forEach(function(Q,se){var q=dw(b.data,{graphicalItems:[Q],dataStartIndex:I,dataEndIndex:S}),Y=Q.type.defaultProps!==void 0?me(me({},Q.type.defaultProps),Q.props):Q.props,ae=Y.dataKey,xe=Y.maxBarSize,Oe=Y["".concat(ee,"Id")],Te=Y["".concat(W,"Id")],Be={},Ae=u.reduce(function(it,nt){var lt=E["".concat(nt.axisType,"Map")],ft=Y["".concat(nt.axisType,"Id")];lt&&lt[ft]||nt.axisType==="zAxis"||Xl();var xt=lt[ft];return me(me({},it),{},rt(rt({},nt.axisType,xt),"".concat(nt.axisType,"Ticks"),ls(xt)))},Be),G=Ae[W],ne=Ae["".concat(W,"Ticks")],re=C&&C[Oe]&&C[Oe].hasStack&&Hde(Q,C[Oe].stackGroups),Z=ds(Q.type).indexOf("Bar")>=0,fe=f1(G,ne),ye=[],pe=te&&Nde({barSize:T,stackGroups:C,totalSize:f_e(Ae,W)});if(Z){var be,Re,je=ht(xe)?j:xe,Ie=(be=(Re=f1(G,ne,!0))!==null&&Re!==void 0?Re:je)!==null&&be!==void 0?be:0;ye=kde({barGap:L,barCategoryGap:F,bandSize:Ie!==fe?Ie:fe,sizeList:pe[Te],maxBarSize:je}),Ie!==fe&&(ye=ye.map(function(it){return me(me({},it),{},{position:me(me({},it.position),{},{offset:it.position.offset-Ie/2})})}))}var Le=Q&&Q.type&&Q.type.getComposedData;Le&&X.push({props:me(me({},Le(me(me({},Ae),{},{displayedData:q,props:b,dataKey:ae,item:Q,bandSize:fe,barPosition:ye,offset:O,stackedData:re,layout:D,dataStartIndex:I,dataEndIndex:S}))),{},rt(rt(rt({key:Q.key||"item-".concat(se)},ee,Ae[ee]),W,Ae[W]),"animationId",R)),childIndex:Qie(Q,b.children),item:Q})}),X},v=function(b,E){var A=b.props,C=b.dataStartIndex,O=b.dataEndIndex,R=b.updateId;if(!L4({props:A}))return null;var I=A.children,S=A.layout,T=A.stackOffset,D=A.data,L=A.reverseStackOrder,F=O5(S),j=F.numericAxisName,K=F.cateAxisName,ee=Qi(I,n),W=zde(D,ee,"".concat(j,"Id"),"".concat(K,"Id"),T,L),te=u.reduce(function(Y,ae){var xe="".concat(ae.axisType,"Map");return me(me({},Y),{},rt({},xe,s_e(A,me(me({},ae),{},{graphicalItems:ee,stackGroups:ae.axisType===j&&W,dataStartIndex:C,dataEndIndex:O}))))},{}),X=c_e(me(me({},te),{},{props:A,graphicalItems:ee}),E?.legendBBox);Object.keys(te).forEach(function(Y){te[Y]=c(A,te[Y],X,Y.replace("Map",""),r)});var Q=te["".concat(K,"Map")],se=u_e(Q),q=h(A,me(me({},te),{},{dataStartIndex:C,dataEndIndex:O,updateId:R,graphicalItems:ee,stackGroups:W,offset:X}));return me(me({formattedGraphicalItems:q,graphicalItems:ee,offset:X,stackGroups:W},se),te)},g=function(_){function b(E){var A,C,O;return z1e(this,b),O=G1e(this,b,[E]),rt(O,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),rt(O,"accessibilityManager",new P1e),rt(O,"handleLegendBBoxUpdate",function(R){if(R){var I=O.state,S=I.dataStartIndex,T=I.dataEndIndex,D=I.updateId;O.setState(me({legendBBox:R},v({props:O.props,dataStartIndex:S,dataEndIndex:T,updateId:D},me(me({},O.state),{},{legendBBox:R}))))}}),rt(O,"handleReceiveSyncEvent",function(R,I,S){if(O.props.syncId===R){if(S===O.eventEmitterSymbol&&typeof O.props.syncMethod!="function")return;O.applySyncEvent(I)}}),rt(O,"handleBrushChange",function(R){var I=R.startIndex,S=R.endIndex;if(I!==O.state.dataStartIndex||S!==O.state.dataEndIndex){var T=O.state.updateId;O.setState(function(){return me({dataStartIndex:I,dataEndIndex:S},v({props:O.props,dataStartIndex:I,dataEndIndex:S,updateId:T},O.state))}),O.triggerSyncEvent({dataStartIndex:I,dataEndIndex:S})}}),rt(O,"handleMouseEnter",function(R){var I=O.getMouseInfo(R);if(I){var S=me(me({},I),{},{isTooltipActive:!0});O.setState(S),O.triggerSyncEvent(S);var T=O.props.onMouseEnter;st(T)&&T(S,R)}}),rt(O,"triggeredAfterMouseMove",function(R){var I=O.getMouseInfo(R),S=I?me(me({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};O.setState(S),O.triggerSyncEvent(S);var T=O.props.onMouseMove;st(T)&&T(S,R)}),rt(O,"handleItemMouseEnter",function(R){O.setState(function(){return{isTooltipActive:!0,activeItem:R,activePayload:R.tooltipPayload,activeCoordinate:R.tooltipPosition||{x:R.cx,y:R.cy}}})}),rt(O,"handleItemMouseLeave",function(){O.setState(function(){return{isTooltipActive:!1}})}),rt(O,"handleMouseMove",function(R){R.persist(),O.throttleTriggeredAfterMouseMove(R)}),rt(O,"handleMouseLeave",function(R){O.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};O.setState(I),O.triggerSyncEvent(I);var S=O.props.onMouseLeave;st(S)&&S(I,R)}),rt(O,"handleOuterEvent",function(R){var I=Yie(R),S=Yi(O.props,"".concat(I));if(I&&st(S)){var T,D;/.*touch.*/i.test(I)?D=O.getMouseInfo(R.changedTouches[0]):D=O.getMouseInfo(R),S((T=D)!==null&&T!==void 0?T:{},R)}}),rt(O,"handleClick",function(R){var I=O.getMouseInfo(R);if(I){var S=me(me({},I),{},{isTooltipActive:!0});O.setState(S),O.triggerSyncEvent(S);var T=O.props.onClick;st(T)&&T(S,R)}}),rt(O,"handleMouseDown",function(R){var I=O.props.onMouseDown;if(st(I)){var S=O.getMouseInfo(R);I(S,R)}}),rt(O,"handleMouseUp",function(R){var I=O.props.onMouseUp;if(st(I)){var S=O.getMouseInfo(R);I(S,R)}}),rt(O,"handleTouchMove",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&O.throttleTriggeredAfterMouseMove(R.changedTouches[0])}),rt(O,"handleTouchStart",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&O.handleMouseDown(R.changedTouches[0])}),rt(O,"handleTouchEnd",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&O.handleMouseUp(R.changedTouches[0])}),rt(O,"handleDoubleClick",function(R){var I=O.props.onDoubleClick;if(st(I)){var S=O.getMouseInfo(R);I(S,R)}}),rt(O,"handleContextMenu",function(R){var I=O.props.onContextMenu;if(st(I)){var S=O.getMouseInfo(R);I(S,R)}}),rt(O,"triggerSyncEvent",function(R){O.props.syncId!==void 0&&gS.emit(mS,O.props.syncId,R,O.eventEmitterSymbol)}),rt(O,"applySyncEvent",function(R){var I=O.props,S=I.layout,T=I.syncMethod,D=O.state.updateId,L=R.dataStartIndex,F=R.dataEndIndex;if(R.dataStartIndex!==void 0||R.dataEndIndex!==void 0)O.setState(me({dataStartIndex:L,dataEndIndex:F},v({props:O.props,dataStartIndex:L,dataEndIndex:F,updateId:D},O.state)));else if(R.activeTooltipIndex!==void 0){var j=R.chartX,K=R.chartY,ee=R.activeTooltipIndex,W=O.state,te=W.offset,X=W.tooltipTicks;if(!te)return;if(typeof T=="function")ee=T(X,R);else if(T==="value"){ee=-1;for(var Q=0;Q<X.length;Q++)if(X[Q].value===R.activeLabel){ee=Q;break}}var se=me(me({},te),{},{x:te.left,y:te.top}),q=Math.min(j,se.x+se.width),Y=Math.min(K,se.y+se.height),ae=X[ee]&&X[ee].value,xe=wC(O.state,O.props.data,ee),Oe=X[ee]?{x:S==="horizontal"?X[ee].coordinate:q,y:S==="horizontal"?Y:X[ee].coordinate}:mW;O.setState(me(me({},R),{},{activeLabel:ae,activeCoordinate:Oe,activePayload:xe,activeTooltipIndex:ee}))}else O.setState(R)}),rt(O,"renderCursor",function(R){var I,S=O.state,T=S.isTooltipActive,D=S.activeCoordinate,L=S.activePayload,F=S.offset,j=S.activeTooltipIndex,K=S.tooltipAxisBandSize,ee=O.getTooltipEventType(),W=(I=R.props.active)!==null&&I!==void 0?I:T,te=O.props.layout,X=R.key||"_recharts-cursor";return $.createElement(j1e,{key:X,activeCoordinate:D,activePayload:L,activeTooltipIndex:j,chartName:r,element:R,isActive:W,layout:te,offset:F,tooltipAxisBandSize:K,tooltipEventType:ee})}),rt(O,"renderPolarAxis",function(R,I,S){var T=Yi(R,"type.axisType"),D=Yi(O.state,"".concat(T,"Map")),L=R.type.defaultProps,F=L!==void 0?me(me({},L),R.props):R.props,j=D&&D[F["".concat(T,"Id")]];return z.cloneElement(R,me(me({},j),{},{className:yt(T,j.className),key:R.key||"".concat(I,"-").concat(S),ticks:ls(j,!0)}))}),rt(O,"renderPolarGrid",function(R){var I=R.props,S=I.radialLines,T=I.polarAngles,D=I.polarRadius,L=O.state,F=L.radiusAxisMap,j=L.angleAxisMap,K=uu(F),ee=uu(j),W=ee.cx,te=ee.cy,X=ee.innerRadius,Q=ee.outerRadius;return z.cloneElement(R,{polarAngles:Array.isArray(T)?T:ls(ee,!0).map(function(se){return se.coordinate}),polarRadius:Array.isArray(D)?D:ls(K,!0).map(function(se){return se.coordinate}),cx:W,cy:te,innerRadius:X,outerRadius:Q,key:R.key||"polar-grid",radialLines:S})}),rt(O,"renderLegend",function(){var R=O.state.formattedGraphicalItems,I=O.props,S=I.children,T=I.width,D=I.height,L=O.props.margin||{},F=T-(L.left||0)-(L.right||0),j=Gq({children:S,formattedGraphicalItems:R,legendWidth:F,legendContent:l});if(!j)return null;var K=j.item,ee=b5(j,F1e);return z.cloneElement(K,me(me({},ee),{},{chartWidth:T,chartHeight:D,margin:L,onBBoxUpdate:O.handleLegendBBoxUpdate}))}),rt(O,"renderTooltip",function(){var R,I=O.props,S=I.children,T=I.accessibilityLayer,D=Wi(S,li);if(!D)return null;var L=O.state,F=L.isTooltipActive,j=L.activeCoordinate,K=L.activePayload,ee=L.activeLabel,W=L.offset,te=(R=D.props.active)!==null&&R!==void 0?R:F;return z.cloneElement(D,{viewBox:me(me({},W),{},{x:W.left,y:W.top}),active:te,label:ee,payload:te?K:[],coordinate:j,accessibilityLayer:T})}),rt(O,"renderBrush",function(R){var I=O.props,S=I.margin,T=I.data,D=O.state,L=D.offset,F=D.dataStartIndex,j=D.dataEndIndex,K=D.updateId;return z.cloneElement(R,{key:R.key||"_recharts-brush",onChange:Jg(O.handleBrushChange,R.props.onChange),data:T,x:Ne(R.props.x)?R.props.x:L.left,y:Ne(R.props.y)?R.props.y:L.top+L.height+L.brushBottom-(S.bottom||0),width:Ne(R.props.width)?R.props.width:L.width,startIndex:F,endIndex:j,updateId:"brush-".concat(K)})}),rt(O,"renderReferenceElement",function(R,I,S){if(!R)return null;var T=O,D=T.clipPathId,L=O.state,F=L.xAxisMap,j=L.yAxisMap,K=L.offset,ee=R.type.defaultProps||{},W=R.props,te=W.xAxisId,X=te===void 0?ee.xAxisId:te,Q=W.yAxisId,se=Q===void 0?ee.yAxisId:Q;return z.cloneElement(R,{key:R.key||"".concat(I,"-").concat(S),xAxis:F[X],yAxis:j[se],viewBox:{x:K.left,y:K.top,width:K.width,height:K.height},clipPathId:D})}),rt(O,"renderActivePoints",function(R){var I=R.item,S=R.activePoint,T=R.basePoint,D=R.childIndex,L=R.isRange,F=[],j=I.props.key,K=I.item.type.defaultProps!==void 0?me(me({},I.item.type.defaultProps),I.item.props):I.item.props,ee=K.activeDot,W=K.dataKey,te=me(me({index:D,dataKey:W,cx:S.x,cy:S.y,r:4,fill:KP(I.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},et(ee,!1)),Uy(ee));return F.push(b.renderActiveDot(ee,te,"".concat(j,"-activePoint-").concat(D))),T?F.push(b.renderActiveDot(ee,me(me({},te),{},{cx:T.x,cy:T.y}),"".concat(j,"-basePoint-").concat(D))):L&&F.push(null),F}),rt(O,"renderGraphicChild",function(R,I,S){var T=O.filterFormatItem(R,I,S);if(!T)return null;var D=O.getTooltipEventType(),L=O.state,F=L.isTooltipActive,j=L.tooltipAxis,K=L.activeTooltipIndex,ee=L.activeLabel,W=O.props.children,te=Wi(W,li),X=T.props,Q=X.points,se=X.isRange,q=X.baseLine,Y=T.item.type.defaultProps!==void 0?me(me({},T.item.type.defaultProps),T.item.props):T.item.props,ae=Y.activeDot,xe=Y.hide,Oe=Y.activeBar,Te=Y.activeShape,Be=!!(!xe&&F&&te&&(ae||Oe||Te)),Ae={};D!=="axis"&&te&&te.props.trigger==="click"?Ae={onClick:Jg(O.handleItemMouseEnter,R.props.onClick)}:D!=="axis"&&(Ae={onMouseLeave:Jg(O.handleItemMouseLeave,R.props.onMouseLeave),onMouseEnter:Jg(O.handleItemMouseEnter,R.props.onMouseEnter)});var G=z.cloneElement(R,me(me({},T.props),Ae));function ne(nt){return typeof j.dataKey=="function"?j.dataKey(nt.payload):null}if(Be)if(K>=0){var re,Z;if(j.dataKey&&!j.allowDuplicatedCategory){var fe=typeof j.dataKey=="function"?ne:"payload.".concat(j.dataKey.toString());re=$y(Q,fe,ee),Z=se&&q&&$y(q,fe,ee)}else re=Q?.[K],Z=se&&q&&q[K];if(Te||Oe){var ye=R.props.activeIndex!==void 0?R.props.activeIndex:K;return[z.cloneElement(R,me(me(me({},T.props),Ae),{},{activeIndex:ye})),null,null]}if(!ht(re))return[G].concat(fd(O.renderActivePoints({item:T,activePoint:re,basePoint:Z,childIndex:K,isRange:se})))}else{var pe,be=(pe=O.getItemByXY(O.state.activeCoordinate))!==null&&pe!==void 0?pe:{graphicalItem:G},Re=be.graphicalItem,je=Re.item,Ie=je===void 0?R:je,Le=Re.childIndex,it=me(me(me({},T.props),Ae),{},{activeIndex:Le});return[z.cloneElement(Ie,it),null,null]}return se?[G,null,null]:[G,null]}),rt(O,"renderCustomized",function(R,I,S){return z.cloneElement(R,me(me({key:"recharts-customized-".concat(S)},O.props),O.state))}),rt(O,"renderMap",{CartesianGrid:{handler:im,once:!0},ReferenceArea:{handler:O.renderReferenceElement},ReferenceLine:{handler:im},ReferenceDot:{handler:O.renderReferenceElement},XAxis:{handler:im},YAxis:{handler:im},Brush:{handler:O.renderBrush,once:!0},Bar:{handler:O.renderGraphicChild},Line:{handler:O.renderGraphicChild},Area:{handler:O.renderGraphicChild},Radar:{handler:O.renderGraphicChild},RadialBar:{handler:O.renderGraphicChild},Scatter:{handler:O.renderGraphicChild},Pie:{handler:O.renderGraphicChild},Funnel:{handler:O.renderGraphicChild},Tooltip:{handler:O.renderCursor,once:!0},PolarGrid:{handler:O.renderPolarGrid,once:!0},PolarAngleAxis:{handler:O.renderPolarAxis},PolarRadiusAxis:{handler:O.renderPolarAxis},Customized:{handler:O.renderCustomized}}),O.clipPathId="".concat((A=E.id)!==null&&A!==void 0?A:Cd("recharts"),"-clip"),O.throttleTriggeredAfterMouseMove=HV(O.triggeredAfterMouseMove,(C=E.throttleDelay)!==null&&C!==void 0?C:1e3/60),O.state={},O}return Y1e(b,_),H1e(b,[{key:"componentDidMount",value:function(){var A,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var A=this.props,C=A.children,O=A.data,R=A.height,I=A.layout,S=Wi(C,li);if(S){var T=S.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,L=wC(this.state,O,T,D),F=this.state.tooltipTicks[T].coordinate,j=(this.state.offset.top+R)/2,K=I==="horizontal",ee=K?{x:F,y:j}:{y:F,x:j},W=this.state.formattedGraphicalItems.find(function(X){var Q=X.item;return Q.type.name==="Scatter"});W&&(ee=me(me({},ee),W.props.points[T].tooltipPosition),L=W.props.points[T].tooltipPayload);var te={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:D,activePayload:L,activeCoordinate:ee};this.setState(te),this.renderCursor(S),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(A,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==A.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==A.margin){var O,R;this.accessibilityManager.setDetails({offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0}})}return null}},{key:"componentDidUpdate",value:function(A){rT([Wi(A.children,li)],[Wi(this.props.children,li)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var A=Wi(this.props.children,li);if(A&&typeof A.props.shared=="boolean"){var C=A.props.shared?"axis":"item";return s.indexOf(C)>=0?C:a}return a}},{key:"getMouseInfo",value:function(A){if(!this.container)return null;var C=this.container,O=C.getBoundingClientRect(),R=Aue(O),I={chartX:Math.round(A.pageX-R.left),chartY:Math.round(A.pageY-R.top)},S=O.width/C.offsetWidth||1,T=this.inRange(I.chartX,I.chartY,S);if(!T)return null;var D=this.state,L=D.xAxisMap,F=D.yAxisMap,j=this.getTooltipEventType(),K=A5(this.state,this.props.data,this.props.layout,T);if(j!=="axis"&&L&&F){var ee=uu(L).scale,W=uu(F).scale,te=ee&&ee.invert?ee.invert(I.chartX):null,X=W&&W.invert?W.invert(I.chartY):null;return me(me({},I),{},{xValue:te,yValue:X},K)}return K?me(me({},I),K):null}},{key:"inRange",value:function(A,C){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,R=this.props.layout,I=A/O,S=C/O;if(R==="horizontal"||R==="vertical"){var T=this.state.offset,D=I>=T.left&&I<=T.left+T.width&&S>=T.top&&S<=T.top+T.height;return D?{x:I,y:S}:null}var L=this.state,F=L.angleAxisMap,j=L.radiusAxisMap;if(F&&j){var K=uu(F);return SL({x:I,y:S},K)}return null}},{key:"parseEventsOfWrapper",value:function(){var A=this.props.children,C=this.getTooltipEventType(),O=Wi(A,li),R={};O&&C==="axis"&&(O.props.trigger==="click"?R={onClick:this.handleClick}:R={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var I=Uy(this.props,this.handleOuterEvent);return me(me({},I),R)}},{key:"addListener",value:function(){gS.on(mS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){gS.removeListener(mS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(A,C,O){for(var R=this.state.formattedGraphicalItems,I=0,S=R.length;I<S;I++){var T=R[I];if(T.item===A||T.props.key===A.key||C===ds(T.item.type)&&O===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var A=this.clipPathId,C=this.state.offset,O=C.left,R=C.top,I=C.height,S=C.width;return $.createElement("defs",null,$.createElement("clipPath",{id:A},$.createElement("rect",{x:O,y:R,height:I,width:S})))}},{key:"getXScales",value:function(){var A=this.state.xAxisMap;return A?Object.entries(A).reduce(function(C,O){var R=x5(O,2),I=R[0],S=R[1];return me(me({},C),{},rt({},I,S.scale))},{}):null}},{key:"getYScales",value:function(){var A=this.state.yAxisMap;return A?Object.entries(A).reduce(function(C,O){var R=x5(O,2),I=R[0],S=R[1];return me(me({},C),{},rt({},I,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(A){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[A])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(A){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[A])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(A){var C=this.state,O=C.formattedGraphicalItems,R=C.activeItem;if(O&&O.length)for(var I=0,S=O.length;I<S;I++){var T=O[I],D=T.props,L=T.item,F=L.type.defaultProps!==void 0?me(me({},L.type.defaultProps),L.props):L.props,j=ds(L.type);if(j==="Bar"){var K=(D.data||[]).find(function(X){return Wve(A,X)});if(K)return{graphicalItem:T,payload:K}}else if(j==="RadialBar"){var ee=(D.data||[]).find(function(X){return SL(A,X)});if(ee)return{graphicalItem:T,payload:ee}}else if(aw(T,R)||ow(T,R)||_v(T,R)){var W=dge({graphicalItem:T,activeTooltipItem:R,itemData:F.data}),te=F.activeIndex===void 0?W:F.activeIndex;return{graphicalItem:me(me({},T),{},{childIndex:te}),payload:_v(T,R)?F.data[W]:T.props.data[W]}}}return null}},{key:"render",value:function(){var A=this;if(!L4(this))return null;var C=this.props,O=C.children,R=C.className,I=C.width,S=C.height,T=C.style,D=C.compact,L=C.title,F=C.desc,j=b5(C,B1e),K=et(j,!1);if(D)return $.createElement(r5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(iT,xf({},K,{width:I,height:S,title:L,desc:F}),this.renderClipPath(),F4(O,this.renderMap)));if(this.props.accessibilityLayer){var ee,W;K.tabIndex=(ee=this.props.tabIndex)!==null&&ee!==void 0?ee:0,K.role=(W=this.props.role)!==null&&W!==void 0?W:"application",K.onKeyDown=function(X){A.accessibilityManager.keyboardEvent(X)},K.onFocus=function(){A.accessibilityManager.focus()}}var te=this.parseEventsOfWrapper();return $.createElement(r5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",xf({className:yt("recharts-wrapper",R),style:me({position:"relative",cursor:"default",width:I,height:S},T)},te,{ref:function(Q){A.container=Q}}),$.createElement(iT,xf({},K,{width:I,height:S,title:L,desc:F,style:r_e}),this.renderClipPath(),F4(O,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(z.Component);rt(g,"displayName",r),rt(g,"defaultProps",me({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),rt(g,"getDerivedStateFromProps",function(_,b){var E=_.dataKey,A=_.data,C=_.children,O=_.width,R=_.height,I=_.layout,S=_.stackOffset,T=_.margin,D=b.dataStartIndex,L=b.dataEndIndex;if(b.updateId===void 0){var F=S5(_);return me(me(me({},F),{},{updateId:0},v(me(me({props:_},F),{},{updateId:0}),b)),{},{prevDataKey:E,prevData:A,prevWidth:O,prevHeight:R,prevLayout:I,prevStackOffset:S,prevMargin:T,prevChildren:C})}if(E!==b.prevDataKey||A!==b.prevData||O!==b.prevWidth||R!==b.prevHeight||I!==b.prevLayout||S!==b.prevStackOffset||!Pf(T,b.prevMargin)){var j=S5(_),K={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},ee=me(me({},A5(b,A,I)),{},{updateId:b.updateId+1}),W=me(me(me({},j),K),ee);return me(me(me({},W),v(me({props:_},W),b)),{},{prevDataKey:E,prevData:A,prevWidth:O,prevHeight:R,prevLayout:I,prevStackOffset:S,prevMargin:T,prevChildren:C})}if(!rT(C,b.prevChildren)){var te,X,Q,se,q=Wi(C,td),Y=q&&(te=(X=q.props)===null||X===void 0?void 0:X.startIndex)!==null&&te!==void 0?te:D,ae=q&&(Q=(se=q.props)===null||se===void 0?void 0:se.endIndex)!==null&&Q!==void 0?Q:L,xe=Y!==D||ae!==L,Oe=!ht(A),Te=Oe&&!xe?b.updateId:b.updateId+1;return me(me({updateId:Te},v(me(me({props:_},b),{},{updateId:Te,dataStartIndex:Y,dataEndIndex:ae}),b)),{},{prevChildren:C,dataStartIndex:Y,dataEndIndex:ae})}return null}),rt(g,"renderActiveDot",function(_,b,E){var A;return z.isValidElement(_)?A=z.cloneElement(_,b):st(_)?A=_(b):A=$.createElement(J_,b),$.createElement(Lt,{className:"recharts-active-dot",key:E},A)});var m=z.forwardRef(function(b,E){return $.createElement(g,xf({},b,{ref:E}))});return m.displayName=g.displayName,m},d_e=oR({chartName:"LineChart",GraphicalChild:c0,axisComponents:[{axisType:"xAxis",AxisComp:hu},{axisType:"yAxis",AxisComp:pu}],formatAxisMap:Mz}),_S=oR({chartName:"BarChart",GraphicalChild:Ya,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:hu},{axisType:"yAxis",AxisComp:pu}],formatAxisMap:Mz}),T5=oR({chartName:"PieChart",GraphicalChild:Lo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:nw},{axisType:"radiusAxis",AxisComp:tw}],formatAxisMap:rhe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),wS,C5;function _W(){if(C5)return wS;C5=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i&&r(e[n],n,e)!==!1;);return e}return wS=t,wS}var xS,I5;function wW(){if(I5)return xS;I5=1;var t=YP(),e=r0(),r=Object.prototype,n=r.hasOwnProperty;function i(a,o,s){var u=a[o];(!(n.call(a,o)&&e(u,s))||s===void 0&&!(o in a))&&t(a,o,s)}return xS=i,xS}var bS,P5;function f0(){if(P5)return bS;P5=1;var t=wW(),e=YP();function r(n,i,a,o){var s=!a;a||(a={});for(var u=-1,l=i.length;++u<l;){var c=i[u],f=o?o(a[c],n[c],c,a,n):void 0;f===void 0&&(f=n[c]),s?e(a,c,f):t(a,c,f)}return a}return bS=r,bS}var ES,R5;function h_e(){if(R5)return ES;R5=1;var t=f0(),e=Pd();function r(n,i){return n&&t(i,e(i),n)}return ES=r,ES}var AS,D5;function p_e(){if(D5)return AS;D5=1;function t(e){var r=[];if(e!=null)for(var n in Object(e))r.push(n);return r}return AS=t,AS}var SS,N5;function v_e(){if(N5)return SS;N5=1;var t=Aa(),e=yP(),r=p_e(),n=Object.prototype,i=n.hasOwnProperty;function a(o){if(!t(o))return r(o);var s=e(o),u=[];for(var l in o)l=="constructor"&&(s||!i.call(o,l))||u.push(l);return u}return SS=a,SS}var OS,k5;function hw(){if(k5)return OS;k5=1;var t=OV(),e=v_e(),r=Id();function n(i){return r(i)?t(i,!0):e(i)}return OS=n,OS}var TS,M5;function g_e(){if(M5)return TS;M5=1;var t=f0(),e=hw();function r(n,i){return n&&t(i,e(i),n)}return TS=r,TS}var lp={exports:{}};lp.exports;var L5;function m_e(){return L5||(L5=1,function(t,e){var r=io(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;function u(l,c){if(c)return l.slice();var f=l.length,h=s?s(f):new l.constructor(f);return l.copy(h),h}t.exports=u}(lp,lp.exports)),lp.exports}var CS,j5;function y_e(){if(j5)return CS;j5=1;function t(e,r){var n=-1,i=e.length;for(r||(r=Array(i));++n<i;)r[n]=e[n];return r}return CS=t,CS}var IS,F5;function __e(){if(F5)return IS;F5=1;var t=f0(),e=dP();function r(n,i){return t(n,e(n),i)}return IS=r,IS}var PS,B5;function xW(){if(B5)return PS;B5=1;var t=fP(),e=iw(),r=dP(),n=SV(),i=Object.getOwnPropertySymbols,a=i?function(o){for(var s=[];o;)t(s,r(o)),o=e(o);return s}:n;return PS=a,PS}var RS,$5;function w_e(){if($5)return RS;$5=1;var t=f0(),e=xW();function r(n,i){return t(n,e(n),i)}return RS=r,RS}var DS,U5;function bW(){if(U5)return DS;U5=1;var t=AV(),e=xW(),r=hw();function n(i){return t(i,r,e)}return DS=n,DS}var NS,V5;function x_e(){if(V5)return NS;V5=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n){var i=n.length,a=new n.constructor(i);return i&&typeof n[0]=="string"&&e.call(n,"index")&&(a.index=n.index,a.input=n.input),a}return NS=r,NS}var kS,q5;function sR(){if(q5)return kS;q5=1;var t=EV();function e(r){var n=new r.constructor(r.byteLength);return new t(n).set(new t(r)),n}return kS=e,kS}var MS,z5;function b_e(){if(z5)return MS;z5=1;var t=sR();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return MS=e,MS}var LS,W5;function E_e(){if(W5)return LS;W5=1;var t=/\w*$/;function e(r){var n=new r.constructor(r.source,t.exec(r));return n.lastIndex=r.lastIndex,n}return LS=e,LS}var jS,H5;function A_e(){if(H5)return jS;H5=1;var t=Sd(),e=t?t.prototype:void 0,r=e?e.valueOf:void 0;function n(i){return r?Object(r.call(i)):{}}return jS=n,jS}var FS,G5;function S_e(){if(G5)return FS;G5=1;var t=sR();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return FS=e,FS}var BS,K5;function O_e(){if(K5)return BS;K5=1;var t=sR(),e=b_e(),r=E_e(),n=A_e(),i=S_e(),a="[object Boolean]",o="[object Date]",s="[object Map]",u="[object Number]",l="[object RegExp]",c="[object Set]",f="[object String]",h="[object Symbol]",v="[object ArrayBuffer]",g="[object DataView]",m="[object Float32Array]",_="[object Float64Array]",b="[object Int8Array]",E="[object Int16Array]",A="[object Int32Array]",C="[object Uint8Array]",O="[object Uint8ClampedArray]",R="[object Uint16Array]",I="[object Uint32Array]";function S(T,D,L){var F=T.constructor;switch(D){case v:return t(T);case a:case o:return new F(+T);case g:return e(T,L);case m:case _:case b:case E:case A:case C:case O:case R:case I:return i(T,L);case s:return new F;case u:case f:return new F(T);case l:return r(T);case c:return new F;case h:return n(T)}}return BS=S,BS}var $S,X5;function EW(){if(X5)return $S;X5=1;var t=Aa(),e=Object.create,r=function(){function n(){}return function(i){if(!t(i))return{};if(e)return e(i);n.prototype=i;var a=new n;return n.prototype=void 0,a}}();return $S=r,$S}var US,Y5;function T_e(){if(Y5)return US;Y5=1;var t=EW(),e=iw(),r=yP();function n(i){return typeof i.constructor=="function"&&!r(i)?t(e(i)):{}}return US=n,US}var VS,Q5;function C_e(){if(Q5)return VS;Q5=1;var t=F_(),e=ao(),r="[object Map]";function n(i){return e(i)&&t(i)==r}return VS=n,VS}var qS,Z5;function I_e(){if(Z5)return qS;Z5=1;var t=C_e(),e=j_(),r=gP(),n=r&&r.isMap,i=n?e(n):t;return qS=i,qS}var zS,J5;function P_e(){if(J5)return zS;J5=1;var t=F_(),e=ao(),r="[object Set]";function n(i){return e(i)&&t(i)==r}return zS=n,zS}var WS,e9;function R_e(){if(e9)return WS;e9=1;var t=P_e(),e=j_(),r=gP(),n=r&&r.isSet,i=n?e(n):t;return WS=i,WS}var HS,t9;function D_e(){if(t9)return HS;t9=1;var t=lP(),e=_W(),r=wW(),n=h_e(),i=g_e(),a=m_e(),o=y_e(),s=__e(),u=w_e(),l=CV(),c=bW(),f=F_(),h=x_e(),v=O_e(),g=T_e(),m=Yn(),_=L_(),b=I_e(),E=Aa(),A=R_e(),C=Pd(),O=hw(),R=1,I=2,S=4,T="[object Arguments]",D="[object Array]",L="[object Boolean]",F="[object Date]",j="[object Error]",K="[object Function]",ee="[object GeneratorFunction]",W="[object Map]",te="[object Number]",X="[object Object]",Q="[object RegExp]",se="[object Set]",q="[object String]",Y="[object Symbol]",ae="[object WeakMap]",xe="[object ArrayBuffer]",Oe="[object DataView]",Te="[object Float32Array]",Be="[object Float64Array]",Ae="[object Int8Array]",G="[object Int16Array]",ne="[object Int32Array]",re="[object Uint8Array]",Z="[object Uint8ClampedArray]",fe="[object Uint16Array]",ye="[object Uint32Array]",pe={};pe[T]=pe[D]=pe[xe]=pe[Oe]=pe[L]=pe[F]=pe[Te]=pe[Be]=pe[Ae]=pe[G]=pe[ne]=pe[W]=pe[te]=pe[X]=pe[Q]=pe[se]=pe[q]=pe[Y]=pe[re]=pe[Z]=pe[fe]=pe[ye]=!0,pe[j]=pe[K]=pe[ae]=!1;function be(Re,je,Ie,Le,it,nt){var lt,ft=je&R,xt=je&I,tt=je&S;if(Ie&&(lt=it?Ie(Re,Le,it,nt):Ie(Re)),lt!==void 0)return lt;if(!E(Re))return Re;var gt=m(Re);if(gt){if(lt=h(Re),!ft)return o(Re,lt)}else{var vt=f(Re),mt=vt==K||vt==ee;if(_(Re))return a(Re,ft);if(vt==X||vt==T||mt&&!it){if(lt=xt||mt?{}:g(Re),!ft)return xt?u(Re,i(lt,Re)):s(Re,n(lt,Re))}else{if(!pe[vt])return it?Re:{};lt=v(Re,vt,ft)}}nt||(nt=new t);var At=nt.get(Re);if(At)return At;nt.set(Re,lt),A(Re)?Re.forEach(function(rr){lt.add(be(rr,je,Ie,rr,Re,nt))}):b(Re)&&Re.forEach(function(rr,kr){lt.set(kr,be(rr,je,Ie,kr,Re,nt))});var Vt=tt?xt?c:l:xt?O:C,qt=gt?void 0:Vt(Re);return e(qt||Re,function(rr,kr){qt&&(kr=rr,rr=Re[kr]),r(lt,kr,be(rr,je,Ie,kr,Re,nt))}),lt}return HS=be,HS}var GS,r9;function N_e(){if(r9)return GS;r9=1;var t=R_(),e=nP();function r(n,i){return i.length<2?n:t(n,e(i,0,-1))}return GS=r,GS}var KS,n9;function k_e(){if(n9)return KS;n9=1;var t=P_(),e=sz(),r=N_e(),n=n0();function i(a,o){return o=t(o,a),a=r(a,o),a==null||delete a[n(e(o))]}return KS=i,KS}var XS,i9;function M_e(){if(i9)return XS;i9=1;var t=xz();function e(r){return t(r)?void 0:r}return XS=e,XS}var YS,a9;function L_e(){if(a9)return YS;a9=1;var t=wP();function e(r){var n=r==null?0:r.length;return n?t(r,1):[]}return YS=e,YS}var QS,o9;function j_e(){if(o9)return QS;o9=1;var t=L_e(),e=jV(),r=BV();function n(i){return r(e(i,void 0,t),i+"")}return QS=n,QS}var ZS,s9;function F_e(){if(s9)return ZS;s9=1;var t=I_(),e=D_e(),r=k_e(),n=P_(),i=f0(),a=M_e(),o=j_e(),s=bW(),u=1,l=2,c=4,f=o(function(h,v){var g={};if(h==null)return g;var m=!1;v=t(v,function(b){return b=n(b,h),m||(m=b.length>1),b}),i(h,s(h),g),m&&(g=e(g,u|l|c,a));for(var _=v.length;_--;)r(g,v[_]);return g});return ZS=f,ZS}var B_e=F_e();const $_e=_t(B_e),af=["#4ade80","#60a5fa","#f472b6","#facc15","#a78bfa","#fb923c"],U_e=({grows:t=[],supplies:e=[]})=>{const r=z.useMemo(()=>{const l={};return t.forEach(c=>{const f=c.stage||"Unknown";l[f]=(l[f]||0)+1}),Object.entries(l).map(([c,f])=>({name:c,value:f}))},[t]),n=z.useMemo(()=>t.filter(l=>l.yieldWet||l.yieldDry).map(l=>({name:l.strain,wet:l.yieldWet||0,dry:l.yieldDry||0})),[t]),i=z.useMemo(()=>{const l={},c={};return t.forEach(f=>{const h=f.strain||"Unknown";l[h]||(l[h]={wet:0,dry:0},c[h]=0),l[h].wet+=f.yieldWet||0,l[h].dry+=f.yieldDry||0,c[h]+=1}),Object.keys(l).map(f=>({name:f,wet:(l[f].wet/c[f]).toFixed(2),dry:(l[f].dry/c[f]).toFixed(2)}))},[t]),a=z.useMemo(()=>{const l={};return t.forEach(c=>{c.recipeItems&&c.recipeItems.forEach(f=>{const h=f.name||"Unknown";l[h]=(l[h]||0)+f.amount})}),Object.entries(l).map(([c,f])=>({name:c,value:f}))},[t]),o=z.useMemo(()=>t.map(l=>{let c=0;return l.recipeItems&&l.recipeItems.forEach(f=>{const h=(f.cost||0)*(f.amount||0);c+=h}),{name:l.strain,cost:parseFloat(c.toFixed(2))}}),[t]),s=z.useMemo(()=>{const l={};return t.forEach(c=>{c.stageDates&&Object.entries(c.stageDates).forEach(([f,h])=>{const v=h?.substring(0,10);v&&(l[v]||(l[v]={}),l[v][f]=(l[v][f]||0)+1)})}),Object.entries(l).map(([c,f])=>({date:c,...f})).sort((c,f)=>c.date.localeCompare(f.date))},[t]),u=()=>{const l=["Strain","Stage","WetYield","DryYield"],c=t.map(g=>[g.strain||"",g.stage||"",g.yieldWet||"",g.yieldDry||""]),f=[l.join(","),...c.map(g=>g.join(","))].join(`
`),h=new Blob([f],{type:"text/csv"}),v=document.createElement("a");v.href=URL.createObjectURL(h),v.download="grow_analytics.csv",v.click(),URL.revokeObjectURL(v.href)};return k.jsxs("div",{className:"p-4 space-y-8 bg-white dark:bg-gray-900 text-gray-900 dark:text-white rounded-xl shadow",children:[k.jsxs("div",{className:"flex justify-between items-center",children:[k.jsx("h2",{className:"text-2xl font-bold",children:"Analytics"}),k.jsx("button",{onClick:u,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Export CSV"})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Grow Stage Distribution"}),k.jsx(Jc,{width:"100%",height:250,children:k.jsxs(T5,{children:[k.jsx(Lo,{data:r,dataKey:"value",nameKey:"name",outerRadius:100,fill:"#8884d8",label:!0,children:r.map((l,c)=>k.jsx(Xp,{fill:af[c%af.length]},c))}),k.jsx(li,{})]})})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Wet vs Dry Yield"}),k.jsx(Jc,{width:"100%",height:300,children:k.jsxs(_S,{data:n,children:[k.jsx(hu,{dataKey:"name"}),k.jsx(pu,{}),k.jsx(li,{}),k.jsx(Ya,{dataKey:"wet",stackId:"a",fill:"#60a5fa"}),k.jsx(Ya,{dataKey:"dry",stackId:"a",fill:"#4ade80"})]})})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Average Yield per Strain"}),k.jsx(Jc,{width:"100%",height:300,children:k.jsxs(_S,{data:i,children:[k.jsx(hu,{dataKey:"name"}),k.jsx(pu,{}),k.jsx(li,{}),k.jsx(Ya,{dataKey:"wet",fill:"#60a5fa"}),k.jsx(Ya,{dataKey:"dry",fill:"#4ade80"})]})})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Cost per Grow"}),k.jsx(Jc,{width:"100%",height:300,children:k.jsxs(_S,{data:o,children:[k.jsx(hu,{dataKey:"name"}),k.jsx(pu,{}),k.jsx(li,{}),k.jsx(Ya,{dataKey:"cost",fill:"#f472b6"})]})})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Most Used Supplies"}),k.jsx(Jc,{width:"100%",height:250,children:k.jsxs(T5,{children:[k.jsx(Lo,{data:a,dataKey:"value",nameKey:"name",outerRadius:100,fill:"#facc15",label:!0,children:a.map((l,c)=>k.jsx(Xp,{fill:af[c%af.length]},c))}),k.jsx(li,{})]})})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Stage Transitions Over Time"}),k.jsx(Jc,{width:"100%",height:300,children:k.jsxs(d_e,{data:s,children:[k.jsx(nW,{strokeDasharray:"3 3"}),k.jsx(hu,{dataKey:"date"}),k.jsx(pu,{}),k.jsx(li,{}),k.jsx(Dl,{}),["inoculated","colonizing","colonized","fruiting","harvested"].map((l,c)=>k.jsx(c0,{type:"monotone",dataKey:l,stroke:af[c%af.length],strokeWidth:2,dot:!1},l))]})})]})]})};function ro(t){"@babel/helpers - typeof";return ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ro(t)}function V_e(t,e){if(ro(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AW(t){var e=V_e(t,"string");return ro(e)=="symbol"?e:e+""}function bl(t,e,r){return(e=AW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u9(Object(r),!0).forEach(function(n){bl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jo(t,e){if(t==null)return{};var r,n,i=Z_(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ln(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AW(n.key),n)}}function cn(t,e,r){return e&&l9(t.prototype,e),r&&l9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function F1(t){return F1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},F1(t)}function SW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SW=function(){return!!t})()}function q_e(t,e){if(e&&(ro(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lve(t)}function Qn(t,e,r){return e=F1(e),q_e(t,SW()?Reflect.construct(e,r||[],F1(t).constructor):e.apply(t,r))}function Zn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y1(t,e)}function OW(t){if(Array.isArray(t))return t}function z_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function xC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function uR(t,e){if(t){if(typeof t=="string")return xC(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xC(t,e):void 0}}function TW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ql(t,e){return OW(t)||z_e(t,e)||uR(t,e)||TW()}function CW(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=CW(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function Rr(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=CW(t))&&(n&&(n+=" "),n+=e);return n}var JS,c9;function W_e(){if(c9)return JS;c9=1;var t=function(e,r,n,i,a,o,s,u){if(!e){var l;if(r===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,a,o,s,u],f=0;l=new Error(r.replace(/%s/g,function(){return c[f++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};return JS=t,JS}var H_e=W_e();const Tv=_t(H_e);var G_e=function(){};function K_e(t,e){var r={};return Object.keys(t).forEach(function(n){r[oy(n)]=G_e}),r}function f9(t,e){return t[e]!==void 0}function oy(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function X_e(t){return!!t&&(typeof t!="function"||t.prototype&&t.prototype.isReactComponent)}function IW(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function PW(t){function e(r){var n=this.constructor.getDerivedStateFromProps(t,r);return n??null}this.setState(e.bind(this))}function RW(t,e){try{var r=this.props,n=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}IW.__suppressDeprecationWarning=!0;PW.__suppressDeprecationWarning=!0;RW.__suppressDeprecationWarning=!0;function Y_e(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var r=null,n=null,i=null;if(typeof e.componentWillMount=="function"?r="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||n!==null||i!==null){var a=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+o+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=IW,e.componentWillReceiveProps=PW),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=RW;var s=e.componentDidUpdate;e.componentDidUpdate=function(l,c,f){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;s.call(this,l,c,h)}}return t}var Q_e="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function DW(t,e,r){r===void 0&&(r=[]);var n=t.displayName||t.name||"Component",i=X_e(t),a=Object.keys(e),o=a.map(oy);i||!r.length||Tv(!1);var s=function(l){Dve(c,l);function c(){for(var h,v=arguments.length,g=new Array(v),m=0;m<v;m++)g[m]=arguments[m];h=l.call.apply(l,[this].concat(g))||this,h.handlers=Object.create(null),a.forEach(function(b){var E=e[b],A=function(O){if(h.props[E]){var R;h._notifying=!0;for(var I=arguments.length,S=new Array(I>1?I-1:0),T=1;T<I;T++)S[T-1]=arguments[T];(R=h.props)[E].apply(R,[O].concat(S)),h._notifying=!1}h.unmounted||h.setState(function(D){var L,F=D.values;return{values:Pr(Object.create(null),F,(L={},L[b]=O,L))}})};h.handlers[E]=A}),r.length&&(h.attachRef=function(b){h.inner=b});var _=Object.create(null);return a.forEach(function(b){_[b]=h.props[oy(b)]}),h.state={values:_,prevProps:{}},h}var f=c.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},c.getDerivedStateFromProps=function(v,g){var m=g.values,_=g.prevProps,b={values:Pr(Object.create(null),m),prevProps:{}};return a.forEach(function(E){b.prevProps[E]=v[E],!f9(v,E)&&f9(_,E)&&(b.values[E]=v[oy(E)])}),b},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var v=this,g=this.props,m=g.innerRef,_=Z_(g,["innerRef"]);o.forEach(function(E){delete _[E]});var b={};return a.forEach(function(E){var A=v.props[E];b[E]=A!==void 0?A:v.state.values[E]}),$.createElement(t,Pr({},_,b,this.handlers,{ref:m||this.attachRef}))},c}($.Component);Y_e(s),s.displayName="Uncontrolled("+n+")",s.propTypes=Pr({innerRef:function(){}},K_e(e)),r.forEach(function(l){s.prototype[l]=function(){var f;return(f=this.inner)[l].apply(f,arguments)}});var u=s;return $.forwardRef&&(u=$.forwardRef(function(l,c){return $.createElement(s,Pr({},l,{innerRef:c,__source:{fileName:Q_e,lineNumber:128},__self:this}))}),u.propTypes=s.propTypes),u.ControlledComponent=t,u.deferControlTo=function(l,c,f){return c===void 0&&(c={}),DW(l,Pr({},e,c),f)},u}var B1="milliseconds",Cv="seconds",Iv="minutes",Pv="hours",Zl="day",dd="week",Rv="month",Jl="year",ec="decade",tc="century",NW={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:3600*1e3,day:1440*60*1e3,week:10080*60*1e3},Z_e={month:1,year:12,decade:120,century:1200};function J_e(t){return[31,ewe(t),31,30,31,30,31,31,30,31,30,31]}function ewe(t){return t%4===0&&t%100!==0||t%400===0?29:28}function no(t,e,r){switch(t=new Date(t),r){case B1:case Cv:case Iv:case Pv:case Zl:case dd:return twe(t,e*NW[r]);case Rv:case Jl:case ec:case tc:return rwe(t,e*Z_e[r])}throw new TypeError('Invalid units: "'+r+'"')}function twe(t,e){var r=new Date(+t+e);return nwe(t,r)}function rwe(t,e){var r=t.getFullYear(),n=t.getMonth(),i=t.getDate(),a=r*12+n+e,o=Math.trunc(a/12),s=a%12,u=Math.min(i,J_e(o)[s]),l=new Date(t);return l.setFullYear(o),l.setDate(1),l.setMonth(s),l.setDate(u),l}function nwe(t,e){var r=t.getTimezoneOffset(),n=e.getTimezoneOffset(),i=n-r;return new Date(+e+i*NW.minutes)}function Dv(t,e,r){return no(t,-e,r)}function Mn(t,e,r){switch(t=new Date(t),e){case tc:case ec:case Jl:t=U1(t,0);case Rv:t=FW(t,1);case dd:case Zl:t=Mv(t,0);case Pv:t=hd(t,0);case Iv:t=kv(t,0);case Cv:t=Nv(t,0)}return e===ec&&(t=Dv(t,rc(t)%10,"year")),e===tc&&(t=Dv(t,rc(t)%100,"year")),e===dd&&(t=BW(t,0,r)),t}function $1(t,e,r){switch(t=new Date(t),t=Mn(t,e,r),e){case tc:case ec:case Jl:case Rv:case dd:t=no(t,1,e),t=Dv(t,1,Zl),t.setHours(23,59,59,999);break;case Zl:t.setHours(23,59,59,999);break;case Pv:case Iv:case Cv:t=no(t,1,e),t=Dv(t,1,B1)}return t}var Fd=$d(function(t,e){return t===e}),lR=$d(function(t,e){return t!==e}),pw=$d(function(t,e){return t>e}),d0=$d(function(t,e){return t>=e}),cR=$d(function(t,e){return t<e}),Bd=$d(function(t,e){return t<=e});function kW(){return new Date(Math.min.apply(Math,arguments))}function MW(){return new Date(Math.max.apply(Math,arguments))}function LW(t,e,r,n){return n=n||"day",(!e||d0(t,e,n))&&(!r||Bd(t,r,n))}var Nv=Mu("Milliseconds"),kv=Mu("Seconds"),hd=Mu("Minutes"),Mv=Mu("Hours"),jW=Mu("Day"),FW=Mu("Date"),U1=Mu("Month"),rc=Mu("FullYear");function iwe(t,e){return e===void 0?rc(Mn(t,ec)):no(t,e+10,Jl)}function awe(t,e){return e===void 0?rc(Mn(t,tc)):no(t,e+100,Jl)}function BW(t,e,r){var n=(jW(t)+7-(r||0))%7;return e===void 0?n:no(t,e-n,Zl)}function owe(t,e,r,n){var i,a,o;switch(r){case B1:case Cv:case Iv:case Pv:case Zl:case dd:i=e.getTime()-t.getTime();break;case Rv:case Jl:case ec:case tc:i=(rc(e)-rc(t))*12+U1(e)-U1(t);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case B1:a=1;break;case Cv:a=1e3;break;case Iv:a=1e3*60;break;case Pv:a=1e3*60*60;break;case Zl:a=1e3*60*60*24;break;case dd:a=1e3*60*60*24*7;break;case Rv:a=1;break;case Jl:a=12;break;case ec:a=120;break;case tc:a=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return o=i/a,n?o:Math.round(o)}function Mu(t){var e=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(t);return function(r,n){if(n===void 0)return r["get"+t]();var i=new Date(r);return i["set"+t](n),e&&i["get"+t]()!=n&&(t==="Hours"||n>=e&&i.getHours()-r.getHours()<Math.floor(n/e))&&i["set"+t](n+e),i}}function $d(t){return function(e,r,n){return t(+Mn(e,n),+Mn(r,n))}}const d9=Object.freeze(Object.defineProperty({__proto__:null,add:no,century:awe,date:FW,day:jW,decade:iwe,diff:owe,endOf:$1,eq:Fd,gt:pw,gte:d0,hours:Mv,inRange:LW,lt:cR,lte:Bd,max:MW,milliseconds:Nv,min:kW,minutes:hd,month:U1,neq:lR,seconds:kv,startOf:Mn,subtract:Dv,weekday:BW,year:rc},Symbol.toStringTag,{value:"Module"}));function swe(t){if(Array.isArray(t))return xC(t)}function $W(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sy(t){return swe(t)||$W(t)||uR(t)||uwe()}var eO,h9;function lwe(){if(h9)return eO;h9=1;var t=nP(),e=Dd(),r=Fz(),n=Math.ceil,i=Math.max;function a(o,s,u){(u?e(o,s,u):s===void 0)?s=1:s=i(r(s),0);var l=o==null?0:o.length;if(!l||s<1)return[];for(var c=0,f=0,h=Array(n(l/s));c<l;)h[f++]=t(o,c,c+=s);return h}return eO=a,eO}var cwe=lwe();const fwe=_t(cwe);function h0(t){return t&&t.ownerDocument||document}function dwe(t){var e=h0(t);return e&&e.defaultView||window}function hwe(t,e){return dwe(t).getComputedStyle(t,e)}var pwe=/([A-Z])/g;function vwe(t){return t.replace(pwe,"-$1").toLowerCase()}var gwe=/^ms-/;function am(t){return vwe(t).replace(gwe,"-ms-")}var mwe=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function ywe(t){return!!(t&&mwe.test(t))}function pf(t,e){var r="",n="";if(typeof e=="string")return t.style.getPropertyValue(am(e))||hwe(t).getPropertyValue(am(e));Object.keys(e).forEach(function(i){var a=e[i];!a&&a!==0?t.style.removeProperty(am(i)):ywe(i)?n+=i+"("+a+") ":r+=am(i)+": "+a+";"}),n&&(r+="transform: "+n+";"),t.style.cssText+=";"+r}function Lv(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function _we(t){return"nodeType"in t&&t.nodeType===document.DOCUMENT_NODE}function fR(t){return"window"in t&&t.window===t?t:_we(t)&&t.defaultView||!1}function UW(t){var e=t==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,i){var a=fR(n);if(i===void 0)return a?a[t]:n[e];a?a.scrollTo(a[t],i):n[e]=i}return r}const VW=UW("pageXOffset"),qW=UW("pageYOffset");function Ml(t){var e=h0(t),r={top:0,left:0,height:0,width:0},n=e&&e.documentElement;return!n||!Lv(n,t)||(t.getBoundingClientRect!==void 0&&(r=t.getBoundingClientRect()),r={top:r.top+qW(n)-(n.clientTop||0),left:r.left+VW(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var wwe=function(e){return!!e&&"offsetParent"in e};function xwe(t){for(var e=h0(t),r=t&&t.offsetParent;wwe(r)&&r.nodeName!=="HTML"&&pf(r,"position")==="static";)r=r.offsetParent;return r||e.documentElement}var bwe=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function zW(t,e){var r={top:0,left:0},n;if(pf(t,"position")==="fixed")n=t.getBoundingClientRect();else{var i=e||xwe(t);n=Ml(t),bwe(i)!=="html"&&(r=Ml(i));var a=String(pf(i,"borderTopWidth")||0);r.top+=parseInt(a,10)-qW(i)||0;var o=String(pf(i,"borderLeftWidth")||0);r.left+=parseInt(o,10)-VW(i)||0}var s=String(pf(t,"marginTop")||0),u=String(pf(t,"marginLeft")||0);return Pr({},n,{top:n.top-r.top-(parseInt(s,10)||0),left:n.left-r.left-(parseInt(u,10)||0)})}const dR=!!(typeof window<"u"&&window.document&&window.document.createElement);var p9=new Date().getTime();function Ewe(t){var e=new Date().getTime(),r=Math.max(0,16-(e-p9)),n=setTimeout(t,r);return p9=e,n}var Awe=["","webkit","moz","o","ms"],bC="clearTimeout",EC=Ewe,v9=function(e,r){return e+(e?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};dR&&Awe.some(function(t){var e=v9(t,"request");return e in window&&(bC=v9(t,"cancel"),EC=function(n){return window[e](n)}),!!EC});var g9=function(e){typeof window[bC]=="function"&&window[bC](e)},WW=EC,tO;function Swe(t,e){if(!tO){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;tO=function(a,o){return n.call(a,o)}}return tO(t,e)}var Owe=Function.prototype.bind.call(Function.prototype.call,[].slice);function Twe(t,e){return Owe(t.querySelectorAll(e))}var AC=!1,SC=!1;try{var rO={get passive(){return AC=!0},get once(){return SC=AC=!0}};dR&&(window.addEventListener("test",rO,rO),window.removeEventListener("test",rO,!0))}catch{}function Cwe(t,e,r,n){if(n&&typeof n!="boolean"&&!SC){var i=n.once,a=n.capture,o=r;!SC&&i&&(o=r.__once||function s(u){this.removeEventListener(e,s,a),r.call(this,u)},r.__once=o),t.addEventListener(e,o,AC?n:a)}t.addEventListener(e,r,n)}function Iwe(t){const e=z.useRef(t);return z.useEffect(()=>{e.current=t},[t]),e}function m9(t){const e=Iwe(t);return z.useCallback(function(...r){return e.current&&e.current(...r)},[e])}function y9(){return z.useState(null)}function Pwe(){const t=z.useRef(!0),e=z.useRef(()=>t.current);return z.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function Rwe(t){const e=Pwe();return[t[0],z.useCallback(r=>{if(e())return t[1](r)},[e,t[1]])]}var Ii="top",ba="bottom",Ea="right",Pi="left",hR="auto",p0=[Ii,ba,Ea,Pi],pd="start",jv="end",Dwe="clippingParents",HW="viewport",$h="popper",Nwe="reference",_9=p0.reduce(function(t,e){return t.concat([e+"-"+pd,e+"-"+jv])},[]),pR=[].concat(p0,[hR]).reduce(function(t,e){return t.concat([e,e+"-"+pd,e+"-"+jv])},[]),kwe="beforeRead",Mwe="read",Lwe="afterRead",jwe="beforeMain",Fwe="main",Bwe="afterMain",$we="beforeWrite",Uwe="write",Vwe="afterWrite",qwe=[kwe,Mwe,Lwe,jwe,Fwe,Bwe,$we,Uwe,Vwe];function Ro(t){return t.split("-")[0]}function ea(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function nc(t){var e=ea(t).Element;return t instanceof e||t instanceof Element}function Do(t){var e=ea(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function vR(t){if(typeof ShadowRoot>"u")return!1;var e=ea(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Ll=Math.max,V1=Math.min,vd=Math.round;function OC(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function GW(){return!/^((?!chrome|android).)*safari/i.test(OC())}function gd(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,a=1;e&&Do(t)&&(i=t.offsetWidth>0&&vd(n.width)/t.offsetWidth||1,a=t.offsetHeight>0&&vd(n.height)/t.offsetHeight||1);var o=nc(t)?ea(t):window,s=o.visualViewport,u=!GW()&&r,l=(n.left+(u&&s?s.offsetLeft:0))/i,c=(n.top+(u&&s?s.offsetTop:0))/a,f=n.width/i,h=n.height/a;return{width:f,height:h,top:c,right:l+f,bottom:c+h,left:l,x:l,y:c}}function gR(t){var e=gd(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function KW(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&vR(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Su(t){return t?(t.nodeName||"").toLowerCase():null}function Es(t){return ea(t).getComputedStyle(t)}function zwe(t){return["table","td","th"].indexOf(Su(t))>=0}function Lu(t){return((nc(t)?t.ownerDocument:t.document)||window.document).documentElement}function vw(t){return Su(t)==="html"?t:t.assignedSlot||t.parentNode||(vR(t)?t.host:null)||Lu(t)}function w9(t){return!Do(t)||Es(t).position==="fixed"?null:t.offsetParent}function Wwe(t){var e=/firefox/i.test(OC()),r=/Trident/i.test(OC());if(r&&Do(t)){var n=Es(t);if(n.position==="fixed")return null}var i=vw(t);for(vR(i)&&(i=i.host);Do(i)&&["html","body"].indexOf(Su(i))<0;){var a=Es(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function v0(t){for(var e=ea(t),r=w9(t);r&&zwe(r)&&Es(r).position==="static";)r=w9(r);return r&&(Su(r)==="html"||Su(r)==="body"&&Es(r).position==="static")?e:r||Wwe(t)||e}function mR(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Tp(t,e,r){return Ll(t,V1(e,r))}function Hwe(t,e,r){var n=Tp(t,e,r);return n>r?r:n}function XW(){return{top:0,right:0,bottom:0,left:0}}function YW(t){return Object.assign({},XW(),t)}function QW(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var Gwe=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,YW(typeof e!="number"?e:QW(e,p0))};function Kwe(t){var e,r=t.state,n=t.name,i=t.options,a=r.elements.arrow,o=r.modifiersData.popperOffsets,s=Ro(r.placement),u=mR(s),l=[Pi,Ea].indexOf(s)>=0,c=l?"height":"width";if(!(!a||!o)){var f=Gwe(i.padding,r),h=gR(a),v=u==="y"?Ii:Pi,g=u==="y"?ba:Ea,m=r.rects.reference[c]+r.rects.reference[u]-o[u]-r.rects.popper[c],_=o[u]-r.rects.reference[u],b=v0(a),E=b?u==="y"?b.clientHeight||0:b.clientWidth||0:0,A=m/2-_/2,C=f[v],O=E-h[c]-f[g],R=E/2-h[c]/2+A,I=Tp(C,R,O),S=u;r.modifiersData[n]=(e={},e[S]=I,e.centerOffset=I-R,e)}}function Xwe(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||KW(e.elements.popper,i)&&(e.elements.arrow=i))}const Ywe={name:"arrow",enabled:!0,phase:"main",fn:Kwe,effect:Xwe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function md(t){return t.split("-")[1]}var Qwe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Zwe(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:vd(r*i)/i||0,y:vd(n*i)/i||0}}function x9(t){var e,r=t.popper,n=t.popperRect,i=t.placement,a=t.variation,o=t.offsets,s=t.position,u=t.gpuAcceleration,l=t.adaptive,c=t.roundOffsets,f=t.isFixed,h=o.x,v=h===void 0?0:h,g=o.y,m=g===void 0?0:g,_=typeof c=="function"?c({x:v,y:m}):{x:v,y:m};v=_.x,m=_.y;var b=o.hasOwnProperty("x"),E=o.hasOwnProperty("y"),A=Pi,C=Ii,O=window;if(l){var R=v0(r),I="clientHeight",S="clientWidth";if(R===ea(r)&&(R=Lu(r),Es(R).position!=="static"&&s==="absolute"&&(I="scrollHeight",S="scrollWidth")),R=R,i===Ii||(i===Pi||i===Ea)&&a===jv){C=ba;var T=f&&R===O&&O.visualViewport?O.visualViewport.height:R[I];m-=T-n.height,m*=u?1:-1}if(i===Pi||(i===Ii||i===ba)&&a===jv){A=Ea;var D=f&&R===O&&O.visualViewport?O.visualViewport.width:R[S];v-=D-n.width,v*=u?1:-1}}var L=Object.assign({position:s},l&&Qwe),F=c===!0?Zwe({x:v,y:m},ea(r)):{x:v,y:m};if(v=F.x,m=F.y,u){var j;return Object.assign({},L,(j={},j[C]=E?"0":"",j[A]=b?"0":"",j.transform=(O.devicePixelRatio||1)<=1?"translate("+v+"px, "+m+"px)":"translate3d("+v+"px, "+m+"px, 0)",j))}return Object.assign({},L,(e={},e[C]=E?m+"px":"",e[A]=b?v+"px":"",e.transform="",e))}function Jwe(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,a=r.adaptive,o=a===void 0?!0:a,s=r.roundOffsets,u=s===void 0?!0:s,l={placement:Ro(e.placement),variation:md(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,x9(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,x9(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const exe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Jwe,data:{}};var om={passive:!0};function txe(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,a=i===void 0?!0:i,o=n.resize,s=o===void 0?!0:o,u=ea(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&l.forEach(function(c){c.addEventListener("scroll",r.update,om)}),s&&u.addEventListener("resize",r.update,om),function(){a&&l.forEach(function(c){c.removeEventListener("scroll",r.update,om)}),s&&u.removeEventListener("resize",r.update,om)}}const rxe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:txe,data:{}};var nxe={left:"right",right:"left",bottom:"top",top:"bottom"};function uy(t){return t.replace(/left|right|bottom|top/g,function(e){return nxe[e]})}var ixe={start:"end",end:"start"};function b9(t){return t.replace(/start|end/g,function(e){return ixe[e]})}function yR(t){var e=ea(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function _R(t){return gd(Lu(t)).left+yR(t).scrollLeft}function axe(t,e){var r=ea(t),n=Lu(t),i=r.visualViewport,a=n.clientWidth,o=n.clientHeight,s=0,u=0;if(i){a=i.width,o=i.height;var l=GW();(l||!l&&e==="fixed")&&(s=i.offsetLeft,u=i.offsetTop)}return{width:a,height:o,x:s+_R(t),y:u}}function oxe(t){var e,r=Lu(t),n=yR(t),i=(e=t.ownerDocument)==null?void 0:e.body,a=Ll(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Ll(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+_R(t),u=-n.scrollTop;return Es(i||r).direction==="rtl"&&(s+=Ll(r.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:u}}function wR(t){var e=Es(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function ZW(t){return["html","body","#document"].indexOf(Su(t))>=0?t.ownerDocument.body:Do(t)&&wR(t)?t:ZW(vw(t))}function Cp(t,e){var r;e===void 0&&(e=[]);var n=ZW(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),a=ea(n),o=i?[a].concat(a.visualViewport||[],wR(n)?n:[]):n,s=e.concat(o);return i?s:s.concat(Cp(vw(o)))}function TC(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function sxe(t,e){var r=gd(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function E9(t,e,r){return e===HW?TC(axe(t,r)):nc(e)?sxe(e,r):TC(oxe(Lu(t)))}function uxe(t){var e=Cp(vw(t)),r=["absolute","fixed"].indexOf(Es(t).position)>=0,n=r&&Do(t)?v0(t):t;return nc(n)?e.filter(function(i){return nc(i)&&KW(i,n)&&Su(i)!=="body"}):[]}function lxe(t,e,r,n){var i=e==="clippingParents"?uxe(t):[].concat(e),a=[].concat(i,[r]),o=a[0],s=a.reduce(function(u,l){var c=E9(t,l,n);return u.top=Ll(c.top,u.top),u.right=V1(c.right,u.right),u.bottom=V1(c.bottom,u.bottom),u.left=Ll(c.left,u.left),u},E9(t,o,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function JW(t){var e=t.reference,r=t.element,n=t.placement,i=n?Ro(n):null,a=n?md(n):null,o=e.x+e.width/2-r.width/2,s=e.y+e.height/2-r.height/2,u;switch(i){case Ii:u={x:o,y:e.y-r.height};break;case ba:u={x:o,y:e.y+e.height};break;case Ea:u={x:e.x+e.width,y:s};break;case Pi:u={x:e.x-r.width,y:s};break;default:u={x:e.x,y:e.y}}var l=i?mR(i):null;if(l!=null){var c=l==="y"?"height":"width";switch(a){case pd:u[l]=u[l]-(e[c]/2-r[c]/2);break;case jv:u[l]=u[l]+(e[c]/2-r[c]/2);break}}return u}function Fv(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,a=r.strategy,o=a===void 0?t.strategy:a,s=r.boundary,u=s===void 0?Dwe:s,l=r.rootBoundary,c=l===void 0?HW:l,f=r.elementContext,h=f===void 0?$h:f,v=r.altBoundary,g=v===void 0?!1:v,m=r.padding,_=m===void 0?0:m,b=YW(typeof _!="number"?_:QW(_,p0)),E=h===$h?Nwe:$h,A=t.rects.popper,C=t.elements[g?E:h],O=lxe(nc(C)?C:C.contextElement||Lu(t.elements.popper),u,c,o),R=gd(t.elements.reference),I=JW({reference:R,element:A,placement:i}),S=TC(Object.assign({},A,I)),T=h===$h?S:R,D={top:O.top-T.top+b.top,bottom:T.bottom-O.bottom+b.bottom,left:O.left-T.left+b.left,right:T.right-O.right+b.right},L=t.modifiersData.offset;if(h===$h&&L){var F=L[i];Object.keys(D).forEach(function(j){var K=[Ea,ba].indexOf(j)>=0?1:-1,ee=[Ii,ba].indexOf(j)>=0?"y":"x";D[j]+=F[ee]*K})}return D}function cxe(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,a=r.rootBoundary,o=r.padding,s=r.flipVariations,u=r.allowedAutoPlacements,l=u===void 0?pR:u,c=md(n),f=c?s?_9:_9.filter(function(g){return md(g)===c}):p0,h=f.filter(function(g){return l.indexOf(g)>=0});h.length===0&&(h=f);var v=h.reduce(function(g,m){return g[m]=Fv(t,{placement:m,boundary:i,rootBoundary:a,padding:o})[Ro(m)],g},{});return Object.keys(v).sort(function(g,m){return v[g]-v[m]})}function fxe(t){if(Ro(t)===hR)return[];var e=uy(t);return[b9(t),e,b9(e)]}function dxe(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,a=i===void 0?!0:i,o=r.altAxis,s=o===void 0?!0:o,u=r.fallbackPlacements,l=r.padding,c=r.boundary,f=r.rootBoundary,h=r.altBoundary,v=r.flipVariations,g=v===void 0?!0:v,m=r.allowedAutoPlacements,_=e.options.placement,b=Ro(_),E=b===_,A=u||(E||!g?[uy(_)]:fxe(_)),C=[_].concat(A).reduce(function(xe,Oe){return xe.concat(Ro(Oe)===hR?cxe(e,{placement:Oe,boundary:c,rootBoundary:f,padding:l,flipVariations:g,allowedAutoPlacements:m}):Oe)},[]),O=e.rects.reference,R=e.rects.popper,I=new Map,S=!0,T=C[0],D=0;D<C.length;D++){var L=C[D],F=Ro(L),j=md(L)===pd,K=[Ii,ba].indexOf(F)>=0,ee=K?"width":"height",W=Fv(e,{placement:L,boundary:c,rootBoundary:f,altBoundary:h,padding:l}),te=K?j?Ea:Pi:j?ba:Ii;O[ee]>R[ee]&&(te=uy(te));var X=uy(te),Q=[];if(a&&Q.push(W[F]<=0),s&&Q.push(W[te]<=0,W[X]<=0),Q.every(function(xe){return xe})){T=L,S=!1;break}I.set(L,Q)}if(S)for(var se=g?3:1,q=function(Oe){var Te=C.find(function(Be){var Ae=I.get(Be);if(Ae)return Ae.slice(0,Oe).every(function(G){return G})});if(Te)return T=Te,"break"},Y=se;Y>0;Y--){var ae=q(Y);if(ae==="break")break}e.placement!==T&&(e.modifiersData[n]._skip=!0,e.placement=T,e.reset=!0)}}const hxe={name:"flip",enabled:!0,phase:"main",fn:dxe,requiresIfExists:["offset"],data:{_skip:!1}};function A9(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function S9(t){return[Ii,Ea,ba,Pi].some(function(e){return t[e]>=0})}function pxe(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,o=Fv(e,{elementContext:"reference"}),s=Fv(e,{altBoundary:!0}),u=A9(o,n),l=A9(s,i,a),c=S9(u),f=S9(l);e.modifiersData[r]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}const vxe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:pxe};function gxe(t,e,r){var n=Ro(t),i=[Pi,Ii].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[Pi,Ea].indexOf(n)>=0?{x:s,y:o}:{x:o,y:s}}function mxe(t){var e=t.state,r=t.options,n=t.name,i=r.offset,a=i===void 0?[0,0]:i,o=pR.reduce(function(c,f){return c[f]=gxe(f,e.rects,a),c},{}),s=o[e.placement],u=s.x,l=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=l),e.modifiersData[n]=o}const yxe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:mxe};function _xe(t){var e=t.state,r=t.name;e.modifiersData[r]=JW({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const wxe={name:"popperOffsets",enabled:!0,phase:"read",fn:_xe,data:{}};function xxe(t){return t==="x"?"y":"x"}function bxe(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,a=i===void 0?!0:i,o=r.altAxis,s=o===void 0?!1:o,u=r.boundary,l=r.rootBoundary,c=r.altBoundary,f=r.padding,h=r.tether,v=h===void 0?!0:h,g=r.tetherOffset,m=g===void 0?0:g,_=Fv(e,{boundary:u,rootBoundary:l,padding:f,altBoundary:c}),b=Ro(e.placement),E=md(e.placement),A=!E,C=mR(b),O=xxe(C),R=e.modifiersData.popperOffsets,I=e.rects.reference,S=e.rects.popper,T=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,D=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,F={x:0,y:0};if(R){if(a){var j,K=C==="y"?Ii:Pi,ee=C==="y"?ba:Ea,W=C==="y"?"height":"width",te=R[C],X=te+_[K],Q=te-_[ee],se=v?-S[W]/2:0,q=E===pd?I[W]:S[W],Y=E===pd?-S[W]:-I[W],ae=e.elements.arrow,xe=v&&ae?gR(ae):{width:0,height:0},Oe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:XW(),Te=Oe[K],Be=Oe[ee],Ae=Tp(0,I[W],xe[W]),G=A?I[W]/2-se-Ae-Te-D.mainAxis:q-Ae-Te-D.mainAxis,ne=A?-I[W]/2+se+Ae+Be+D.mainAxis:Y+Ae+Be+D.mainAxis,re=e.elements.arrow&&v0(e.elements.arrow),Z=re?C==="y"?re.clientTop||0:re.clientLeft||0:0,fe=(j=L?.[C])!=null?j:0,ye=te+G-fe-Z,pe=te+ne-fe,be=Tp(v?V1(X,ye):X,te,v?Ll(Q,pe):Q);R[C]=be,F[C]=be-te}if(s){var Re,je=C==="x"?Ii:Pi,Ie=C==="x"?ba:Ea,Le=R[O],it=O==="y"?"height":"width",nt=Le+_[je],lt=Le-_[Ie],ft=[Ii,Pi].indexOf(b)!==-1,xt=(Re=L?.[O])!=null?Re:0,tt=ft?nt:Le-I[it]-S[it]-xt+D.altAxis,gt=ft?Le+I[it]+S[it]-xt-D.altAxis:lt,vt=v&&ft?Hwe(tt,Le,gt):Tp(v?tt:nt,Le,v?gt:lt);R[O]=vt,F[O]=vt-Le}e.modifiersData[n]=F}}const Exe={name:"preventOverflow",enabled:!0,phase:"main",fn:bxe,requiresIfExists:["offset"]};function Axe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Sxe(t){return t===ea(t)||!Do(t)?yR(t):Axe(t)}function Oxe(t){var e=t.getBoundingClientRect(),r=vd(e.width)/t.offsetWidth||1,n=vd(e.height)/t.offsetHeight||1;return r!==1||n!==1}function Txe(t,e,r){r===void 0&&(r=!1);var n=Do(e),i=Do(e)&&Oxe(e),a=Lu(e),o=gd(t,i,r),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(n||!n&&!r)&&((Su(e)!=="body"||wR(a))&&(s=Sxe(e)),Do(e)?(u=gd(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):a&&(u.x=_R(a))),{x:o.left+s.scrollLeft-u.x,y:o.top+s.scrollTop-u.y,width:o.width,height:o.height}}function Cxe(t){var e=new Map,r=new Set,n=[];t.forEach(function(a){e.set(a.name,a)});function i(a){r.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(s){if(!r.has(s)){var u=e.get(s);u&&i(u)}}),n.push(a)}return t.forEach(function(a){r.has(a.name)||i(a)}),n}function Ixe(t){var e=Cxe(t);return qwe.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function Pxe(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function Rxe(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var O9={placement:"bottom",modifiers:[],strategy:"absolute"};function T9(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Dxe(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,a=i===void 0?O9:i;return function(s,u,l){l===void 0&&(l=a);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},O9,a),modifiersData:{},elements:{reference:s,popper:u},attributes:{},styles:{}},f=[],h=!1,v={state:c,setOptions:function(b){var E=typeof b=="function"?b(c.options):b;m(),c.options=Object.assign({},a,c.options,E),c.scrollParents={reference:nc(s)?Cp(s):s.contextElement?Cp(s.contextElement):[],popper:Cp(u)};var A=Ixe(Rxe([].concat(n,c.options.modifiers)));return c.orderedModifiers=A.filter(function(C){return C.enabled}),g(),v.update()},forceUpdate:function(){if(!h){var b=c.elements,E=b.reference,A=b.popper;if(T9(E,A)){c.rects={reference:Txe(E,v0(A),c.options.strategy==="fixed"),popper:gR(A)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(D){return c.modifiersData[D.name]=Object.assign({},D.data)});for(var C=0;C<c.orderedModifiers.length;C++){if(c.reset===!0){c.reset=!1,C=-1;continue}var O=c.orderedModifiers[C],R=O.fn,I=O.options,S=I===void 0?{}:I,T=O.name;typeof R=="function"&&(c=R({state:c,options:S,name:T,instance:v})||c)}}}},update:Pxe(function(){return new Promise(function(_){v.forceUpdate(),_(c)})}),destroy:function(){m(),h=!0}};if(!T9(s,u))return v;v.setOptions(l).then(function(_){!h&&l.onFirstUpdate&&l.onFirstUpdate(_)});function g(){c.orderedModifiers.forEach(function(_){var b=_.name,E=_.options,A=E===void 0?{}:E,C=_.effect;if(typeof C=="function"){var O=C({state:c,name:b,instance:v,options:A}),R=function(){};f.push(O||R)}})}function m(){f.forEach(function(_){return _()}),f=[]}return v}}var Nxe=Dxe({defaultModifiers:[vxe,wxe,exe,rxe,yxe,hxe,Exe,Ywe]}),C9=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},kxe={name:"applyStyles",enabled:!1},Mxe={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var r=e.state;return function(){var n=r.elements,i=n.reference,a=n.popper;if("removeAttribute"in i){var o=(i.getAttribute("aria-describedby")||"").split(",").filter(function(s){return s.trim()!==a.id});o.length?i.setAttribute("aria-describedby",o.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(e){var r,n=e.state,i=n.elements,a=i.popper,o=i.reference,s=(r=a.getAttribute("role"))==null?void 0:r.toLowerCase();if(a.id&&s==="tooltip"&&"setAttribute"in o){var u=o.getAttribute("aria-describedby");if(u&&u.split(",").indexOf(a.id)!==-1)return;o.setAttribute("aria-describedby",u?u+","+a.id:a.id)}}},Lxe=[];function jxe(t,e,r){var n=r===void 0?{}:r,i=n.enabled,a=i===void 0?!0:i,o=n.placement,s=o===void 0?"bottom":o,u=n.strategy,l=u===void 0?"absolute":u,c=n.modifiers,f=c===void 0?Lxe:c,h=Z_(n,["enabled","placement","strategy","modifiers"]),v=z.useRef(),g=z.useCallback(function(){var C;(C=v.current)==null||C.update()},[]),m=z.useCallback(function(){var C;(C=v.current)==null||C.forceUpdate()},[]),_=Rwe(z.useState({placement:s,update:g,forceUpdate:m,attributes:{},styles:{popper:C9(l),arrow:{}}})),b=_[0],E=_[1],A=z.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(O){var R=O.state,I={},S={};Object.keys(R.elements).forEach(function(T){I[T]=R.styles[T],S[T]=R.attributes[T]}),E({state:R,styles:I,attributes:S,update:g,forceUpdate:m,placement:R.placement})}}},[g,m,E]);return z.useEffect(function(){!v.current||!a||v.current.setOptions({placement:s,strategy:l,modifiers:[].concat(f,[A,kxe])})},[l,s,A,a]),z.useEffect(function(){if(!(!a||t==null||e==null))return v.current=Nxe(t,e,Pr({},h,{placement:s,strategy:l,modifiers:[].concat(f,[Mxe,A])})),function(){v.current!=null&&(v.current.destroy(),v.current=void 0,E(function(C){return Pr({},C,{attributes:{},styles:{popper:C9(l)}})}))}},[a,t,e]),b}function Fxe(t,e,r,n){var i=n&&typeof n!="boolean"?n.capture:n;t.removeEventListener(e,r,i),r.__once&&t.removeEventListener(e,r.__once,i)}function cp(t,e,r,n){return Cwe(t,e,r,n),function(){Fxe(t,e,r,n)}}var nO,I9;function Bxe(){if(I9)return nO;I9=1;var t=function(){};return nO=t,nO}var $xe=Bxe();const Uxe=_t($xe);function Vxe(t){return t&&"setState"in t?W7.findDOMNode(t):t??null}const qxe=function(t){return h0(Vxe(t))};var zxe=27,P9=function(){};function Wxe(t){return t.button===0}function Hxe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var R9=function(e){return e&&("current"in e?e.current:e)};function Gxe(t,e,r){var n=r===void 0?{}:r,i=n.disabled,a=n.clickTrigger,o=a===void 0?"click":a,s=z.useRef(!1),u=e||P9,l=z.useCallback(function(h){var v,g=R9(t);Uxe(!!g,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),s.current=!g||Hxe(h)||!Wxe(h)||!!Lv(g,(v=h.composedPath==null?void 0:h.composedPath()[0])!=null?v:h.target)},[t]),c=m9(function(h){s.current||u(h)}),f=m9(function(h){h.keyCode===zxe&&u(h)});z.useEffect(function(){if(!(i||t==null)){var h=window.event,v=qxe(R9(t)),g=cp(v,o,l,!0),m=cp(v,o,function(E){if(E===h){h=void 0;return}c(E)}),_=cp(v,"keyup",function(E){if(E===h){h=void 0;return}f(E)}),b=[];return"ontouchstart"in v.documentElement&&(b=[].slice.call(v.body.children).map(function(E){return cp(E,"mousemove",P9)})),function(){g(),m(),_(),b.forEach(function(E){return E()})}}},[t,i,o,l,c,f])}function Kxe(t){var e={};return Array.isArray(t)?(t?.forEach(function(r){e[r.name]=r}),e):t||e}function Xxe(t){return t===void 0&&(t={}),Array.isArray(t)?t:Object.keys(t).map(function(e){return t[e].name=e,t[e]})}function Yxe(t){var e,r,n,i,a=t.enabled,o=t.enableEvents,s=t.placement,u=t.flip,l=t.offset,c=t.fixed,f=t.containerPadding,h=t.arrowElement,v=t.popperConfig,g=v===void 0?{}:v,m=Kxe(g.modifiers);return Pr({},g,{placement:s,enabled:a,strategy:c?"fixed":g.strategy,modifiers:Xxe(Pr({},m,{eventListeners:{enabled:o},preventOverflow:Pr({},m.preventOverflow,{options:f?Pr({padding:f},(e=m.preventOverflow)==null?void 0:e.options):(r=m.preventOverflow)==null?void 0:r.options}),offset:{options:Pr({offset:l},(n=m.offset)==null?void 0:n.options)},arrow:Pr({},m.arrow,{enabled:!!h,options:Pr({},(i=m.arrow)==null?void 0:i.options,{element:h})}),flip:Pr({enabled:!!u},m.flip)}))})}var sm;function xR(t){if((!sm&&sm!==0||t)&&dR){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),sm=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return sm}var iO=function(e){var r;return typeof document>"u"?null:e==null?h0().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(r=e)!=null&&r.nodeType&&e||null)};function D9(t,e){var r=z.useState(function(){return iO(t)}),n=r[0],i=r[1];if(!n){var a=iO(t);a&&i(a)}return z.useEffect(function(){},[e,n]),z.useEffect(function(){var o=iO(t);o!==n&&i(o)},[t,n]),n}const N9=t=>!t||typeof t=="function"?t:e=>{t.current=e};function Qxe(t,e){const r=N9(t),n=N9(e);return i=>{r&&r(i),n&&n(i)}}function Zxe(t,e){return z.useMemo(()=>Qxe(t,e),[t,e])}var bR=$.forwardRef(function(t,e){var r=t.flip,n=t.offset,i=t.placement,a=t.containerPadding,o=a===void 0?5:a,s=t.popperConfig,u=s===void 0?{}:s,l=t.transition,c=y9(),f=c[0],h=c[1],v=y9(),g=v[0],m=v[1],_=Zxe(h,e),b=D9(t.container),E=D9(t.target),A=z.useState(!t.show),C=A[0],O=A[1],R=jxe(E,f,Yxe({placement:i,enableEvents:!!t.show,containerPadding:o||5,flip:r,offset:n,arrowElement:g,popperConfig:u})),I=R.styles,S=R.attributes,T=Z_(R,["styles","attributes"]);t.show?C&&O(!1):!t.transition&&!C&&O(!0);var D=function(){O(!0),t.onExited&&t.onExited.apply(t,arguments)},L=t.show||l&&!C;if(Gxe(f,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!L)return null;var F=t.children(Pr({},T,{show:!!t.show,props:Pr({},S.popper,{style:I.popper,ref:_}),arrowProps:Pr({},S.arrow,{style:I.arrow,ref:m})}));if(l){var j=t.onExit,K=t.onExiting,ee=t.onEnter,W=t.onEntering,te=t.onEntered;F=$.createElement(l,{in:t.show,appear:!0,onExit:j,onExiting:K,onExited:D,onEnter:ee,onEntering:W,onEntered:te},F)}return b?W7.createPortal(F,b):null});bR.displayName="Overlay";bR.propTypes={show:_e.bool,placement:_e.oneOf(pR),target:_e.any,container:_e.any,flip:_e.bool,children:_e.func.isRequired,containerPadding:_e.number,popperConfig:_e.object,rootClose:_e.bool,rootCloseEvent:_e.oneOf(["click","mousedown"]),rootCloseDisabled:_e.bool,onHide:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(e.rootClose){var a;return(a=_e.func).isRequired.apply(a,[e].concat(n))}return _e.func.apply(_e,[e].concat(n))},transition:_e.elementType,onEnter:_e.func,onEntering:_e.func,onEntered:_e.func,onExit:_e.func,onExiting:_e.func,onExited:_e.func};function aO(t,e){var r=fR(t);return r?r.innerHeight:Ml(t).height}function eH(t,e,r){t.closest&&!r&&t.closest(e);var n=t;do{if(Swe(n,e))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}var Jxe=Bz();const ebe=_t(Jxe);var k9=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function tbe(t,e){return!!(t===e||k9(t)&&k9(e))}function rbe(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!tbe(t[r],e[r]))return!1;return!0}function tH(t,e){e===void 0&&(e=rbe);var r=null;function n(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(r&&r.lastThis===this&&e(i,r.lastArgs))return r.lastResult;var o=t.apply(this,i);return r={lastResult:o,lastArgs:i,lastThis:this},o}return n.clear=function(){r=null},n}function CC(t,e){var r=fR(t);return r?r.innerWidth:Ml(t).width}function rH(t){return OW(t)||$W(t)||uR(t)||TW()}var oO,M9;function nbe(){if(M9)return oO;M9=1;var t=$V(),e=r0(),r=Dd(),n=hw(),i=Object.prototype,a=i.hasOwnProperty,o=t(function(s,u){s=Object(s);var l=-1,c=u.length,f=c>2?u[2]:void 0;for(f&&r(u[0],u[1],f)&&(c=1);++l<c;)for(var h=u[l],v=n(h),g=-1,m=v.length;++g<m;){var _=v[g],b=s[_];(b===void 0||e(b,i[_])&&!a.call(s,_))&&(s[_]=h[_])}return s});return oO=o,oO}var ibe=nbe();const abe=_t(ibe);var sO,L9;function obe(){if(L9)return sO;L9=1;var t=_W(),e=EW(),r=xP(),n=so(),i=iw(),a=Yn(),o=L_(),s=A_(),u=Aa(),l=mP();function c(f,h,v){var g=a(f),m=g||o(f)||l(f);if(h=n(h,4),v==null){var _=f&&f.constructor;m?v=g?new _:[]:u(f)?v=s(_)?e(i(f)):{}:v={}}return(m?t:r)(f,function(b,E,A){return h(v,b,E,A)}),v}return sO=c,sO}var sbe=obe();const ube=_t(sbe);var ly={exports:{}},lbe=ly.exports,j9;function cbe(){return j9||(j9=1,function(t,e){(function(r,n){t.exports=n()})(lbe,function(){return function(r,n,i){n.prototype.isBetween=function(a,o,s,u){var l=i(a),c=i(o),f=(u=u||"()")[0]==="(",h=u[1]===")";return(f?this.isAfter(l,s):!this.isBefore(l,s))&&(h?this.isBefore(c,s):!this.isAfter(c,s))||(f?this.isBefore(l,s):!this.isAfter(l,s))&&(h?this.isAfter(c,s):!this.isBefore(c,s))}}})}(ly)),ly.exports}cbe();var cy={exports:{}},fbe=cy.exports,F9;function dbe(){return F9||(F9=1,function(t,e){(function(r,n){t.exports=n()})(fbe,function(){return function(r,n){n.prototype.isSameOrAfter=function(i,a){return this.isSame(i,a)||this.isAfter(i,a)}}})}(cy)),cy.exports}dbe();var fy={exports:{}},hbe=fy.exports,B9;function pbe(){return B9||(B9=1,function(t,e){(function(r,n){t.exports=n()})(hbe,function(){return function(r,n){n.prototype.isSameOrBefore=function(i,a){return this.isSame(i,a)||this.isBefore(i,a)}}})}(fy)),fy.exports}pbe();var dy={exports:{}},vbe=dy.exports,$9;function gbe(){return $9||($9=1,function(t,e){(function(r,n){t.exports=n()})(vbe,function(){return function(r,n,i){var a=n.prototype,o=function(f){return f&&(f.indexOf?f:f.s)},s=function(f,h,v,g,m){var _=f.name?f:f.$locale(),b=o(_[h]),E=o(_[v]),A=b||E.map(function(O){return O.slice(0,g)});if(!m)return A;var C=_.weekStart;return A.map(function(O,R){return A[(R+(C||0))%7]})},u=function(){return i.Ls[i.locale()]},l=function(f,h){return f.formats[h]||function(v){return v.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,m,_){return m||_.slice(1)})}(f.formats[h.toUpperCase()])},c=function(){var f=this;return{months:function(h){return h?h.format("MMMM"):s(f,"months")},monthsShort:function(h){return h?h.format("MMM"):s(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):s(f,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):s(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):s(f,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return l(f.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return c.bind(this)()},i.localeData=function(){var f=u();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(h){return l(f,h)},meridiem:f.meridiem,ordinal:f.ordinal}},i.months=function(){return s(u(),"months")},i.monthsShort=function(){return s(u(),"monthsShort","months",3)},i.weekdays=function(f){return s(u(),"weekdays",null,null,f)},i.weekdaysShort=function(f){return s(u(),"weekdaysShort","weekdays",3,f)},i.weekdaysMin=function(f){return s(u(),"weekdaysMin","weekdays",2,f)}}})}(dy)),dy.exports}gbe();var hy={exports:{}},mbe=hy.exports,U9;function ybe(){return U9||(U9=1,function(t,e){(function(r,n){t.exports=n()})(mbe,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,i,a){var o=i.prototype,s=o.format;a.en.formats=r,o.format=function(u){u===void 0&&(u="YYYY-MM-DDTHH:mm:ssZ");var l=this.$locale().formats,c=function(f,h){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(v,g,m){var _=m&&m.toUpperCase();return g||h[m]||r[m]||h[_].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(b,E,A){return E||A.slice(1)})})}(u,l===void 0?{}:l);return s.call(this,c)}}})}(hy)),hy.exports}ybe();var py={exports:{}},_be=py.exports,V9;function wbe(){return V9||(V9=1,function(t,e){(function(r,n){t.exports=n()})(_be,function(){return function(r,n,i){var a=function(o,s){if(!s||!s.length||s.length===1&&!s[0]||s.length===1&&Array.isArray(s[0])&&!s[0].length)return null;var u;s.length===1&&s[0].length>0&&(s=s[0]),u=(s=s.filter(function(c){return c}))[0];for(var l=1;l<s.length;l+=1)s[l].isValid()&&!s[l][o](u)||(u=s[l]);return u};i.max=function(){var o=[].slice.call(arguments,0);return a("isAfter",o)},i.min=function(){var o=[].slice.call(arguments,0);return a("isBefore",o)}}})}(py)),py.exports}wbe();var vy={exports:{}},xbe=vy.exports,q9;function bbe(){return q9||(q9=1,function(t,e){(function(r,n){t.exports=n()})(xbe,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(a,o,s){var u=o.prototype;s.utc=function(m){var _={date:m,utc:!0,args:arguments};return new o(_)},u.utc=function(m){var _=s(this.toDate(),{locale:this.$L,utc:!0});return m?_.add(this.utcOffset(),r):_},u.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var l=u.parse;u.parse=function(m){m.utc&&(this.$u=!0),this.$utils().u(m.$offset)||(this.$offset=m.$offset),l.call(this,m)};var c=u.init;u.init=function(){if(this.$u){var m=this.$d;this.$y=m.getUTCFullYear(),this.$M=m.getUTCMonth(),this.$D=m.getUTCDate(),this.$W=m.getUTCDay(),this.$H=m.getUTCHours(),this.$m=m.getUTCMinutes(),this.$s=m.getUTCSeconds(),this.$ms=m.getUTCMilliseconds()}else c.call(this)};var f=u.utcOffset;u.utcOffset=function(m,_){var b=this.$utils().u;if(b(m))return this.$u?0:b(this.$offset)?f.call(this):this.$offset;if(typeof m=="string"&&(m=function(O){O===void 0&&(O="");var R=O.match(n);if(!R)return null;var I=(""+R[0]).match(i)||["-",0,0],S=I[0],T=60*+I[1]+ +I[2];return T===0?0:S==="+"?T:-T}(m),m===null))return this;var E=Math.abs(m)<=16?60*m:m,A=this;if(_)return A.$offset=E,A.$u=m===0,A;if(m!==0){var C=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(A=this.local().add(E+C,r)).$offset=E,A.$x.$localOffset=C}else A=this.utc();return A};var h=u.format;u.format=function(m){var _=m||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,_)},u.valueOf=function(){var m=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*m},u.isUTC=function(){return!!this.$u},u.toISOString=function(){return this.toDate().toISOString()},u.toString=function(){return this.toDate().toUTCString()};var v=u.toDate;u.toDate=function(m){return m==="s"&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():v.call(this)};var g=u.diff;u.diff=function(m,_,b){if(m&&this.$u===m.$u)return g.call(this,m,_,b);var E=this.local(),A=s(m).local();return g.call(E,A,_,b)}}})}(vy)),vy.exports}bbe();var gy={exports:{}},Ebe=gy.exports,z9;function Abe(){return z9||(z9=1,function(t,e){(function(r,n){t.exports=n()})(Ebe,function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})}(gy)),gy.exports}Abe();function _o(t){return t.children}var Ri={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},ci={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},W9=Object.keys(ci).map(function(t){return ci[t]});_e.oneOfType([_e.string,_e.func]);_e.any;_e.func;_e.oneOfType([_e.arrayOf(_e.oneOf(W9)),_e.objectOf(function(t,e){var r=W9.indexOf(e)!==-1&&typeof t[e]=="boolean";if(r)return null;for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];return _e.elementType.apply(_e,[t,e].concat(i))})]);_e.oneOfType([_e.oneOf(["overlap","no-overlap"]),_e.func]);var H9={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function nH(t,e){var r=Mn(t,"month");return Mn(r,"week",e.startOfWeek())}function iH(t,e){var r=$1(t,"month");return $1(r,"week",e.startOfWeek())}function Sbe(t,e){for(var r=nH(t,e),n=iH(t,e),i=[];Bd(r,n,"day");)i.push(r),r=no(r,1,"day");return i}function Obe(t,e){var r=Mn(t,e);return Fd(r,t)?r:no(r,1,e)}function Tbe(t,e){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=t,i=[];Bd(n,e,r);)i.push(n),n=no(n,1,r);return i}function Cbe(t,e){return e==null&&t==null?null:(e==null&&(e=new Date),t==null&&(t=new Date),t=Mn(t,"day"),t=Mv(t,Mv(e)),t=hd(t,hd(e)),t=kv(t,kv(e)),Nv(t,Nv(e)))}function G9(t){return Mv(t)===0&&hd(t)===0&&kv(t)===0&&Nv(t)===0}function Ibe(t,e,r,n){return r==="day"&&(r="date"),Math.abs(d9[r](t,void 0,n)-d9[r](e,void 0,n))}function ER(t,e,r){return!r||r==="milliseconds"?Math.abs(+t-+e):Math.round(Math.abs(+Mn(t,r)/H9[r]-+Mn(e,r)/H9[r]))}var Pbe=_e.oneOfType([_e.string,_e.func]);function Rbe(t,e,r,n,i){var a=typeof n=="function"?n(r,i,t):e.call(t,r,n,i);return Tv(a==null||typeof a=="string","`localizer format(..)` must return a string, null, or undefined"),a}function Dbe(t,e,r){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,e+r,0,0)}function AR(t,e){return t.getTimezoneOffset()-e.getTimezoneOffset()}function Nbe(t,e){return ER(t,e,"minutes")+AR(t,e)}function kbe(t){var e=Mn(t,"day");return ER(e,t,"minutes")+AR(e,t)}function Mbe(t,e){return cR(t,e,"day")}function Lbe(t,e,r){var n=Fd(t,e,"minutes");return n?d0(e,r,"minutes"):pw(e,r,"minutes")}function IC(t,e){return Ibe(t,e,"day")}function jbe(t){var e=t.evtA,r=e.start,n=e.end,i=e.allDay,a=t.evtB,o=a.start,s=a.end,u=a.allDay,l=+Mn(r,"day")-+Mn(o,"day"),c=IC(r,n),f=IC(o,s);return l||f-c||!!u-!!i||+r-+o||+n-+s}function Fbe(t){var e=t.event,r=e.start,n=e.end,i=t.range,a=i.start,o=i.end,s=Mn(r,"day"),u=Bd(s,o,"day"),l=lR(s,n,"minutes"),c=l?pw(n,a,"minutes"):d0(n,a,"minutes");return u&&c}function Bbe(t,e){return Fd(t,e,"day")}function $be(t,e){return G9(t)&&G9(e)}var Ube=cn(function t(e){var r=this;ln(this,t),Tv(typeof e.format=="function","date localizer `format(..)` must be a function"),Tv(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||Pbe,this.formats=e.formats,this.format=function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return Rbe.apply(void 0,[r,e.format].concat(i))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||Cbe,this.inRange=e.inRange||LW,this.lt=e.lt||cR,this.lte=e.lte||Bd,this.gt=e.gt||pw,this.gte=e.gte||d0,this.eq=e.eq||Fd,this.neq=e.neq||lR,this.startOf=e.startOf||Mn,this.endOf=e.endOf||$1,this.add=e.add||no,this.range=e.range||Tbe,this.diff=e.diff||ER,this.ceil=e.ceil||Obe,this.min=e.min||kW,this.max=e.max||MW,this.minutes=e.minutes||hd,this.daySpan=e.daySpan||IC,this.firstVisibleDay=e.firstVisibleDay||nH,this.lastVisibleDay=e.lastVisibleDay||iH,this.visibleDays=e.visibleDays||Sbe,this.getSlotDate=e.getSlotDate||Dbe,this.getTimezoneOffset=e.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||AR,this.getTotalMin=e.getTotalMin||Nbe,this.getMinutesFromMidnight=e.getMinutesFromMidnight||kbe,this.continuesPrior=e.continuesPrior||Mbe,this.continuesAfter=e.continuesAfter||Lbe,this.sortEvents=e.sortEvents||jbe,this.inEventRange=e.inEventRange||Fbe,this.isSameDate=e.isSameDate||Bbe,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||$be,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function Vbe(t,e,r,n){var i=Jt(Jt({},t.formats),r);return Jt(Jt({},t),{},{messages:n,startOfWeek:function(){return t.startOfWeek(e)},format:function(o,s){return t.format(o,i[s]||s,e)}})}var qbe=function(t){function e(){var r;ln(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Qn(this,e,[].concat(i)),r.navigate=function(o){r.props.onNavigate(o)},r.view=function(o){r.props.onView(o)},r}return Zn(e,t),cn(e,[{key:"render",value:function(){var n=this.props,i=n.localizer.messages,a=n.label;return $.createElement("div",{className:"rbc-toolbar"},$.createElement("span",{className:"rbc-btn-group"},$.createElement("button",{type:"button",onClick:this.navigate.bind(null,Ri.TODAY)},i.today),$.createElement("button",{type:"button",onClick:this.navigate.bind(null,Ri.PREVIOUS)},i.previous),$.createElement("button",{type:"button",onClick:this.navigate.bind(null,Ri.NEXT)},i.next)),$.createElement("span",{className:"rbc-toolbar-label"},a),$.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(n){var i=this,a=this.props.views,o=this.props.view;if(a.length>1)return a.map(function(s){return $.createElement("button",{type:"button",key:s,className:Rr({"rbc-active":o===s}),onClick:i.view.bind(null,s)},n[s])})}}])}($.Component);function vr(t,e){t&&t.apply(null,[].concat(e))}var zbe={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function Wbe(t){return Jt(Jt({},zbe),t)}function Hbe(t){var e=t.ref,r=t.callback;z.useEffect(function(){var n=function(a){e.current&&!e.current.contains(a.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[e,r])}var Gbe=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],aH=function(t){function e(){return ln(this,e),Qn(this,e,arguments)}return Zn(e,t),cn(e,[{key:"render",value:function(){var n=this.props,i=n.style,a=n.className,o=n.event,s=n.selected,u=n.isAllDay,l=n.onSelect,c=n.onDoubleClick,f=n.onKeyPress,h=n.localizer,v=n.continuesPrior,g=n.continuesAfter,m=n.accessors,_=n.getters,b=n.children,E=n.components,A=E.event,C=E.eventWrapper,O=n.slotStart,R=n.slotEnd,I=jo(n,Gbe);delete I.resizable;var S=m.title(o),T=m.tooltip(o),D=m.end(o),L=m.start(o),F=m.allDay(o),j=u||F||h.diff(L,h.ceil(D,"day"),"day")>1,K=_.eventProp(o,L,D,s),ee=$.createElement("div",{className:"rbc-event-content",title:T||void 0},A?$.createElement(A,{event:o,continuesPrior:v,continuesAfter:g,title:S,isAllDay:F,localizer:h,slotStart:O,slotEnd:R}):S);return $.createElement(C,Object.assign({},this.props,{type:"date"}),$.createElement("div",Object.assign({},I,{style:Jt(Jt({},K.style),i),className:Rr("rbc-event",a,K.className,{"rbc-selected":s,"rbc-event-allday":j,"rbc-event-continues-prior":v,"rbc-event-continues-after":g}),onClick:function(te){return l&&l(o,te)},onDoubleClick:function(te){return c&&c(o,te)},onKeyDown:function(te){return f&&f(o,te)}}),typeof b=="function"?b(ee):ee))}}])}($.Component);function gw(t,e){return!t||e==null?!1:kd(t,e)}function oH(t,e){var r=t.right-t.left,n=r/e;return n}function sH(t,e,r,n){var i=oH(t,n);return r?n-1-Math.floor((e-t.left)/i):Math.floor((e-t.left)/i)}function Kbe(t,e){var r=e.x,n=e.y;return n>=t.top&&n<=t.bottom&&r>=t.left&&r<=t.right}function Xbe(t,e,r,n,i){var a=-1,o=-1,s=n-1,u=oH(e,n),l=sH(e,r.x,i,n),c=e.top<r.y&&e.bottom>r.y,f=e.top<t.y&&e.bottom>t.y,h=t.y>e.bottom,v=e.top>t.y,g=r.top<e.top&&r.bottom>e.bottom;return g&&(a=0,o=s),c&&(v?(a=0,o=l):h&&(a=l,o=s)),f&&(a=o=i?s-Math.floor((t.x-e.left)/u):Math.floor((t.x-e.left)/u),c?l<a?a=l:o=l:t.y<r.y?o=s:a=0),{startIdx:a,endIdx:o}}function Ybe(t){var e=t.target,r=t.offset,n=t.container,i=t.box,a=Ml(e),o=a.top,s=a.left,u=a.width,l=a.height,c=Ml(n),f=c.top,h=c.left,v=c.width,g=c.height,m=Ml(i),_=m.width,b=m.height,E=f+g,A=h+v,C=o+b,O=s+_,R=r.x,I=r.y,S=C>E?o-b-I:o+I+l,T=O>A?s+R-_+u:s+R;return{topOffset:S,leftOffset:T}}function Qbe(t){var e=t.containerRef,r=t.accessors,n=t.getters,i=t.selected,a=t.components,o=t.localizer,s=t.position,u=t.show,l=t.events,c=t.slotStart,f=t.slotEnd,h=t.onSelect,v=t.onDoubleClick,g=t.onKeyPress,m=t.handleDragStart,_=t.popperRef,b=t.target,E=t.offset;Hbe({ref:_,callback:u}),z.useLayoutEffect(function(){var O=Ybe({target:b,offset:E,container:e.current,box:_.current}),R=O.topOffset,I=O.leftOffset;_.current.style.top="".concat(R,"px"),_.current.style.left="".concat(I,"px")},[E.x,E.y,b]);var A=s.width,C={minWidth:A+A/2};return $.createElement("div",{style:C,className:"rbc-overlay",ref:_},$.createElement("div",{className:"rbc-overlay-header"},o.format(c,"dayHeaderFormat")),l.map(function(O,R){return $.createElement(aH,{key:R,type:"popup",localizer:o,event:O,getters:n,onSelect:h,accessors:r,components:a,onDoubleClick:v,onKeyPress:g,continuesPrior:o.lt(r.end(O),c,"day"),continuesAfter:o.gte(r.start(O),f,"day"),slotStart:c,slotEnd:f,selected:gw(O,i),draggable:!0,onDragStart:function(){return m(O)},onDragEnd:function(){return u()}})}))}var uH=$.forwardRef(function(t,e){return $.createElement(Qbe,Object.assign({},t,{popperRef:e}))});uH.propTypes={accessors:_e.object.isRequired,getters:_e.object.isRequired,selected:_e.object,components:_e.object.isRequired,localizer:_e.object.isRequired,position:_e.object.isRequired,show:_e.func.isRequired,events:_e.array.isRequired,slotStart:_e.instanceOf(Date).isRequired,slotEnd:_e.instanceOf(Date),onSelect:_e.func,onDoubleClick:_e.func,onKeyPress:_e.func,handleDragStart:_e.func,style:_e.object,offset:_e.shape({x:_e.number,y:_e.number})};function Zbe(t){var e=t.containerRef,r=t.popupOffset,n=r===void 0?5:r,i=t.overlay,a=t.accessors,o=t.localizer,s=t.components,u=t.getters,l=t.selected,c=t.handleSelectEvent,f=t.handleDoubleClickEvent,h=t.handleKeyPressEvent,v=t.handleDragStart,g=t.onHide,m=t.overlayDisplay,_=z.useRef(null);if(!i.position)return null;var b=n;isNaN(n)||(b={x:n,y:n});var E=i.position,A=i.events,C=i.date,O=i.end;return $.createElement(bR,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:g,target:i.target},function(R){var I=R.props;return $.createElement(uH,Object.assign({},I,{containerRef:e,ref:_,target:i.target,offset:b,accessors:a,getters:u,selected:l,components:s,localizer:o,position:E,show:m,events:A,slotStart:C,slotEnd:O,onSelect:c,onDoubleClick:f,onKeyPress:h,handleDragStart:v}))})}var SR=$.forwardRef(function(t,e){return $.createElement(Zbe,Object.assign({},t,{containerRef:e}))});SR.propTypes={popupOffset:_e.oneOfType([_e.number,_e.shape({x:_e.number,y:_e.number})]),overlay:_e.shape({position:_e.object,events:_e.array,date:_e.instanceOf(Date),end:_e.instanceOf(Date)}),accessors:_e.object.isRequired,localizer:_e.object.isRequired,components:_e.object.isRequired,getters:_e.object.isRequired,selected:_e.object,handleSelectEvent:_e.func,handleDoubleClickEvent:_e.func,handleKeyPressEvent:_e.func,handleDragStart:_e.func,onHide:_e.func,overlayDisplay:_e.func};function Vn(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return cp(r,t,e,{passive:!1})}function Jbe(t,e,r){return!t||Lv(t,document.elementFromPoint(e,r))}function eEe(t,e){var r=e.clientX,n=e.clientY,i=document.elementFromPoint(r,n);return eH(i,".rbc-event",t)}function tEe(t,e){var r=e.clientX,n=e.clientY,i=document.elementFromPoint(r,n);return eH(i,".rbc-show-more",t)}function q1(t,e){return!!eEe(t,e)}function rEe(t,e){return!!tEe(t,e)}function Uh(t){var e=t;return t.touches&&t.touches.length&&(e=t.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var K9=5,nEe=250,lH=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,i=n===void 0?!1:n,a=r.longPressThreshold,o=a===void 0?250:a,s=r.validContainers,u=s===void 0?[]:s;ln(this,t),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||i,this.longPressThreshold=o,this.validContainers=u,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Vn("touchmove",function(){},window),this._removeKeyDownListener=Vn("keydown",this._keyListener),this._removeKeyUpListener=Vn("keyup",this._keyListener),this._removeDropFromOutsideListener=Vn("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Vn("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return cn(t,[{key:"on",value:function(r,n){var i=this._listeners[r]||(this._listeners[r]=[]);return i.push(n),{remove:function(){var o=i.indexOf(n);o!==-1&&i.splice(o,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];var o,s=this._listeners[r]||[];return s.forEach(function(u){o===void 0&&(o=u.apply(void 0,i))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:X9(n,ic(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var i=this,a=null,o=null,s=null,u=function(h){a=setTimeout(function(){c(),r(h)},i.longPressThreshold),o=Vn("touchmove",function(){return c()}),s=Vn("touchend",function(){return c()})},l=Vn("touchstart",u),c=function(){a&&clearTimeout(a),o&&o(),s&&s(),a=null,o=null,s=null};return n&&u(n),function(){c(),l()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=Vn("mousedown",function(a){r._removeInitialEventListener(),r._handleInitialEvent(a),r._removeInitialEventListener=Vn("mousedown",r._handleInitialEvent)}),i=Vn("touchstart",function(a){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,a)});this._removeInitialEventListener=function(){n(),i()}}},{key:"_dropFromOutsideListener",value:function(r){var n=Uh(r),i=n.pageX,a=n.pageY,o=n.clientX,s=n.clientY;this.emit("dropFromOutside",{x:i,y:a,clientX:o,clientY:s}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=Uh(r),i=n.pageX,a=n.pageY,o=n.clientX,s=n.clientY;this.emit("dragOverFromOutside",{x:i,y:a,clientX:o,clientY:s}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=Uh(r),i=n.clientX,a=n.clientY,o=n.pageX,s=n.pageY,u=this.container(),l,c;if(!(r.which===3||r.button===2||!Jbe(u,i,a))){if(!this.globalMouse&&u&&!Lv(u,r.target)){var f=iEe(0),h=f.top,v=f.left,g=f.bottom,m=f.right;if(c=ic(u),l=X9({top:c.top-h,left:c.left-v,bottom:c.bottom+g,right:c.right+m},{top:s,left:o}),!l)return}var _=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:o,y:s,clientX:i,clientY:a});if(_!==!1)switch(r.type){case"mousedown":this._removeEndListener=Vn("mouseup",this._handleTerminatingEvent),this._onEscListener=Vn("keydown",this._handleTerminatingEvent),this._removeMoveListener=Vn("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=Vn("touchend",this._handleTerminatingEvent),this._removeMoveListener=Vn("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,i=this.validContainers;return!i||!i.length||!n?!0:i.some(function(a){return!!n.closest(a)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,i=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var a=!this.container||Lv(this.container(),r.target),o=this._isWithinValidContainer(r);return r.key==="Escape"||!o?this.emit("reset"):!n&&a?this._handleClickEvent(r):n?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=Uh(r),i=n.pageX,a=n.pageY,o=n.clientX,s=n.clientY,u=new Date().getTime();return this._lastClickData&&u-this._lastClickData.timestamp<nEe?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:a,clientX:o,clientY:s})):(this._lastClickData={timestamp:u},this.emit("click",{x:i,y:a,clientX:o,clientY:s}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,i=n.x,a=n.y,o=Uh(r),s=o.pageX,u=o.pageY,l=Math.abs(i-s),c=Math.abs(a-u),f=Math.min(s,i),h=Math.min(u,a),v=this.selecting,g=this.isClick(s,u);g&&!v&&!(l||c)||(!v&&!g&&this.emit("selectStart",this._initialEventData),g||(this.selecting=!0,this._selectRect={top:h,left:f,x:s,y:u,right:f+l,bottom:h+c},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var i=this._initialEventData,a=i.x,o=i.y,s=i.isTouch;return!s&&Math.abs(r-a)<=K9&&Math.abs(n-o)<=K9}}])}();function iEe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return ro(t)!=="object"&&(t={top:t,left:t,right:t,bottom:t}),t}function X9(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=ic(t),i=n.top,a=n.left,o=n.right,s=o===void 0?a:o,u=n.bottom,l=u===void 0?i:u,c=ic(e),f=c.top,h=c.left,v=c.right,g=v===void 0?h:v,m=c.bottom,_=m===void 0?f:m;return!(l-r<f||i+r>_||s-r<h||a+r>g)}function ic(t){if(!t.getBoundingClientRect)return t;var e=t.getBoundingClientRect(),r=e.left+Y9("left"),n=e.top+Y9("top");return{top:n,left:r,right:(t.offsetWidth||0)+r,bottom:(t.offsetHeight||0)+n}}function Y9(t){if(t==="left")return window.pageXOffset||document.body.scrollLeft||0;if(t==="top")return window.pageYOffset||document.body.scrollTop||0}var aEe=function(t){function e(r,n){var i;return ln(this,e),i=Qn(this,e,[r,n]),i.state={selecting:!1},i.containerRef=z.createRef(),i}return Zn(e,t),cn(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,i=n.range,a=n.getNow,o=n.getters,s=n.date,u=n.components.dateCellWrapper,l=n.localizer,c=this.state,f=c.selecting,h=c.startIdx,v=c.endIdx,g=a();return $.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(m,_){var b=f&&_>=h&&_<=v,E=o.dayProp(m),A=E.className,C=E.style;return $.createElement(u,{key:_,value:m,range:i},$.createElement("div",{style:C,className:Rr("rbc-day-bg",A,b&&"rbc-selected-cell",l.isSameDate(m,g)&&"rbc-today",s&&l.neq(s,m,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,i=this.containerRef.current,a=this._selector=new lH(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(u,l){if(!q1(i,u)&&!rEe(i,u)){var c=ic(i),f=n.props,h=f.range,v=f.rtl;if(Kbe(c,u)){var g=sH(c,u.x,v,h.length);n._selectSlot({startIdx:g,endIdx:g,action:l,box:u})}}n._initial={},n.setState({selecting:!1})};a.on("selecting",function(s){var u=n.props,l=u.range,c=u.rtl,f=-1,h=-1;if(n.state.selecting||(vr(n.props.onSelectStart,[s]),n._initial={x:s.x,y:s.y}),a.isSelected(i)){var v=ic(i),g=Xbe(n._initial,v,s,l.length,c);f=g.startIdx,h=g.endIdx}n.setState({selecting:!0,startIdx:f,endIdx:h})}),a.on("beforeSelect",function(s){if(n.props.selectable==="ignoreEvents")return!q1(n.containerRef.current,s)}),a.on("click",function(s){return o(s,"click")}),a.on("doubleClick",function(s){return o(s,"doubleClick")}),a.on("select",function(s){n._selectSlot(Jt(Jt({},n.state),{},{action:"select",bounds:s})),n._initial={},n.setState({selecting:!1}),vr(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var i=n.endIdx,a=n.startIdx,o=n.action,s=n.bounds,u=n.box;i!==-1&&a!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:a,end:i,action:o,bounds:s,box:u,resourceId:this.props.resourceId})}}])}($.Component),va={propTypes:{slotMetrics:_e.object.isRequired,selected:_e.object,isAllDay:_e.bool,accessors:_e.object.isRequired,localizer:_e.object.isRequired,components:_e.object.isRequired,getters:_e.object.isRequired,onSelect:_e.func,onDoubleClick:_e.func,onKeyPress:_e.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,r){var n=e.selected;e.isAllDay;var i=e.accessors,a=e.getters,o=e.onSelect,s=e.onDoubleClick,u=e.onKeyPress,l=e.localizer,c=e.slotMetrics,f=e.components,h=e.resizable,v=c.continuesPrior(r),g=c.continuesAfter(r);return $.createElement(aH,{event:r,getters:a,localizer:l,accessors:i,components:f,onSelect:o,onDoubleClick:s,onKeyPress:u,continuesPrior:v,continuesAfter:g,slotStart:c.first,slotEnd:c.last,selected:gw(r,n),resizable:h})},renderSpan:function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",a=Math.abs(r)/e*100+"%";return $.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:a,flexBasis:a,maxWidth:a}},i)}},cH=function(t){function e(){return ln(this,e),Qn(this,e,arguments)}return Zn(e,t),cn(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.segments,o=i.slotMetrics.slots,s=i.className,u=1;return $.createElement("div",{className:Rr(s,"rbc-row")},a.reduce(function(l,c,f){var h=c.event,v=c.left,g=c.right,m=c.span,_="_lvl_"+f,b=v-u,E=va.renderEvent(n.props,h);return b&&l.push(va.renderSpan(o,b,"".concat(_,"_gap"))),l.push(va.renderSpan(o,m,_,E)),u=g+1,l},[]))}}])}($.Component);cH.defaultProps=Jt({},va.defaultProps);function fH(t){var e=t.dateRange,r=t.unit,n=r===void 0?"day":r,i=t.localizer;return{first:e[0],last:i.add(e[e.length-1],1,n)}}function oEe(t,e,r,n){var i=fH({dateRange:e,localizer:n}),a=i.first,o=i.last,s=n.diff(a,o,"day"),u=n.max(n.startOf(r.start(t),"day"),a),l=n.min(n.ceil(r.end(t),"day"),o),c=ebe(e,function(h){return n.isSameDate(h,u)}),f=n.diff(u,l,"day");return f=Math.min(f,s),f=Math.max(f-n.segmentOffset,1),{event:t,span:f,left:c+1,right:Math.max(c+f,1)}}function PC(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,i,a=[],o=[];for(r=0;r<t.length;r++){for(i=t[r],n=0;n<a.length&&sEe(i,a[n]);n++);n>=e?o.push(i):(a[n]||(a[n]=[])).push(i)}for(r=0;r<a.length;r++)a[r].sort(function(s,u){return s.left-u.left});return{levels:a,extra:o}}function Bv(t,e,r,n,i){var a={start:n.start(t),end:n.end(t)},o={start:e,end:r};return i.inEventRange({event:a,range:o})}function sEe(t,e){return e.some(function(r){return r.left<=t.right&&r.right>=t.left})}function uEe(t,e,r){var n=sy(t),i=[],a=[];n.forEach(function(u){var l=e.start(u),c=e.end(u);r.daySpan(l,c)>1?i.push(u):a.push(u)});var o=i.sort(function(u,l){return RC(u,l,e,r)}),s=a.sort(function(u,l){return RC(u,l,e,r)});return[].concat(sy(o),sy(s))}function RC(t,e,r,n){var i={start:r.start(t),end:r.end(t),allDay:r.allDay(t)},a={start:r.start(e),end:r.end(e),allDay:r.allDay(e)};return n.sortEvents({evtA:i,evtB:a})}var DC=function(e,r){return e.left<=r&&e.right>=r},uO=function(e,r){return e.filter(function(n){return DC(n,r)}).map(function(n){return n.event})},dH=function(t){function e(){return ln(this,e),Qn(this,e,arguments)}return Zn(e,t),cn(e,[{key:"render",value:function(){for(var n=this.props,i=n.segments,a=n.slotMetrics.slots,o=PC(i).levels[0],s=1,u=1,l=[];s<=a;){var c="_lvl_"+s,f=o.filter(function(C){return DC(C,s)})[0]||{},h=f.event,v=f.left,g=f.right,m=f.span;if(!h){var _=this.getHiddenEventsForSlot(i,s);if(_.length>0){var b=s-u;b&&l.push(va.renderSpan(a,b,c+"_gap")),l.push(va.renderSpan(a,1,c,this.renderShowMore(i,s))),u=s=s+1;continue}s++;continue}var E=Math.max(0,v-u);if(this.canRenderSlotEvent(v,m)){var A=va.renderEvent(this.props,h);E&&l.push(va.renderSpan(a,E,c+"_gap")),l.push(va.renderSpan(a,m,c,A)),u=s=g+1}else E&&l.push(va.renderSpan(a,E,c+"_gap")),l.push(va.renderSpan(a,1,c,this.renderShowMore(i,s))),u=s=s+1}return $.createElement("div",{className:"rbc-row"},l)}},{key:"getHiddenEventsForSlot",value:function(n,i){var a=uO(n,i),o=PC(n).levels[0],s=o.filter(function(u){return DC(u,i)}).map(function(u){return u.event});return a.filter(function(u){return!s.some(function(l){return l===u})})}},{key:"canRenderSlotEvent",value:function(n,i){var a=this.props.segments;return wv(n,n+i).every(function(o){var s=uO(a,o).length;return s===1})}},{key:"renderShowMore",value:function(n,i){var a=this,o=this.props,s=o.localizer,u=o.slotMetrics,l=o.components,c=u.getEventsForSlot(i),f=uO(n,i),h=f.length;if(l!=null&&l.showMore){var v=l.showMore,g=u.getDateForSlot(i-1);return h?$.createElement(v,{localizer:s,slotDate:g,slot:i,count:h,events:c,remainingEvents:f}):!1}return h?$.createElement("button",{type:"button",key:"sm_"+i,className:Rr("rbc-button-link","rbc-show-more"),onClick:function(_){return a.showMore(i,_)}},s.messages.showMore(h,f,c)):!1}},{key:"showMore",value:function(n,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(n,i.target)}}])}($.Component);dH.defaultProps=Jt({},va.defaultProps);var lEe=function(e){var r=e.children;return $.createElement("div",{className:"rbc-row-content-scroll-container"},r)},cEe=function(e,r){return e.left<=r&&e.right>=r},fEe=function(e,r){return e[0].range===r[0].range&&e[0].events===r[0].events};function hH(){return tH(function(t){for(var e=t.range,r=t.events,n=t.maxRows,i=t.minRows,a=t.accessors,o=t.localizer,s=fH({dateRange:e,localizer:o}),u=s.first,l=s.last,c=r.map(function(m){return oEe(m,e,a,o)}),f=PC(c,Math.max(n-1,1)),h=f.levels,v=f.extra,g=v.length>0?i-1:i;h.length<g;)h.push([]);return{first:u,last:l,levels:h,extra:v,range:e,slots:e.length,clone:function(_){var b=hH();return b(Jt(Jt({},t),_))},getDateForSlot:function(_){return e[_]},getSlotForDate:function(_){return e.find(function(b){return o.isSameDate(b,_)})},getEventsForSlot:function(_){return c.filter(function(b){return cEe(b,_)}).map(function(b){return b.event})},continuesPrior:function(_){return o.continuesPrior(a.start(_),u)},continuesAfter:function(_){var b=a.start(_),E=a.end(_);return o.continuesAfter(b,E,l)}}},fEe)}var $v=function(t){function e(){var r;ln(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Qn(this,e,[].concat(i)),r.handleSelectSlot=function(o){var s=r.props,u=s.range,l=s.onSelectSlot;l(u.slice(o.start,o.end+1),o)},r.handleShowMore=function(o,s){var u=r.props,l=u.range,c=u.onShowMore,f=r.slotMetrics(r.props),h=Twe(r.containerRef.current,".rbc-row-bg")[0],v;h&&(v=h.children[o-1]);var g=f.getEventsForSlot(o);c(g,l[o-1],v,o,s)},r.getContainer=function(){var o=r.props.container;return o?o():r.containerRef.current},r.renderHeadingCell=function(o,s){var u=r.props,l=u.renderHeader,c=u.getNow,f=u.localizer;return l({date:o,key:"header_".concat(s),className:Rr("rbc-date-cell",f.isSameDate(o,c())&&"rbc-now")})},r.renderDummy=function(){var o=r.props,s=o.className,u=o.range,l=o.renderHeader,c=o.showAllEvents;return $.createElement("div",{className:s,ref:r.containerRef},$.createElement("div",{className:Rr("rbc-row-content",c&&"rbc-row-content-scrollable")},l&&$.createElement("div",{className:"rbc-row",ref:r.headingRowRef},u.map(r.renderHeadingCell)),$.createElement("div",{className:"rbc-row",ref:r.eventRowRef},$.createElement("div",{className:"rbc-row-segment"},$.createElement("div",{className:"rbc-event"},$.createElement("div",{className:"rbc-event-content"},""))))))},r.containerRef=z.createRef(),r.headingRowRef=z.createRef(),r.eventRowRef=z.createRef(),r.slotMetrics=hH(),r}return Zn(e,t),cn(e,[{key:"getRowLimit",value:function(){var n,i=aO(this.eventRowRef.current),a=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?aO(this.headingRowRef.current):0,o=aO(this.containerRef.current)-a;return Math.max(Math.floor(o/i),1)}},{key:"render",value:function(){var n=this.props,i=n.date,a=n.rtl,o=n.range,s=n.className,u=n.selected,l=n.selectable,c=n.renderForMeasure,f=n.accessors,h=n.getters,v=n.components,g=n.getNow,m=n.renderHeader,_=n.onSelect,b=n.localizer,E=n.onSelectStart,A=n.onSelectEnd,C=n.onDoubleClick,O=n.onKeyPress,R=n.resourceId,I=n.longPressThreshold,S=n.isAllDay,T=n.resizable,D=n.showAllEvents;if(c)return this.renderDummy();var L=this.slotMetrics(this.props),F=L.levels,j=L.extra,K=D?lEe:_o,ee=v.weekWrapper,W={selected:u,accessors:f,getters:h,localizer:b,components:v,onSelect:_,onDoubleClick:C,onKeyPress:O,resourceId:R,slotMetrics:L,resizable:T};return $.createElement("div",{className:s,role:"rowgroup",ref:this.containerRef},$.createElement(aEe,{localizer:b,date:i,getNow:g,rtl:a,range:o,selectable:l,container:this.getContainer,getters:h,onSelectStart:E,onSelectEnd:A,onSelectSlot:this.handleSelectSlot,components:v,longPressThreshold:I,resourceId:R}),$.createElement("div",{className:Rr("rbc-row-content",D&&"rbc-row-content-scrollable"),role:"row"},m&&$.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),$.createElement(K,null,$.createElement(ee,Object.assign({isAllDay:S},W,{rtl:this.props.rtl}),F.map(function(te,X){return $.createElement(cH,Object.assign({key:X,segments:te},W))}),!!j.length&&$.createElement(dH,Object.assign({segments:j,onShowMore:this.handleShowMore},W))))))}}])}($.Component);$v.defaultProps={minRows:0,maxRows:1/0};var OR=function(e){var r=e.label;return $.createElement("span",{role:"columnheader","aria-sort":"none"},r)},dEe=function(e){var r=e.label,n=e.drilldownView,i=e.onDrillDown;return n?$.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},r):$.createElement("span",null,r)},hEe=["date","className"],pEe=function(e,r,n,i,a){return e.filter(function(o){return Bv(o,r,n,i,a)})},mw=function(t){function e(){var r;ln(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Qn(this,e,[].concat(i)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(o,s){var u=r.props,l=u.events,c=u.components,f=u.selectable,h=u.getNow,v=u.selected,g=u.date,m=u.localizer,_=u.longPressThreshold,b=u.accessors,E=u.getters,A=u.showAllEvents,C=r.state,O=C.needLimitMeasure,R=C.rowLimit,I=pEe(sy(l),o[0],o[o.length-1],b,m),S=uEe(I,b,m);return $.createElement($v,{key:s,ref:s===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:h,date:g,range:o,events:S,maxRows:A?1/0:R,selected:v,selectable:f,components:c,accessors:b,getters:E,localizer:m,renderHeader:r.readerDateHeading,renderForMeasure:O,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:_,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:A})},r.readerDateHeading=function(o){var s=o.date,u=o.className,l=jo(o,hEe),c=r.props,f=c.date,h=c.getDrilldownView,v=c.localizer,g=v.neq(f,s,"month"),m=v.isSameDate(s,f),_=h(s),b=v.format(s,"dateFormat"),E=r.props.components.dateHeader||dEe;return $.createElement("div",Object.assign({},l,{className:Rr(u,g&&"rbc-off-range",m&&"rbc-current"),role:"cell"}),$.createElement(E,{label:b,date:s,drilldownView:_,isOffRange:g,onDrillDown:function(C){return r.handleHeadingClick(s,_,C)}}))},r.handleSelectSlot=function(o,s){r._pendingSelection=r._pendingSelection.concat(o),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(s)})},r.handleHeadingClick=function(o,s,u){u.preventDefault(),r.clearSelection(),vr(r.props.onDrillDown,[o,s])},r.handleSelectEvent=function(){r.clearSelection();for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];vr(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];vr(r.props.onDoubleClickEvent,s)},r.handleKeyPressEvent=function(){r.clearSelection();for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];vr(r.props.onKeyPressEvent,s)},r.handleShowMore=function(o,s,u,l,c){var f=r.props,h=f.popup,v=f.onDrillDown,g=f.onShowMore,m=f.getDrilldownView,_=f.doShowMoreDrillDown;if(r.clearSelection(),h){var b=zW(u,r.containerRef.current);r.setState({overlay:{date:s,events:o,position:b,target:c}})}else _&&vr(v,[s,m(s)||ci.DAY]);vr(g,[o,s,l])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=z.createRef(),r.slotRowRef=z.createRef(),r._bgRows=[],r._pendingSelection=[],r}return Zn(e,t),cn(e,[{key:"componentDidMount",value:function(){var n=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||WW(function(){i=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,i=n.date,a=n.localizer,o=n.className,s=a.visibleDays(i,a),u=fwe(s,7);return this._weekCount=u.length,$.createElement("div",{className:Rr("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},$.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(u[0])),u.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var i=this.props,a=i.localizer,o=i.components,s=n[0],u=n[n.length-1],l=o.header||OR;return a.range(s,u,"day").map(function(c,f){return $.createElement("div",{key:"header_"+f,className:"rbc-header"},$.createElement(l,{date:c,localizer:a,label:a.format(c,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,i,a=this,o=(n=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&n!==void 0?n:{},s=this.props,u=s.accessors,l=s.localizer,c=s.components,f=s.getters,h=s.selected,v=s.popupOffset,g=s.handleDragStart,m=function(){return a.setState({overlay:null})};return $.createElement(SR,{overlay:o,accessors:u,localizer:l,components:c,getters:f,selected:h,popupOffset:v,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:g,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:m})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(s,u){return+s-+u});var a=new Date(i[0]),o=new Date(i[i.length-1]);o.setDate(i[i.length-1].getDate()+1),vr(this.props.onSelectSlot,{slots:i,start:a,end:o,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,i){var a=n.date,o=n.localizer;return{date:a,needLimitMeasure:o.neq(a,i.date,"month")}}}])}($.Component);mw.range=function(t,e){var r=e.localizer,n=r.firstVisibleDay(t,r),i=r.lastVisibleDay(t,r);return{start:n,end:i}};mw.navigate=function(t,e,r){var n=r.localizer;switch(e){case Ri.PREVIOUS:return n.add(t,-1,"month");case Ri.NEXT:return n.add(t,1,"month");default:return t}};mw.title=function(t,e){var r=e.localizer;return r.format(t,"monthHeaderFormat")};var Q9=function(e){var r=e.min,n=e.max,i=e.step,a=e.slots,o=e.localizer;return"".concat(+o.startOf(r,"minutes"))+"".concat(+o.startOf(n,"minutes"))+"".concat(i,"-").concat(a)};function TR(t){for(var e=t.min,r=t.max,n=t.step,i=t.timeslots,a=t.localizer,o=Q9({step:n,localizer:a}),s=1+a.getTotalMin(e,r),u=a.getMinutesFromMidnight(e),l=Math.ceil((s-1)/(n*i)),c=l*i,f=new Array(l),h=new Array(c),v=0;v<l;v++){f[v]=new Array(i);for(var g=0;g<i;g++){var m=v*i+g,_=m*n;h[m]=f[v][g]=a.getSlotDate(e,u,_)}}var b=h.length*n;h.push(a.getSlotDate(e,u,b));function E(A){var C=a.diff(e,A,"minutes")+a.getDstOffset(e,A);return Math.min(C,s)}return{groups:f,update:function(C){return Q9(C)!==o?TR(C):this},dateIsInGroup:function(C,O){var R=f[O+1];return a.inRange(C,f[O][0],R?R[0]:r,"minutes")},nextSlot:function(C){var O=h[Math.min(h.findIndex(function(R){return R===C||a.eq(R,C)})+1,h.length-1)];return a.eq(O,C)&&(O=a.add(C,n,"minutes")),O},closestSlotToPosition:function(C){var O=Math.min(h.length-1,Math.max(0,Math.floor(C*c)));return h[O]},closestSlotFromPoint:function(C,O){var R=Math.abs(O.top-O.bottom);return this.closestSlotToPosition((C.y-O.top)/R)},closestSlotFromDate:function(C){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(a.lt(C,e,"minutes"))return h[0];if(a.gt(C,r,"minutes"))return h[h.length-1];var R=a.diff(e,C,"minutes");return h[(R-R%n)/n+O]},startsBeforeDay:function(C){return a.lt(C,e,"day")},startsAfterDay:function(C){return a.gt(C,r,"day")},startsBefore:function(C){return a.lt(a.merge(e,C),e,"minutes")},startsAfter:function(C){return a.gt(a.merge(r,C),r,"minutes")},getRange:function(C,O,R,I){R||(C=a.min(r,a.max(e,C))),I||(O=a.min(r,a.max(e,O)));var S=E(C),T=E(O),D=T>n*c&&!a.eq(r,O)?(S-n)/(n*c)*100:S/(n*c)*100;return{top:D,height:T/(n*c)*100-D,start:E(C),startDate:C,end:E(O),endDate:O}},getCurrentTimePosition:function(C){var O=E(C),R=O/(n*c)*100;return R}}}var vEe=function(){function t(e,r){var n=r.accessors,i=r.slotMetrics;ln(this,t);var a=i.getRange(n.start(e),n.end(e)),o=a.start,s=a.startDate,u=a.end,l=a.endDate,c=a.top,f=a.height;this.start=o,this.end=u,this.startMs=+s,this.endMs=+l,this.top=c,this.height=f,this.data=e}return cn(t,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(i,a){return Math.max(i,a.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var i=this.row.leaves,a=i.indexOf(this);return a===i.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,i=r.xOffset,a=r._width,o=n.indexOf(this)+1;return i+o*a}}])}();function gEe(t,e,r){return Math.abs(e.start-t.start)<r||e.start>t.start&&e.start<t.end}function mEe(t){for(var e=$_(t,["startMs",function(s){return-s.endMs}]),r=[];e.length>0;){var n=e.shift();r.push(n);for(var i=0;i<e.length;i++){var a=e[i];if(!(n.endMs>a.startMs)){if(i>0){var o=e.splice(i,1)[0];r.push(o)}break}}}return r}function pH(t){for(var e=t.events,r=t.minimumStartDifference,n=t.slotMetrics,i=t.accessors,a=e.map(function(c){return new vEe(c,{slotMetrics:n,accessors:i})}),o=mEe(a),s=[],u=function(){var f=o[l],h=s.find(function(m){return m.end>f.start||Math.abs(f.start-m.start)<r});if(!h)return f.rows=[],s.push(f),1;f.container=h;for(var v=null,g=h.rows.length-1;!v&&g>=0;g--)gEe(h.rows[g],f,r)&&(v=h.rows[g]);v?(v.leaves.push(f),f.row=v):(f.leaves=[],h.rows.push(f))},l=0;l<o.length;l++)u();return o.map(function(c){return{event:c.data,style:{top:c.top,height:c.height,width:c.width,xOffset:Math.max(0,c.xOffset)}}})}function vH(t,e,r){for(var n=0;n<t.friends.length;++n)if(!(r.indexOf(t.friends[n])>-1)){e=e>t.friends[n].idx?e:t.friends[n].idx,r.push(t.friends[n]);var i=vH(t.friends[n],e,r);e=e>i?e:i}return e}function yEe(t){var e=t.events,r=t.minimumStartDifference,n=t.slotMetrics,i=t.accessors,a=pH({events:e,minimumStartDifference:r,slotMetrics:n,accessors:i});a.sort(function(ee,W){return ee=ee.style,W=W.style,ee.top!==W.top?ee.top>W.top?1:-1:ee.height!==W.height?ee.top+ee.height<W.top+W.height?1:-1:0});for(var o=0;o<a.length;++o)a[o].friends=[],delete a[o].style.left,delete a[o].style.left,delete a[o].idx,delete a[o].size;for(var s=0;s<a.length-1;++s)for(var u=a[s],l=u.style.top,c=u.style.top+u.style.height,f=s+1;f<a.length;++f){var h=a[f],v=h.style.top,g=h.style.top+h.style.height;(v>=l&&g<=c||g>l&&g<=c||v>=l&&v<c)&&(u.friends.push(h),h.friends.push(u))}for(var m=0;m<a.length;++m){for(var _=a[m],b=[],E=0;E<100;++E)b.push(1);for(var A=0;A<_.friends.length;++A)_.friends[A].idx!==void 0&&(b[_.friends[A].idx]=0);_.idx=b.indexOf(1)}for(var C=0;C<a.length;++C){var O=0;if(!a[C].size){var R=[],I=vH(a[C],0,R);O=100/(I+1),a[C].size=O;for(var S=0;S<R.length;++S)R[S].size=O}}for(var T=0;T<a.length;++T){var D=a[T];D.style.left=D.idx*D.size;for(var L=0,F=0;F<D.friends.length;++F){var j=D.friends[F].idx;L=L>j?L:j}L<=D.idx&&(D.size=100-D.idx*D.size);var K=D.idx===0?0:3;D.style.width="calc(".concat(D.size,"% - ").concat(K,"px)"),D.style.height="calc(".concat(D.style.height,"% - 2px)"),D.style.xOffset="calc(".concat(D.style.left,"% + ").concat(K,"px)")}return a}var Z9={overlap:pH,"no-overlap":yEe};function _Ee(t){return!!(t&&t.constructor&&t.call&&t.apply)}function wEe(t){t.events,t.minimumStartDifference,t.slotMetrics,t.accessors;var e=t.dayLayoutAlgorithm,r=e;return e in Z9&&(r=Z9[e]),_Ee(r)?r.apply(this,arguments):[]}var gH=function(t){function e(){return ln(this,e),Qn(this,e,arguments)}return Zn(e,t),cn(e,[{key:"render",value:function(){var n=this.props,i=n.renderSlot,a=n.resource,o=n.group,s=n.getters,u=n.components,l=u===void 0?{}:u,c=l.timeSlotWrapper,f=c===void 0?_o:c,h=s?s.slotGroupProp(o):{};return $.createElement("div",Object.assign({className:"rbc-timeslot-group"},h),o.map(function(v,g){var m=s?s.slotProp(v,a):{};return $.createElement(f,{key:g,value:v,resource:a},$.createElement("div",Object.assign({},m,{className:Rr("rbc-time-slot",m.className)}),i&&i(v,g)))}))}}])}(z.Component);function um(t){return typeof t=="string"?t:t+"%"}function xEe(t){var e=t.style,r=t.className,n=t.event,i=t.accessors,a=t.rtl,o=t.selected,s=t.label,u=t.continuesPrior,l=t.continuesAfter,c=t.getters,f=t.onClick,h=t.onDoubleClick,v=t.isBackgroundEvent,g=t.onKeyPress,m=t.components,_=m.event,b=m.eventWrapper,E=i.title(n),A=i.tooltip(n),C=i.end(n),O=i.start(n),R=c.eventProp(n,O,C,o),I=[$.createElement("div",{key:"1",className:"rbc-event-label"},s),$.createElement("div",{key:"2",className:"rbc-event-content"},_?$.createElement(_,{event:n,title:E}):E)],S=e.height,T=e.top,D=e.width,L=e.xOffset,F=Jt(Jt({},R.style),{},bl({top:um(T),height:um(S),width:um(D)},a?"right":"left",um(L)));return $.createElement(b,Object.assign({type:"time"},t),$.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:h,style:F,onKeyDown:g,title:A?(typeof s=="string"?s+": ":"")+A:void 0,className:Rr(v?"rbc-background-event":"rbc-event",r,R.className,{"rbc-selected":o,"rbc-event-continues-earlier":u,"rbc-event-continues-later":l})},I))}var bEe=function(e){var r=e.children,n=e.className,i=e.style,a=e.innerRef;return $.createElement("div",{className:n,style:i,ref:a},r)},EEe=$.forwardRef(function(t,e){return $.createElement(bEe,Object.assign({},t,{innerRef:e}))}),AEe=["dayProp"],SEe=["eventContainerWrapper","timeIndicatorWrapper"],mH=function(t){function e(){var r;ln(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Qn(this,e,[].concat(i)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(o){var s=o.events,u=o.isBackgroundEvent,l=r.props,c=l.rtl,f=l.selected,h=l.accessors,v=l.localizer,g=l.getters,m=l.components,_=l.step,b=l.timeslots,E=l.dayLayoutAlgorithm,A=l.resizable,C=r,O=C.slotMetrics,R=v.messages,I=wEe({events:s,accessors:h,slotMetrics:O,minimumStartDifference:Math.ceil(_*b/2),dayLayoutAlgorithm:E});return I.map(function(S,T){var D,L=S.event,F=S.style,j=h.end(L),K=h.start(L),ee=(D=h.eventId(L))!==null&&D!==void 0?D:"evt_"+T,W="eventTimeRangeFormat",te,X=O.startsBeforeDay(K),Q=O.startsAfterDay(j);X?W="eventTimeRangeEndFormat":Q&&(W="eventTimeRangeStartFormat"),X&&Q?te=R.allDay:te=v.format({start:K,end:j},W);var se=X||O.startsBefore(K),q=Q||O.startsAfter(j);return $.createElement(xEe,{style:F,event:L,label:te,key:ee,getters:g,rtl:c,components:m,continuesPrior:se,continuesAfter:q,accessors:h,resource:r.props.resource,selected:gw(L,f),onClick:function(ae){return r._select(Jt(Jt(Jt({},L),r.props.resource&&{sourceResource:r.props.resource}),u&&{isBackgroundEvent:!0}),ae)},onDoubleClick:function(ae){return r._doubleClick(L,ae)},isBackgroundEvent:u,onKeyPress:function(ae){return r._keyPress(L,ae)},resizable:A})})},r._selectable=function(){var o=r.containerRef.current,s=r.props,u=s.longPressThreshold,l=s.localizer,c=r._selector=new lH(function(){return o},{longPressThreshold:u}),f=function(m){var _=r.props.onSelecting,b=r.state||{},E=h(m),A=E.startDate,C=E.endDate;_&&(l.eq(b.startDate,A,"minutes")&&l.eq(b.endDate,C,"minutes")||_({start:A,end:C,resourceId:r.props.resource})===!1)||(r.state.start!==E.start||r.state.end!==E.end||r.state.selecting!==E.selecting)&&r.setState(E)},h=function(m){var _=r.slotMetrics.closestSlotFromPoint(m,ic(o));r.state.selecting||(r._initialSlot=_);var b=r._initialSlot;l.lte(b,_)?_=r.slotMetrics.nextSlot(_):l.gt(b,_)&&(b=r.slotMetrics.nextSlot(b));var E=r.slotMetrics.getRange(l.min(b,_),l.max(b,_));return Jt(Jt({},E),{},{selecting:!0,top:"".concat(E.top,"%"),height:"".concat(E.height,"%")})},v=function(m,_){if(!q1(r.containerRef.current,m)){var b=h(m),E=b.startDate,A=b.endDate;r._selectSlot({startDate:E,endDate:A,action:_,box:m})}r.setState({selecting:!1})};c.on("selecting",f),c.on("selectStart",f),c.on("beforeSelect",function(g){if(r.props.selectable==="ignoreEvents")return!q1(r.containerRef.current,g)}),c.on("click",function(g){return v(g,"click")}),c.on("doubleClick",function(g){return v(g,"doubleClick")}),c.on("select",function(g){r.state.selecting&&(r._selectSlot(Jt(Jt({},r.state),{},{action:"select",bounds:g})),r.setState({selecting:!1}))}),c.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(o){for(var s=o.startDate,u=o.endDate,l=o.action,c=o.bounds,f=o.box,h=s,v=[];r.props.localizer.lte(h,u);)v.push(h),h=new Date(+h+r.props.step*60*1e3);vr(r.props.onSelectSlot,{slots:v,start:s,end:u,resourceId:r.props.resource,action:l,bounds:c,box:f})},r._select=function(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];vr(r.props.onSelectEvent,s)},r._doubleClick=function(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];vr(r.props.onDoubleClickEvent,s)},r._keyPress=function(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];vr(r.props.onKeyPressEvent,s)},r.slotMetrics=TR(r.props),r.containerRef=z.createRef(),r}return Zn(e,t),cn(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,i){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var a=this.props,o=a.getNow,s=a.isNow,u=a.localizer,l=a.date,c=a.min,f=a.max,h=u.neq(n.getNow(),o(),"minutes");if(n.isNow!==s||h){if(this.clearTimeIndicatorInterval(),s){var v=!h&&u.eq(n.date,l,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(v)}}else s&&(u.neq(n.min,c,"minutes")||u.neq(n.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,i=n.min,a=n.max,o=n.getNow,s=o();if(s>=i&&s<=a){var u=this.slotMetrics.getCurrentTimePosition(s);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:u})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,i=n.date,a=n.max,o=n.rtl,s=n.isNow,u=n.resource,l=n.accessors,c=n.localizer,f=n.getters,h=f.dayProp,v=jo(f,AEe),g=n.components,m=g.eventContainerWrapper,_=g.timeIndicatorWrapper,b=jo(g,SEe);this.slotMetrics=this.slotMetrics.update(this.props);var E=this.slotMetrics,A=this.state,C=A.selecting,O=A.top,R=A.height,I=A.startDate,S=A.endDate,T={start:I,end:S},D=h(a,u),L=D.className,F=D.style,j={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},K=b.dayColumnWrapper||EEe;return $.createElement(K,{ref:this.containerRef,date:i,style:F,className:Rr(L,"rbc-day-slot","rbc-time-column",s&&"rbc-now",s&&"rbc-today",C&&"rbc-slot-selecting"),slotMetrics:E,resource:u},E.groups.map(function(ee,W){return $.createElement(gH,{key:W,group:ee,resource:u,getters:v,components:b})}),$.createElement(m,{localizer:c,resource:u,accessors:l,getters:v,components:b,slotMetrics:E},$.createElement("div",{className:Rr("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),C&&$.createElement("div",{className:"rbc-slot-selection",style:{top:O,height:R}},$.createElement("span",null,c.format(T,"selectRangeFormat"))),s&&this.intervalTriggered&&$.createElement(_,j,$.createElement("div",j)))}}])}($.Component);mH.defaultProps={dragThroughEvents:!0,timeslots:2};var yH=function(e){var r=e.label;return $.createElement($.Fragment,null,r)},OEe=function(t){function e(){var r;ln(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Qn(this,e,[].concat(i)),r.handleHeaderClick=function(o,s,u){u.preventDefault(),vr(r.props.onDrillDown,[o,s])},r.renderRow=function(o){var s=r.props,u=s.events,l=s.rtl,c=s.selectable,f=s.getNow,h=s.range,v=s.getters,g=s.localizer,m=s.accessors,_=s.components,b=s.resizable,E=m.resourceId(o),A=o?u.filter(function(C){return m.resource(C)===E}):u;return $.createElement($v,{isAllDay:!0,rtl:l,getNow:f,minRows:2,maxRows:r.props.allDayMaxRows+1,range:h,events:A,resourceId:E,className:"rbc-allday-cell",selectable:c,selected:r.props.selected,components:_,accessors:m,getters:v,localizer:g,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:b})},r}return Zn(e,t),cn(e,[{key:"renderHeaderCells",value:function(n){var i=this,a=this.props,o=a.localizer,s=a.getDrilldownView,u=a.getNow,l=a.getters.dayProp,c=a.components.header,f=c===void 0?OR:c,h=u();return n.map(function(v,g){var m=s(v),_=o.format(v,"dayFormat"),b=l(v),E=b.className,A=b.style,C=$.createElement(f,{date:v,label:_,localizer:o});return $.createElement("div",{key:g,style:A,className:Rr("rbc-header",E,o.isSameDate(v,h)&&"rbc-today")},m?$.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(R){return i.handleHeaderClick(v,m,R)}},C):$.createElement("span",null,C))})}},{key:"render",value:function(){var n=this,i=this.props,a=i.width,o=i.rtl,s=i.resources,u=i.range,l=i.events,c=i.getNow,f=i.accessors,h=i.selectable,v=i.components,g=i.getters,m=i.scrollRef,_=i.localizer,b=i.isOverflowing,E=i.components,A=E.timeGutterHeader,C=E.resourceHeader,O=C===void 0?yH:C,R=i.resizable,I={};b&&(I[o?"marginLeft":"marginRight"]="".concat(xR()-1,"px"));var S=s.groupEvents(l);return $.createElement("div",{style:I,ref:m,className:Rr("rbc-time-header",b&&"rbc-overflowing")},$.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},A&&$.createElement(A,null)),s.map(function(T,D){var L=Ql(T,2),F=L[0],j=L[1];return $.createElement("div",{className:"rbc-time-header-content",key:F||D},j&&$.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(D)},$.createElement("div",{className:"rbc-header"},$.createElement(O,{index:D,label:f.resourceTitle(j),resource:j}))),$.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(u.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(u)),$.createElement($v,{isAllDay:!0,rtl:o,getNow:c,minRows:2,maxRows:n.props.allDayMaxRows+1,range:u,events:S.get(F)||[],resourceId:j&&F,className:"rbc-allday-cell",selectable:h,selected:n.props.selected,components:v,accessors:f,getters:g,localizer:_,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:R}))}))}}])}($.Component),TEe=function(t){function e(){var r;ln(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Qn(this,e,[].concat(i)),r.handleHeaderClick=function(o,s,u){u.preventDefault(),vr(r.props.onDrillDown,[o,s])},r}return Zn(e,t),cn(e,[{key:"renderHeaderCells",value:function(n){var i=this,a=this.props,o=a.localizer,s=a.getDrilldownView,u=a.getNow,l=a.getters.dayProp,c=a.components,f=c.header,h=f===void 0?OR:f,v=c.resourceHeader,g=v===void 0?yH:v,m=a.resources,_=a.accessors,b=a.events,E=a.rtl,A=a.selectable,C=a.components,O=a.getters,R=a.resizable,I=u(),S=m.groupEvents(b);return n.map(function(T,D){var L=s(T),F=o.format(T,"dayFormat"),j=l(T),K=j.className,ee=j.style,W=$.createElement(h,{date:T,label:F,localizer:o});return $.createElement("div",{key:D,className:"rbc-time-header-content rbc-resource-grouping"},$.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},$.createElement("div",{style:ee,className:Rr("rbc-header",K,o.isSameDate(T,I)&&"rbc-today")},L?$.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(X){return i.handleHeaderClick(T,L,X)}},W):$.createElement("span",null,W))),$.createElement("div",{className:"rbc-row"},m.map(function(te,X){var Q=Ql(te,2),se=Q[0],q=Q[1];return $.createElement("div",{key:"resource_".concat(se,"_").concat(X),className:Rr("rbc-header",K,o.isSameDate(T,I)&&"rbc-today")},$.createElement(g,{index:X,label:_.resourceTitle(q),resource:q}))})),$.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},m.map(function(te,X){var Q=Ql(te,2),se=Q[0],q=Q[1],Y=(S.get(se)||[]).filter(function(ae){return o.isSameDate(ae.start,T)||o.isSameDate(ae.end,T)});return $.createElement($v,{key:"resource_".concat(se,"_").concat(X),isAllDay:!0,rtl:E,getNow:u,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[T],events:Y,resourceId:q&&se,className:"rbc-allday-cell",selectable:A,selected:i.props.selected,components:C,accessors:_,getters:O,localizer:o,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:R})})))})}},{key:"render",value:function(){var n=this.props,i=n.width,a=n.rtl,o=n.range,s=n.scrollRef,u=n.isOverflowing,l=n.components.timeGutterHeader,c={};return u&&(c[a?"marginLeft":"marginRight"]="".concat(xR()-1,"px")),$.createElement("div",{style:c,ref:s,className:Rr("rbc-time-header",u&&"rbc-overflowing")},$.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},l&&$.createElement(l,null)),this.renderHeaderCells(o))}}])}($.Component);function CEe(t){var e=t.min,r=t.max,n=t.localizer;return n.getTimezoneOffset(e)!==n.getTimezoneOffset(r)?{start:n.add(e,-1,"day"),end:n.add(r,-1,"day")}:{start:e,end:r}}var IEe=function(e){var r=e.min,n=e.max,i=e.timeslots,a=e.step,o=e.localizer,s=e.getNow,u=e.resource,l=e.components,c=e.getters,f=e.gutterRef,h=l.timeGutterWrapper,v=z.useMemo(function(){return CEe({min:r,max:n,localizer:o})},[r?.toISOString(),n?.toISOString(),o]),g=v.start,m=v.end,_=z.useState(TR({min:g,max:m,timeslots:i,step:a,localizer:o})),b=Ql(_,2),E=b[0],A=b[1];z.useEffect(function(){E&&A(E.update({min:g,max:m,timeslots:i,step:a,localizer:o}))},[g?.toISOString(),m?.toISOString(),i,a]);var C=z.useCallback(function(O,R){if(R)return null;var I=E.dateIsInGroup(s(),R);return $.createElement("span",{className:Rr("rbc-label",I&&"rbc-now")},o.format(O,"timeGutterFormat"))},[E,o,s]);return $.createElement(h,{slotMetrics:E},$.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},E.groups.map(function(O,R){return $.createElement(gH,{key:R,group:O,resource:u,components:l,renderSlot:C,getters:c})})))},PEe=$.forwardRef(function(t,e){return $.createElement(IEe,Object.assign({gutterRef:e},t))}),lO={};function REe(t,e){return{map:function(n){return t?t.map(function(i,a){return n([e.resourceId(i),i],a)}):[n([lO,null],0)]},groupEvents:function(n){var i=new Map;return t?(n.forEach(function(a){var o=e.resource(a)||lO;if(Array.isArray(o))o.forEach(function(u){var l=i.get(u)||[];l.push(a),i.set(u,l)});else{var s=i.get(o)||[];s.push(a),i.set(o,s)}}),i):(i.set(lO,n),i)}}}var Ud=function(t){function e(r){var n;return ln(this,e),n=Qn(this,e,[r]),n.handleScroll=function(i){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=i.target.scrollLeft)},n.handleResize=function(){g9(n.rafHandle),n.rafHandle=WW(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];vr(n.props.onKeyPressEvent,a)},n.handleSelectEvent=function(){n.clearSelection();for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];vr(n.props.onSelectEvent,a)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];vr(n.props.onDoubleClickEvent,a)},n.handleShowMore=function(i,a,o,s,u){var l=n.props,c=l.popup,f=l.onDrillDown,h=l.onShowMore,v=l.getDrilldownView,g=l.doShowMoreDrillDown;if(n.clearSelection(),c){var m=zW(o,n.containerRef.current);n.setState({overlay:{date:a,events:i,position:Jt(Jt({},m),{},{width:"200px"}),target:u}})}else g&&vr(f,[a,v(a)||ci.DAY]);vr(h,[i,a,s])},n.handleSelectAllDaySlot=function(i,a){var o=n.props.onSelectSlot,s=new Date(i[0]),u=new Date(i[i.length-1]);u.setDate(i[i.length-1].getDate()+1),vr(o,{slots:i,start:s,end:u,action:a.action,resourceId:a.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var i=n.contentRef.current;if(i!=null&&i.scrollHeight){var a=i.scrollHeight>i.clientHeight;n.state.isOverflowing!==a&&(n._updatingOverflow=!0,n.setState({isOverflowing:a},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=tH(function(i,a){return REe(i,a)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=$.createRef(),n.contentRef=$.createRef(),n.containerRef=$.createRef(),n._scrollRatio=null,n.gutterRef=z.createRef(),n}return Zn(e,t),cn(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),g9(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,i,a,o,s,u,l,c,f,h){var v=this.props,g=v.min,m=v.max,_=(o.get(i)||[]).filter(function(E){return u.inRange(n,l.start(E),l.end(E),"day")}),b=(s.get(i)||[]).filter(function(E){return u.inRange(n,l.start(E),l.end(E),"day")});return $.createElement(mH,Object.assign({},this.props,{localizer:u,min:u.merge(n,g),max:u.merge(n,m),resource:a&&i,components:c,isNow:u.isSameDate(n,h),key:"".concat(i,"-").concat(n),date:n,events:_,backgroundEvents:b,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(n,i,a,o,s,u,l,c,f){var h=this;return i.map(function(v){var g=Ql(v,2),m=g[0],_=g[1];return n.map(function(b){return h.renderDayColumn(b,m,_,a,o,s,u,c,f,l)})})}},{key:"renderRangeFirst",value:function(n,i,a,o,s,u,l,c,f){var h=this;return n.map(function(v){return $.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:v},i.map(function(g){var m=Ql(g,2),_=m[0],b=m[1];return $.createElement("div",{style:{flex:1},key:u.resourceId(b)},h.renderDayColumn(v,_,b,a,o,s,u,c,f,l))}))})}},{key:"renderEvents",value:function(n,i,a,o){var s=this.props,u=s.accessors,l=s.localizer,c=s.resourceGroupingLayout,f=s.components,h=s.dayLayoutAlgorithm,v=this.memoizedResources(this.props.resources,u),g=v.groupEvents(i),m=v.groupEvents(a);return c?this.renderRangeFirst(n,v,g,m,l,u,o,f,h):this.renderResourcesFirst(n,v,g,m,l,u,o,f,h)}},{key:"render",value:function(){var n,i=this.props,a=i.events,o=i.backgroundEvents,s=i.range,u=i.width,l=i.rtl,c=i.selected,f=i.getNow,h=i.resources,v=i.components,g=i.accessors,m=i.getters,_=i.localizer,b=i.min,E=i.max,A=i.showMultiDayTimes,C=i.longPressThreshold,O=i.resizable,R=i.resourceGroupingLayout;u=u||this.state.gutterWidth;var I=s[0],S=s[s.length-1];this.slots=s.length;var T=[],D=[],L=[];a.forEach(function(j){if(Bv(j,I,S,g,_)){var K=g.start(j),ee=g.end(j);g.allDay(j)||_.startAndEndAreDateOnly(K,ee)||!A&&!_.isSameDate(K,ee)?T.push(j):D.push(j)}}),o.forEach(function(j){Bv(j,I,S,g,_)&&L.push(j)}),T.sort(function(j,K){return RC(j,K,g,_)});var F={range:s,events:T,width:u,rtl:l,getNow:f,localizer:_,selected:c,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(h,g),selectable:this.props.selectable,accessors:g,getters:m,components:v,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:C,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:O};return $.createElement("div",{className:Rr("rbc-time-view",h&&"rbc-time-view-resources"),ref:this.containerRef},h&&h.length>1&&R?$.createElement(TEe,F):$.createElement(OEe,F),this.props.popup&&this.renderOverlay(),$.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},$.createElement(PEe,{date:I,ref:this.gutterRef,localizer:_,min:_.merge(I,b),max:_.merge(I,E),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:v,className:"rbc-time-gutter",getters:m}),this.renderEvents(s,D,L,f())))}},{key:"renderOverlay",value:function(){var n,i,a=this,o=(n=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&n!==void 0?n:{},s=this.props,u=s.accessors,l=s.localizer,c=s.components,f=s.getters,h=s.selected,v=s.popupOffset,g=s.handleDragStart,m=function(){return a.setState({overlay:null})};return $.createElement(SR,{overlay:o,accessors:u,localizer:l,components:c,getters:f,selected:h,popupOffset:v,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:g,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:m})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,a=(i=n.gutterRef)!==null&&i!==void 0&&i.current?CC(n.gutterRef.current):void 0;a&&n.state.gutterWidth!==a&&n.setState({gutterWidth:a})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=n.min,a=n.max,o=n.scrollToTime,s=n.localizer,u=s.diff(s.merge(o,i),o,"milliseconds"),l=s.diff(i,a,"milliseconds");this._scrollRatio=u/l}}])}(z.Component);Ud.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var DEe=["date","localizer","min","max","scrollToTime","enableAutoScroll"],yw=function(t){function e(){return ln(this,e),Qn(this,e,arguments)}return Zn(e,t),cn(e,[{key:"render",value:function(){var n=this.props,i=n.date,a=n.localizer,o=n.min,s=o===void 0?a.startOf(new Date,"day"):o,u=n.max,l=u===void 0?a.endOf(new Date,"day"):u,c=n.scrollToTime,f=c===void 0?a.startOf(new Date,"day"):c,h=n.enableAutoScroll,v=h===void 0?!0:h,g=jo(n,DEe),m=e.range(i,{localizer:a});return $.createElement(Ud,Object.assign({},g,{range:m,eventOffset:10,localizer:a,min:s,max:l,scrollToTime:f,enableAutoScroll:v}))}}])}($.Component);yw.range=function(t,e){var r=e.localizer;return[r.startOf(t,"day")]};yw.navigate=function(t,e,r){var n=r.localizer;switch(e){case Ri.PREVIOUS:return n.add(t,-1,"day");case Ri.NEXT:return n.add(t,1,"day");default:return t}};yw.title=function(t,e){var r=e.localizer;return r.format(t,"dayHeaderFormat")};var NEe=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Ou=function(t){function e(){return ln(this,e),Qn(this,e,arguments)}return Zn(e,t),cn(e,[{key:"render",value:function(){var n=this.props,i=n.date,a=n.localizer,o=n.min,s=o===void 0?a.startOf(new Date,"day"):o,u=n.max,l=u===void 0?a.endOf(new Date,"day"):u,c=n.scrollToTime,f=c===void 0?a.startOf(new Date,"day"):c,h=n.enableAutoScroll,v=h===void 0?!0:h,g=jo(n,NEe),m=e.range(i,this.props);return $.createElement(Ud,Object.assign({},g,{range:m,eventOffset:15,localizer:a,min:s,max:l,scrollToTime:f,enableAutoScroll:v}))}}])}($.Component);Ou.defaultProps=Ud.defaultProps;Ou.navigate=function(t,e,r){var n=r.localizer;switch(e){case Ri.PREVIOUS:return n.add(t,-1,"week");case Ri.NEXT:return n.add(t,1,"week");default:return t}};Ou.range=function(t,e){var r=e.localizer,n=r.startOfWeek(),i=r.startOf(t,"week",n),a=r.endOf(t,"week",n);return r.range(i,a)};Ou.title=function(t,e){var r=e.localizer,n=Ou.range(t,{localizer:r}),i=rH(n),a=i[0],o=i.slice(1);return r.format({start:a,end:o.pop()},"dayRangeHeaderFormat")};var kEe=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function CR(t,e){return Ou.range(t,e).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var g0=function(t){function e(){return ln(this,e),Qn(this,e,arguments)}return Zn(e,t),cn(e,[{key:"render",value:function(){var n=this.props,i=n.date,a=n.localizer,o=n.min,s=o===void 0?a.startOf(new Date,"day"):o,u=n.max,l=u===void 0?a.endOf(new Date,"day"):u,c=n.scrollToTime,f=c===void 0?a.startOf(new Date,"day"):c,h=n.enableAutoScroll,v=h===void 0?!0:h,g=jo(n,kEe),m=CR(i,this.props);return $.createElement(Ud,Object.assign({},g,{range:m,eventOffset:15,localizer:a,min:s,max:l,scrollToTime:f,enableAutoScroll:v}))}}])}($.Component);g0.defaultProps=Ud.defaultProps;g0.range=CR;g0.navigate=Ou.navigate;g0.title=function(t,e){var r=e.localizer,n=CR(t,{localizer:r}),i=rH(n),a=i[0],o=i.slice(1);return r.format({start:a,end:o.pop()},"dayRangeHeaderFormat")};var _w=30;function ww(t){var e=t.accessors,r=t.components,n=t.date,i=t.events,a=t.getters,o=t.length,s=o===void 0?_w:o,u=t.localizer,l=t.onDoubleClickEvent,c=t.onSelectEvent,f=t.selected,h=z.useRef(null),v=z.useRef(null),g=z.useRef(null),m=z.useRef(null),_=z.useRef(null);z.useEffect(function(){A()});var b=function(S,T,D){var L=r.event,F=r.date;return T=T.filter(function(j){return Bv(j,u.startOf(S,"day"),u.endOf(S,"day"),e,u)}),T.map(function(j,K){var ee=e.title(j),W=e.end(j),te=e.start(j),X=a.eventProp(j,te,W,gw(j,f)),Q=K===0&&u.format(S,"agendaDateFormat"),se=K===0?$.createElement("td",{rowSpan:T.length,className:"rbc-agenda-date-cell"},F?$.createElement(F,{day:S,label:Q}):Q):!1;return $.createElement("tr",{key:D+"_"+K,className:X.className,style:X.style},se,$.createElement("td",{className:"rbc-agenda-time-cell"},E(S,j)),$.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(Y){return c&&c(j,Y)},onDoubleClick:function(Y){return l&&l(j,Y)}},L?$.createElement(L,{event:j,title:ee}):ee))},[])},E=function(S,T){var D="",L=r.time,F=u.messages.allDay,j=e.end(T),K=e.start(T);return e.allDay(T)||(u.eq(K,j)?F=u.format(K,"agendaTimeFormat"):u.isSameDate(K,j)?F=u.format({start:K,end:j},"agendaTimeRangeFormat"):u.isSameDate(S,K)?F=u.format(K,"agendaTimeFormat"):u.isSameDate(S,j)&&(F=u.format(j,"agendaTimeFormat"))),u.gt(S,K,"day")&&(D="rbc-continues-prior"),u.lt(S,j,"day")&&(D+=" rbc-continues-after"),$.createElement("span",{className:D.trim()},L?$.createElement(L,{event:T,day:S,label:F}):F)},A=function(){if(_.current){var S=h.current,T=_.current.firstChild;if(T){var D=m.current.scrollHeight>m.current.clientHeight,L=[],F=L;L=[CC(T.children[0]),CC(T.children[1])],(F[0]!==L[0]||F[1]!==L[1])&&(v.current.style.width=L[0]+"px",g.current.style.width=L[1]+"px"),D?(kve(S,"rbc-header-overflowing"),S.style.marginRight=xR()+"px"):Mve(S,"rbc-header-overflowing")}}},C=u.messages,O=u.add(n,s,"day"),R=u.range(n,O,"day");return i=i.filter(function(I){return Bv(I,u.startOf(n,"day"),u.endOf(O,"day"),e,u)}),i.sort(function(I,S){return+e.start(I)-+e.start(S)}),$.createElement("div",{className:"rbc-agenda-view"},i.length!==0?$.createElement($.Fragment,null,$.createElement("table",{ref:h,className:"rbc-agenda-table"},$.createElement("thead",null,$.createElement("tr",null,$.createElement("th",{className:"rbc-header",ref:v},C.date),$.createElement("th",{className:"rbc-header",ref:g},C.time),$.createElement("th",{className:"rbc-header"},C.event)))),$.createElement("div",{className:"rbc-agenda-content",ref:m},$.createElement("table",{className:"rbc-agenda-table"},$.createElement("tbody",{ref:_},R.map(function(I,S){return b(I,i,S)}))))):$.createElement("span",{className:"rbc-agenda-empty"},C.noEventsInRange))}ww.range=function(t,e){var r=e.length,n=r===void 0?_w:r,i=e.localizer,a=i.add(t,n,"day");return{start:t,end:a}};ww.navigate=function(t,e,r){var n=r.length,i=n===void 0?_w:n,a=r.localizer;switch(e){case Ri.PREVIOUS:return a.add(t,-i,"day");case Ri.NEXT:return a.add(t,i,"day");default:return t}};ww.title=function(t,e){var r=e.length,n=r===void 0?_w:r,i=e.localizer,a=i.add(t,n,"day");return i.format({start:t,end:a},"agendaHeaderFormat")};var my=bl(bl(bl(bl(bl({},ci.MONTH,mw),ci.WEEK,Ou),ci.WORK_WEEK,g0),ci.DAY,yw),ci.AGENDA,ww),MEe=["action","date","today"];function LEe(t,e){var r=e.action,n=e.date,i=e.today,a=jo(e,MEe);switch(t=typeof t=="string"?my[t]:t,r){case Ri.TODAY:n=i||new Date;break;case Ri.DATE:break;default:Tv(t&&typeof t.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=t.navigate(n,r,a)}return n}function jEe(t,e){var r=null;return typeof e=="function"?r=e(t):typeof e=="string"&&ro(t)==="object"&&t!=null&&e in t&&(r=t[e]),r}var ts=function(e){return function(r){return jEe(r,e)}},FEe=["view","date","getNow","onNavigate"],BEe=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function _H(t){if(Array.isArray(t))return t;for(var e=[],r=0,n=Object.entries(t);r<n.length;r++){var i=Ql(n[r],2),a=i[0],o=i[1];o&&e.push(a)}return e}function $Ee(t,e){var r=e.views,n=_H(r);return n.indexOf(t)!==-1}var wH=function(t){function e(){var r;ln(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Qn(this,e,[].concat(i)),r.getViews=function(){var o=r.props.views;return Array.isArray(o)?ube(o,function(s,u){return s[u]=my[u]},{}):ro(o)==="object"?Iz(o,function(s,u){return s===!0?my[u]:s}):my},r.getView=function(){var o=r.getViews();return o[r.props.view]},r.getDrilldownView=function(o){var s=r.props,u=s.view,l=s.drilldownView,c=s.getDrilldownView;return c?c(o,u,Object.keys(r.getViews())):l},r.handleRangeChange=function(o,s,u){var l=r.props,c=l.onRangeChange,f=l.localizer;c&&s.range&&c(s.range(o,{localizer:f}),u)},r.handleNavigate=function(o,s){var u=r.props,l=u.view,c=u.date,f=u.getNow,h=u.onNavigate,v=jo(u,FEe),g=r.getView(),m=f();c=LEe(g,Jt(Jt({},v),{},{action:o,date:s||c||m,today:m})),h(c,l,o),r.handleRangeChange(c,g)},r.handleViewChange=function(o){o!==r.props.view&&$Ee(o,r.props)&&r.props.onView(o);var s=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),s[o],o)},r.handleSelectEvent=function(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];vr(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];vr(r.props.onDoubleClickEvent,s)},r.handleKeyPressEvent=function(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];vr(r.props.onKeyPressEvent,s)},r.handleSelectSlot=function(o){vr(r.props.onSelectSlot,o)},r.handleDrillDown=function(o,s){var u=r.props.onDrillDown;if(u){u(o,s,r.drilldownView);return}s&&r.handleViewChange(s),r.handleNavigate(Ri.DATE,o)},r.state={context:e.getContext(r.props)},r}return Zn(e,t),cn(e,[{key:"render",value:function(){var n=this.props,i=n.view,a=n.toolbar,o=n.events,s=n.backgroundEvents,u=n.resourceGroupingLayout,l=n.style,c=n.className,f=n.elementProps,h=n.date,v=n.getNow,g=n.length,m=n.showMultiDayTimes,_=n.onShowMore,b=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var E=jo(n,BEe);h=h||v();var A=this.getView(),C=this.state.context,O=C.accessors,R=C.components,I=C.getters,S=C.localizer,T=C.viewNames,D=R.toolbar||qbe,L=A.title(h,{localizer:S,length:g});return $.createElement("div",Object.assign({},f,{className:Rr(c,"rbc-calendar",E.rtl&&"rbc-rtl"),style:l}),a&&$.createElement(D,{date:h,view:i,views:T,label:L,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:S}),$.createElement(A,Object.assign({},E,{events:o,backgroundEvents:s,date:h,getNow:v,length:g,localizer:S,getters:I,components:R,accessors:O,showMultiDayTimes:m,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:_,doShowMoreDrillDown:b,resourceGroupingLayout:u})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:e.getContext(n)}}},{key:"getContext",value:function(n){var i=n.startAccessor,a=n.endAccessor,o=n.allDayAccessor,s=n.tooltipAccessor,u=n.titleAccessor,l=n.resourceAccessor,c=n.resourceIdAccessor,f=n.resourceTitleAccessor,h=n.eventIdAccessor,v=n.eventPropGetter,g=n.backgroundEventPropGetter,m=n.slotPropGetter,_=n.slotGroupPropGetter,b=n.dayPropGetter,E=n.view,A=n.views,C=n.localizer,O=n.culture,R=n.messages,I=R===void 0?{}:R,S=n.components,T=S===void 0?{}:S,D=n.formats,L=D===void 0?{}:D,F=_H(A),j=Wbe(I);return{viewNames:F,localizer:Vbe(C,O,L,j),getters:{eventProp:function(){return v&&v.apply(void 0,arguments)||{}},backgroundEventProp:function(){return g&&g.apply(void 0,arguments)||{}},slotProp:function(){return m&&m.apply(void 0,arguments)||{}},slotGroupProp:function(){return _&&_.apply(void 0,arguments)||{}},dayProp:function(){return b&&b.apply(void 0,arguments)||{}}},components:abe(T[E]||{},$_e(T,F),{eventWrapper:_o,backgroundEventWrapper:_o,eventContainerWrapper:_o,dateCellWrapper:_o,weekWrapper:_o,timeSlotWrapper:_o,timeGutterWrapper:_o,timeIndicatorWrapper:_o}),accessors:{start:ts(i),end:ts(a),allDay:ts(o),tooltip:ts(s),title:ts(u),resource:ts(l),resourceId:ts(c),resourceTitle:ts(f),eventId:ts(h)}}}}])}($.Component);wH.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:ci.MONTH,views:[ci.MONTH,ci.WEEK,ci.DAY,ci.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:ci.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var UEe=DW(wH,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),VEe=function(e,r,n){var i=e.start,a=e.end;return"".concat(n.format(i,"P",r),"  ").concat(n.format(a,"P",r))},cO=function(e,r,n){var i=e.start,a=e.end;return"".concat(n.format(i,"p",r),"  ").concat(n.format(a,"p",r))},qEe=function(e,r,n){var i=e.start;return"".concat(n.format(i,"h:mma",r),"  ")},zEe=function(e,r,n){var i=e.end;return"  ".concat(n.format(i,"h:mma",r))},WEe=function(e,r,n){var i=e.start,a=e.end;return"".concat(n.format(i,"MMMM dd",r),"  ").concat(n.format(a,Fd(i,a,"month")?"dd":"MMMM dd",r))},HEe={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:cO,eventTimeRangeFormat:cO,eventTimeRangeStartFormat:qEe,eventTimeRangeEndFormat:zEe,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:WEe,agendaHeaderFormat:VEe,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:cO},GEe=function(e){var r=e.startOfWeek,n=e.getDay,i=e.format,a=e.locales;return new Ube({formats:HEe,firstOfWeek:function(s){return n(r(new Date,{locale:a[s]}))},format:function(s,u,l){return i(new Date(s),u,{locale:a[l]})}})};function Tu(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ln(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Oa(t){Ln(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||ro(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function KEe(t,e){Ln(2,arguments);var r=Oa(t).getTime(),n=Tu(e);return new Date(r+n)}var XEe={};function m0(){return XEe}function YEe(t,e){var r,n,i,a,o,s,u,l;Ln(1,arguments);var c=m0(),f=Tu((r=(n=(i=(a=e?.weekStartsOn)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&n!==void 0?n:(u=c.locale)===null||u===void 0||(l=u.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Oa(t),v=h.getDay(),g=(v<f?7:0)+v-f;return h.setDate(h.getDate()-g),h.setHours(0,0,0,0),h}function QEe(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function ZEe(t){return Ln(1,arguments),t instanceof Date||ro(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function JEe(t){if(Ln(1,arguments),!ZEe(t)&&typeof t!="number")return!1;var e=Oa(t);return!isNaN(Number(e))}function e2e(t,e){Ln(2,arguments);var r=Tu(e);return KEe(t,-r)}var t2e=864e5;function r2e(t){Ln(1,arguments);var e=Oa(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),i=r-n;return Math.floor(i/t2e)+1}function z1(t){Ln(1,arguments);var e=1,r=Oa(t),n=r.getUTCDay(),i=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r}function xH(t){Ln(1,arguments);var e=Oa(t),r=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=z1(n),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var o=z1(a);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function n2e(t){Ln(1,arguments);var e=xH(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var n=z1(r);return n}var i2e=6048e5;function a2e(t){Ln(1,arguments);var e=Oa(t),r=z1(e).getTime()-n2e(e).getTime();return Math.round(r/i2e)+1}function W1(t,e){var r,n,i,a,o,s,u,l;Ln(1,arguments);var c=m0(),f=Tu((r=(n=(i=(a=e?.weekStartsOn)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&n!==void 0?n:(u=c.locale)===null||u===void 0||(l=u.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Oa(t),v=h.getUTCDay(),g=(v<f?7:0)+v-f;return h.setUTCDate(h.getUTCDate()-g),h.setUTCHours(0,0,0,0),h}function bH(t,e){var r,n,i,a,o,s,u,l;Ln(1,arguments);var c=Oa(t),f=c.getUTCFullYear(),h=m0(),v=Tu((r=(n=(i=(a=e?.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&n!==void 0?n:(u=h.locale)===null||u===void 0||(l=u.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(f+1,0,v),g.setUTCHours(0,0,0,0);var m=W1(g,e),_=new Date(0);_.setUTCFullYear(f,0,v),_.setUTCHours(0,0,0,0);var b=W1(_,e);return c.getTime()>=m.getTime()?f+1:c.getTime()>=b.getTime()?f:f-1}function o2e(t,e){var r,n,i,a,o,s,u,l;Ln(1,arguments);var c=m0(),f=Tu((r=(n=(i=(a=e?.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&n!==void 0?n:(u=c.locale)===null||u===void 0||(l=u.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=bH(t,e),v=new Date(0);v.setUTCFullYear(h,0,f),v.setUTCHours(0,0,0,0);var g=W1(v,e);return g}var s2e=6048e5;function u2e(t,e){Ln(1,arguments);var r=Oa(t),n=W1(r,e).getTime()-o2e(r,e).getTime();return Math.round(n/s2e)+1}function Gt(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}var Zs={y:function(e,r){var n=e.getUTCFullYear(),i=n>0?n:1-n;return Gt(r==="yy"?i%100:i,r.length)},M:function(e,r){var n=e.getUTCMonth();return r==="M"?String(n+1):Gt(n+1,2)},d:function(e,r){return Gt(e.getUTCDate(),r.length)},a:function(e,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,r){return Gt(e.getUTCHours()%12||12,r.length)},H:function(e,r){return Gt(e.getUTCHours(),r.length)},m:function(e,r){return Gt(e.getUTCMinutes(),r.length)},s:function(e,r){return Gt(e.getUTCSeconds(),r.length)},S:function(e,r){var n=r.length,i=e.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,n-3));return Gt(a,r.length)}},of={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},l2e={G:function(e,r,n){var i=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){var i=e.getUTCFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return Zs.y(e,r)},Y:function(e,r,n,i){var a=bH(e,i),o=a>0?a:1-a;if(r==="YY"){var s=o%100;return Gt(s,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):Gt(o,r.length)},R:function(e,r){var n=xH(e);return Gt(n,r.length)},u:function(e,r){var n=e.getUTCFullYear();return Gt(n,r.length)},Q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(i);case"QQ":return Gt(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(i);case"qq":return Gt(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,r,n){var i=e.getUTCMonth();switch(r){case"M":case"MM":return Zs.M(e,r);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,r,n){var i=e.getUTCMonth();switch(r){case"L":return String(i+1);case"LL":return Gt(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,r,n,i){var a=u2e(e,i);return r==="wo"?n.ordinalNumber(a,{unit:"week"}):Gt(a,r.length)},I:function(e,r,n){var i=a2e(e);return r==="Io"?n.ordinalNumber(i,{unit:"week"}):Gt(i,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Zs.d(e,r)},D:function(e,r,n){var i=r2e(e);return r==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Gt(i,r.length)},E:function(e,r,n){var i=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,r,n,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return Gt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,r,n,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return Gt(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,r,n){var i=e.getUTCDay(),a=i===0?7:i;switch(r){case"i":return String(a);case"ii":return Gt(a,r.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,r,n){var i=e.getUTCHours(),a=i/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,r,n){var i=e.getUTCHours(),a;switch(i===12?a=of.noon:i===0?a=of.midnight:a=i/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,r,n){var i=e.getUTCHours(),a;switch(i>=17?a=of.evening:i>=12?a=of.afternoon:i>=4?a=of.morning:a=of.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Zs.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Zs.H(e,r)},K:function(e,r,n){var i=e.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Gt(i,r.length)},k:function(e,r,n){var i=e.getUTCHours();return i===0&&(i=24),r==="ko"?n.ordinalNumber(i,{unit:"hour"}):Gt(i,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Zs.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Zs.s(e,r)},S:function(e,r){return Zs.S(e,r)},X:function(e,r,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return eF(o);case"XXXX":case"XX":return _l(o);case"XXXXX":case"XXX":default:return _l(o,":")}},x:function(e,r,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(r){case"x":return eF(o);case"xxxx":case"xx":return _l(o);case"xxxxx":case"xxx":default:return _l(o,":")}},O:function(e,r,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+J9(o,":");case"OOOO":default:return"GMT"+_l(o,":")}},z:function(e,r,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+J9(o,":");case"zzzz":default:return"GMT"+_l(o,":")}},t:function(e,r,n,i){var a=i._originalDate||e,o=Math.floor(a.getTime()/1e3);return Gt(o,r.length)},T:function(e,r,n,i){var a=i._originalDate||e,o=a.getTime();return Gt(o,r.length)}};function J9(t,e){var r=t>0?"-":"+",n=Math.abs(t),i=Math.floor(n/60),a=n%60;if(a===0)return r+String(i);var o=e;return r+String(i)+o+Gt(a,2)}function eF(t,e){if(t%60===0){var r=t>0?"-":"+";return r+Gt(Math.abs(t)/60,2)}return _l(t,e)}function _l(t,e){var r=e||"",n=t>0?"-":"+",i=Math.abs(t),a=Gt(Math.floor(i/60),2),o=Gt(i%60,2);return n+a+r+o}var tF=function(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},EH=function(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},c2e=function(e,r){var n=e.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return tF(e,r);var o;switch(i){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",tF(i,r)).replace("{{time}}",EH(a,r))},f2e={p:EH,P:c2e},d2e=["D","DD"],h2e=["YY","YYYY"];function p2e(t){return d2e.indexOf(t)!==-1}function v2e(t){return h2e.indexOf(t)!==-1}function rF(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var g2e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},m2e=function(e,r,n){var i,a=g2e[e];return typeof a=="string"?i=a:r===1?i=a.one:i=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function fO(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}var y2e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_2e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},w2e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},x2e={date:fO({formats:y2e,defaultWidth:"full"}),time:fO({formats:_2e,defaultWidth:"full"}),dateTime:fO({formats:w2e,defaultWidth:"full"})},b2e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},E2e=function(e,r,n,i){return b2e[e]};function Vh(t){return function(e,r){var n=r!=null&&r.context?String(r.context):"standalone",i;if(n==="formatting"&&t.formattingValues){var a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{var s=t.defaultWidth,u=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[u]||t.values[s]}var l=t.argumentCallback?t.argumentCallback(e):e;return i[l]}}var A2e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},S2e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},O2e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},T2e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},C2e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},I2e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},P2e=function(e,r){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},R2e={ordinalNumber:P2e,era:Vh({values:A2e,defaultWidth:"wide"}),quarter:Vh({values:S2e,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Vh({values:O2e,defaultWidth:"wide"}),day:Vh({values:T2e,defaultWidth:"wide"}),dayPeriod:Vh({values:C2e,defaultWidth:"wide",formattingValues:I2e,defaultFormattingWidth:"wide"})};function qh(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;var o=a[0],s=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(s)?N2e(s,function(f){return f.test(o)}):D2e(s,function(f){return f.test(o)}),l;l=t.valueCallback?t.valueCallback(u):u,l=r.valueCallback?r.valueCallback(l):l;var c=e.slice(o.length);return{value:l,rest:c}}}function D2e(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function N2e(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}function k2e(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var i=n[0],a=e.match(t.parsePattern);if(!a)return null;var o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;var s=e.slice(i.length);return{value:o,rest:s}}}var M2e=/^(\d+)(th|st|nd|rd)?/i,L2e=/\d+/i,j2e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},F2e={any:[/^b/i,/^(a|c)/i]},B2e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$2e={any:[/1/i,/2/i,/3/i,/4/i]},U2e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},V2e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},q2e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},z2e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},W2e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},H2e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},G2e={ordinalNumber:k2e({matchPattern:M2e,parsePattern:L2e,valueCallback:function(e){return parseInt(e,10)}}),era:qh({matchPatterns:j2e,defaultMatchWidth:"wide",parsePatterns:F2e,defaultParseWidth:"any"}),quarter:qh({matchPatterns:B2e,defaultMatchWidth:"wide",parsePatterns:$2e,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:qh({matchPatterns:U2e,defaultMatchWidth:"wide",parsePatterns:V2e,defaultParseWidth:"any"}),day:qh({matchPatterns:q2e,defaultMatchWidth:"wide",parsePatterns:z2e,defaultParseWidth:"any"}),dayPeriod:qh({matchPatterns:W2e,defaultMatchWidth:"any",parsePatterns:H2e,defaultParseWidth:"any"})},AH={code:"en-US",formatDistance:m2e,formatLong:x2e,formatRelative:E2e,localize:R2e,match:G2e,options:{weekStartsOn:0,firstWeekContainsDate:1}},K2e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,X2e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Y2e=/^'([^]*?)'?$/,Q2e=/''/g,Z2e=/[a-zA-Z]/;function J2e(t,e,r){var n,i,a,o,s,u,l,c,f,h,v,g,m,_,b,E,A,C;Ln(2,arguments);var O=String(e),R=m0(),I=(n=(i=r?.locale)!==null&&i!==void 0?i:R.locale)!==null&&n!==void 0?n:AH,S=Tu((a=(o=(s=(u=r?.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(l=r.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&s!==void 0?s:R.firstWeekContainsDate)!==null&&o!==void 0?o:(f=R.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=Tu((v=(g=(m=(_=r?.weekStartsOn)!==null&&_!==void 0?_:r==null||(b=r.locale)===null||b===void 0||(E=b.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&m!==void 0?m:R.weekStartsOn)!==null&&g!==void 0?g:(A=R.locale)===null||A===void 0||(C=A.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&v!==void 0?v:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!I.localize)throw new RangeError("locale must contain localize property");if(!I.formatLong)throw new RangeError("locale must contain formatLong property");var D=Oa(t);if(!JEe(D))throw new RangeError("Invalid time value");var L=QEe(D),F=e2e(D,L),j={firstWeekContainsDate:S,weekStartsOn:T,locale:I,_originalDate:D},K=O.match(X2e).map(function(ee){var W=ee[0];if(W==="p"||W==="P"){var te=f2e[W];return te(ee,I.formatLong)}return ee}).join("").match(K2e).map(function(ee){if(ee==="''")return"'";var W=ee[0];if(W==="'")return eAe(ee);var te=l2e[W];if(te)return!(r!=null&&r.useAdditionalWeekYearTokens)&&v2e(ee)&&rF(ee,e,String(t)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&p2e(ee)&&rF(ee,e,String(t)),te(F,ee,I.localize,j);if(W.match(Z2e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+W+"`");return ee}).join("");return K}function eAe(t){var e=t.match(Y2e);return e?e[1].replace(Q2e,"'"):t}function tAe(t){Ln(1,arguments);var e=Oa(t),r=e.getDay();return r}const rAe={"en-US":AH},nAe=GEe({format:J2e,startOfWeek:()=>YEe(new Date,{weekStartsOn:0}),getDay:tAe,locales:rAe}),iAe=({grows:t=[],tasks:e=[]})=>{const[r,n]=z.useState(!0),[i,a]=z.useState(!0),o=z.useMemo(()=>{const u=t.filter(c=>c.stageDates).flatMap(c=>Object.entries(c.stageDates).filter(([f,h])=>h&&!isNaN(new Date(h))).map(([f,h])=>({title:`${c.strain} - ${f}`,start:new Date(h),end:new Date(h),allDay:!0,type:"grow"}))),l=e.filter(c=>c.dueDate&&!isNaN(new Date(c.dueDate))).map(c=>({title:c.task,start:new Date(c.dueDate),end:new Date(c.dueDate),allDay:!0,type:"task"}));return[...r?u:[],...i?l:[]]},[t,e,r,i]),s=u=>({style:{backgroundColor:u.type==="task"?"#3b82f6":"#22c55e",color:"white",borderRadius:"6px",border:"none",padding:"4px 6px"}});return k.jsxs("div",{className:"p-6 md:p-8 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-white rounded-2xl shadow space-y-6 max-w-6xl mx-auto",children:[k.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[k.jsx(pne,{className:"w-6 h-6"}),"Calendar View"]}),k.jsxs("div",{className:"flex gap-4 mb-4",children:[k.jsxs("label",{className:"flex items-center gap-2",children:[k.jsx("input",{type:"checkbox",checked:r,onChange:()=>n(!r),className:"accent-green-500"}),"Show Grows"]}),k.jsxs("label",{className:"flex items-center gap-2",children:[k.jsx("input",{type:"checkbox",checked:i,onChange:()=>a(!i),className:"accent-blue-500"}),"Show Tasks"]})]}),k.jsx("div",{className:"h-[600px] bg-white dark:bg-zinc-800 rounded shadow-inner",children:k.jsx(UEe,{localizer:nAe,events:o,defaultView:"month",views:["month","week","day"],startAccessor:"start",endAccessor:"end",style:{height:"100%"},eventPropGetter:s})})]})},aAe=()=>{const[t]=QI(ut),[e,r]=z.useState("default"),[n,i]=z.useState("medium"),[a,o]=z.useState(!1),[s,u]=z.useState(!1);z.useEffect(()=>{(async()=>{if(!t)return;const h=er(Ke,"users",t.uid,"settings","preferences"),v=await Vp(h);if(v.exists()){const g=v.data();r(g.theme||"default"),i(g.fontSize||"medium"),o(g.dyslexicFont||!1),u(g.reduceMotion||!1)}})()},[t]);const l=async()=>{if(!t)return;const f=er(Ke,"users",t.uid,"settings","preferences");await QO(f,{theme:e,fontSize:n,dyslexicFont:a,reduceMotion:s}),alert("Settings saved. Reload to apply.")},c=async()=>{if(!t||!window.confirm("Are you sure you want to clear all your data?"))return;const h=["grows","recipes","supplies","tasks"];for(const v of h){const g=er(Ke,"users",t.uid,"settings","trash");await QO(g,{[v]:Xte()},{merge:!0})}alert("Data deleted (soft). You can restore from trash or export first.")};return k.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-xl shadow space-y-4",children:[k.jsx("h2",{className:"text-xl font-semibold dark:text-white",children:"Settings"}),k.jsxs("div",{className:"space-y-2",children:[k.jsx("label",{className:"block text-sm dark:text-white",children:"Theme"}),k.jsxs("select",{value:e,onChange:f=>r(f.target.value),className:"w-full p-2 border rounded dark:bg-gray-700 dark:text-white",children:[k.jsx("option",{value:"default",children:"Default"}),k.jsx("option",{value:"high-contrast",children:"High Contrast"}),k.jsx("option",{value:"pastel",children:"Pastel"})]})]}),k.jsxs("div",{className:"space-y-2",children:[k.jsx("label",{className:"block text-sm dark:text-white",children:"Font Size"}),k.jsxs("select",{value:n,onChange:f=>i(f.target.value),className:"w-full p-2 border rounded dark:bg-gray-700 dark:text-white",children:[k.jsx("option",{value:"small",children:"Small"}),k.jsx("option",{value:"medium",children:"Medium"}),k.jsx("option",{value:"large",children:"Large"})]})]}),k.jsxs("div",{className:"space-y-2",children:[k.jsxs("label",{className:"flex items-center gap-2 text-sm dark:text-white",children:[k.jsx("input",{type:"checkbox",checked:a,onChange:f=>o(f.target.checked)}),"Dyslexia-friendly font"]}),k.jsxs("label",{className:"flex items-center gap-2 text-sm dark:text-white",children:[k.jsx("input",{type:"checkbox",checked:s,onChange:f=>u(f.target.checked)}),"Reduce motion/animations"]})]}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx("button",{onClick:l,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save Settings"}),k.jsx("button",{onClick:c,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Clear All Data"})]})]})};function oAe({selectedGrowId:t}){const[e,r]=z.useState([]),[n,i]=z.useState({title:"",due:"",growId:"",repeatInterval:"",repeatUnit:"days"}),[a,o]=z.useState(null),[s,u]=z.useState("all"),[l,c]=z.useState("");z.useEffect(()=>{f()},[t]);const f=async()=>{const A=ut.currentUser;if(!A)return;const C=Qt(Ke,"users",A.uid,"tasks"),I=(await Ci(C)).docs.map(S=>({id:S.id,...S.data()})).sort((S,T)=>(S.due||"").localeCompare(T.due||""));r(I)},h=async A=>{A.preventDefault();const C=ut.currentUser;if(!C||!n.title.trim())return;const O={...n,createdAt:Ar.now(),completed:!1};n.repeatInterval||(delete O.repeatInterval,delete O.repeatUnit),a?await Zi(er(Ke,"users",C.uid,"tasks",a),O):await Ji(Qt(Ke,"users",C.uid,"tasks"),O),i({title:"",due:"",growId:t||"",repeatInterval:"",repeatUnit:"days"}),o(null),f()},v=A=>{i({title:A.title,due:A.due||"",growId:A.growId||"",repeatInterval:A.repeatInterval||"",repeatUnit:A.repeatUnit||"days"}),o(A.id)},g=async A=>{const C=ut.currentUser;C&&(await t0(er(Ke,"users",C.uid,"tasks",A)),f())},m=async A=>{if(!A.repeatInterval||!A.repeatUnit||!A.due)return;const C=new Date(A.due);switch(A.repeatUnit){case"days":C.setDate(C.getDate()+parseInt(A.repeatInterval));break;case"weeks":C.setDate(C.getDate()+7*parseInt(A.repeatInterval));break;case"months":C.setMonth(C.getMonth()+parseInt(A.repeatInterval));break;case"years":C.setFullYear(C.getFullYear()+parseInt(A.repeatInterval));break;default:return}const O=ut.currentUser;if(!O)return;const R={title:A.title,growId:A.growId||"",due:C.toISOString().substring(0,10),repeatInterval:A.repeatInterval,repeatUnit:A.repeatUnit,createdAt:Ar.now(),completed:!1};await Ji(Qt(Ke,"users",O.uid,"tasks"),R)},_=async A=>{const C=ut.currentUser;C&&(await Zi(er(Ke,"users",C.uid,"tasks",A.id),{completed:!A.completed}),!A.completed&&A.repeatInterval&&await m(A),f())},b=e.filter(A=>s==="all"?!0:s==="complete"?A.completed:!A.completed).filter(A=>l?A.title.toLowerCase().includes(l.toLowerCase()):!0).filter(A=>t?A.growId===t:!0),E=A=>{if(!A)return!1;const C=new Date,R=(new Date(A)-C)/(1e3*60*60*24);return R>=0&&R<=1};return k.jsxs("div",{className:"p-6 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-white max-w-4xl mx-auto rounded-2xl shadow space-y-6",children:[k.jsx("h2",{className:"text-2xl font-bold",children:" Task Reminders"}),k.jsxs("form",{onSubmit:h,className:"space-y-3 sm:grid sm:grid-cols-3 sm:gap-4",children:[k.jsx("input",{type:"text",placeholder:"Task title",value:n.title,onChange:A=>i({...n,title:A.target.value}),className:"w-full border p-2 rounded bg-white dark:bg-zinc-800 text-sm"}),k.jsx("input",{type:"date",value:n.due,onChange:A=>i({...n,due:A.target.value}),className:"w-full border p-2 rounded bg-white dark:bg-zinc-800 text-sm"}),k.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded w-full sm:w-auto",children:a?" Update Task":" Add Task"}),k.jsxs("div",{className:"col-span-3 flex flex-wrap gap-2 items-center text-sm",children:[k.jsxs("label",{className:"flex items-center gap-1",children:["Repeat every",k.jsx("input",{type:"number",min:"1",value:n.repeatInterval,onChange:A=>i({...n,repeatInterval:A.target.value}),className:"w-16 px-2 py-1 border rounded bg-white dark:bg-zinc-800"})]}),k.jsxs("select",{value:n.repeatUnit,onChange:A=>i({...n,repeatUnit:A.target.value}),className:"px-2 py-1 border rounded bg-white dark:bg-zinc-800",children:[k.jsx("option",{value:"days",children:"Days"}),k.jsx("option",{value:"weeks",children:"Weeks"}),k.jsx("option",{value:"months",children:"Months"}),k.jsx("option",{value:"years",children:"Years"})]})]})]}),k.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[k.jsx("input",{type:"text",placeholder:"Search tasks",value:l,onChange:A=>c(A.target.value),className:"p-2 border rounded bg-white dark:bg-zinc-800 text-sm w-full sm:w-auto"}),k.jsxs("select",{value:s,onChange:A=>u(A.target.value),className:"p-2 border rounded bg-white dark:bg-zinc-800 text-sm",children:[k.jsx("option",{value:"all",children:"All"}),k.jsx("option",{value:"complete",children:" Completed"}),k.jsx("option",{value:"incomplete",children:" Incomplete"})]}),t&&k.jsxs("div",{className:"text-sm text-zinc-500",children:["Filtering by grow: ",k.jsx("strong",{children:t})]})]}),b.length===0?k.jsx("p",{className:"text-zinc-500 dark:text-zinc-400",children:"No tasks to display."}):k.jsx("ul",{className:"space-y-3",children:b.map(A=>k.jsxs("li",{className:"p-4 rounded-xl bg-zinc-100 dark:bg-zinc-800 flex justify-between items-center shadow",children:[k.jsxs("div",{children:[k.jsx("h4",{className:"font-semibold text-base",children:A.completed?k.jsx("s",{children:A.title}):A.title}),k.jsxs("p",{className:"text-sm text-zinc-500",children:["Due:"," ",k.jsx("span",{className:E(A.due)?"text-red-500 font-semibold":"text-zinc-500",children:A.due||"No date"})]}),A.repeatInterval&&k.jsxs("p",{className:"text-xs text-zinc-400",children:["Repeats every ",A.repeatInterval," ",A.repeatUnit]}),A.growId&&k.jsxs("p",{className:"text-xs text-zinc-400",children:["Linked to grow: ",k.jsx("code",{children:A.growId})]})]}),k.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 text-sm",children:[k.jsx("button",{onClick:()=>_(A),className:"text-green-600 hover:underline",children:A.completed?"Mark Incomplete":" Complete"}),k.jsx("button",{onClick:()=>v(A),className:"text-blue-500 hover:underline",children:" Edit"}),k.jsx("button",{onClick:()=>g(A.id),className:"text-red-500 hover:underline",children:" Delete"})]})]},A.id))})]})}const zh=["Inoculated","Colonizing","Colonized","Fruiting","Harvested"];function sAe({grows:t,setGrows:e,updateGrowStage:r}){const[n,i]=z.useState({}),[a,o]=z.useState({}),[s,u]=z.useState({});z.useEffect(()=>{l()},[t]);const l=async()=>{const g=ut.currentUser;if(!g)return;const m={};for(const _ of t){const b=Qt(Ke,`users/${g.uid}/grows/${_.id}/environmentLogs`),E=BI(b,qI("timestamp","desc")),A=await Ci(E);m[_.id]=A.docs.map(C=>({id:C.id,...C.data()}))}i(m)},c=(g,m,_)=>{o(b=>({...b,[g]:{...b[g],[m]:_}}))},f=async g=>{const m=ut.currentUser;if(!m||!a[g])return;const{stage:_,temperature:b,humidity:E,notes:A}=a[g];if(!_||!b||!E)return alert("Fill all required fields");const C={stage:_,temperature:parseFloat(b),humidity:parseFloat(E),notes:A||"",timestamp:new Date};await Ji(Qt(Ke,`users/${m.uid}/grows/${g}/environmentLogs`),C),o(O=>({...O,[g]:{}})),l()},h=async(g,m,_)=>{const b=ut.currentUser;if(!b)return;const E=er(Ke,`users/${b.uid}/grows/${g}`),C={...t.find(O=>O.id===g).stageDates||{},[m]:_};await Zi(E,{stageDates:C}),e(O=>O.map(R=>R.id===g?{...R,stageDates:C}:R))},v=async(g,m,_)=>{const b=ut.currentUser;if(!b)return;const E=er(Ke,`users/${b.uid}/grows/${g}`);await Zi(E,{[m]:parseFloat(_)}),e(A=>A.map(C=>C.id===g?{...C,[m]:parseFloat(_)}:C))};return k.jsx("div",{className:"p-4 max-w-6xl mx-auto space-y-8",children:t.map(g=>k.jsxs("div",{className:"bg-white dark:bg-zinc-900 text-zinc-900 dark:text-white rounded-xl shadow p-4 space-y-4",children:[k.jsxs("h2",{className:"text-xl font-semibold",children:[" ",g.strain||"Unnamed"," "," ",g.stageDates?.Inoculated?g.stageDates.Inoculated.substring(0,10):"No Date"]}),k.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:zh.map(m=>k.jsx("button",{onClick:()=>r(g.id,m),className:`px-3 py-1 rounded-full text-sm ${g.stage===m?"bg-blue-600 text-white":"bg-gray-200 dark:bg-zinc-700"}`,children:m},m))}),k.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-2 md:space-y-0 mt-4",children:zh.map((m,_)=>{const b=zh.indexOf(g.stage)>_,E=g.stage===m,A=g.stageDates?.[m];return k.jsxs("div",{className:`flex items-center md:flex-col md:items-start text-xs px-2 py-1 rounded border ${b?"bg-green-100 dark:bg-green-900 border-green-400 dark:border-green-600":E?"bg-blue-100 dark:bg-blue-900 border-blue-400 dark:border-blue-600":"bg-zinc-100 dark:bg-zinc-800 border-zinc-300 dark:border-zinc-700"}`,children:[k.jsxs("div",{className:"font-medium",children:[b?"":E?"":""," ",m]}),A&&k.jsx("div",{className:"text-[10px] mt-0.5 md:mt-1 text-zinc-500 dark:text-zinc-400",children:A.substring(0,10)})]},m)})}),k.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:zh.map(m=>k.jsxs("div",{className:`rounded p-1 ${g.stage===m?"bg-blue-100 dark:bg-blue-900 border border-blue-400 dark:border-blue-500":""}`,children:[k.jsxs("label",{className:"text-xs block font-medium",children:[m," Date"]}),k.jsx("input",{type:"date",value:g.stageDates?.[m]?.substring(0,10)||"",onChange:_=>h(g.id,m,_.target.value),className:"w-full p-2 rounded border border-gray-300 dark:border-zinc-600 bg-white dark:bg-zinc-800 text-sm"})]},m))}),g.stage==="Harvested"&&k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[k.jsxs("div",{children:[k.jsx("label",{className:"text-sm",children:"Wet Yield (g or oz)"}),k.jsx("input",{type:"number",value:g.wetYield||"",onChange:m=>v(g.id,"wetYield",m.target.value),className:"w-full p-2 border rounded dark:bg-zinc-800 dark:border-zinc-600"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"text-sm",children:"Dry Yield (g or oz)"}),k.jsx("input",{type:"number",value:g.dryYield||"",onChange:m=>v(g.id,"dryYield",m.target.value),className:"w-full p-2 border rounded dark:bg-zinc-800 dark:border-zinc-600"})]})]}),k.jsxs("div",{className:"mt-6 border-t pt-4 space-y-3",children:[k.jsx("h3",{className:"text-lg font-semibold",children:" Log Environment"}),k.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[k.jsxs("select",{value:a[g.id]?.stage||"",onChange:m=>c(g.id,"stage",m.target.value),className:"p-2 rounded border dark:bg-zinc-800 dark:border-zinc-600",children:[k.jsx("option",{value:"",children:"Stage"}),zh.map(m=>k.jsx("option",{value:m,children:m},m))]}),k.jsx("input",{type:"number",placeholder:"Temp (F)",value:a[g.id]?.temperature||"",onChange:m=>c(g.id,"temperature",m.target.value),className:"p-2 rounded border dark:bg-zinc-800 dark:border-zinc-600"}),k.jsx("input",{type:"number",placeholder:"Humidity (%)",value:a[g.id]?.humidity||"",onChange:m=>c(g.id,"humidity",m.target.value),className:"p-2 rounded border dark:bg-zinc-800 dark:border-zinc-600"}),k.jsx("input",{type:"text",placeholder:"Optional Notes",value:a[g.id]?.notes||"",onChange:m=>c(g.id,"notes",m.target.value),className:"p-2 rounded border dark:bg-zinc-800 dark:border-zinc-600"})]}),k.jsx("button",{onClick:()=>f(g.id),className:"mt-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:" Save Log"}),n[g.id]?.length>0&&k.jsxs("div",{className:"mt-4 space-y-2",children:[k.jsx("h4",{className:"font-medium text-sm text-gray-600 dark:text-gray-300",children:"Recent Logs:"}),n[g.id].map(m=>k.jsxs("div",{className:"p-3 rounded bg-zinc-100 dark:bg-zinc-800 text-sm",children:[k.jsxs("div",{className:"flex justify-between font-semibold",children:[k.jsx("span",{children:m.stage}),k.jsx("span",{children:new Date(m.timestamp.toDate()).toLocaleString()})]}),k.jsxs("div",{className:"text-sm",children:["Temp: ",m.temperature,"F | RH: ",m.humidity,"%"]}),m.notes&&k.jsx("div",{className:"text-xs italic mt-1",children:m.notes})]},m.id))]})]})]},g.id))})}var yy={exports:{}},uAe=yy.exports,nF;function lAe(){return nF||(nF=1,function(t,e){(function(r,n){n()})(uAe,function(){function r(l,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\uFEFF",l],{type:l.type}):l}function n(l,c,f){var h=new XMLHttpRequest;h.open("GET",l),h.responseType="blob",h.onload=function(){u(h.response,c,f)},h.onerror=function(){console.error("could not download file")},h.send()}function i(l){var c=new XMLHttpRequest;c.open("HEAD",l,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function a(l){try{l.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),l.dispatchEvent(c)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof lu=="object"&&lu.global===lu?lu:void 0,s=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(l,c,f){var h=o.URL||o.webkitURL,v=document.createElement("a");c=c||l.name||"download",v.download=c,v.rel="noopener",typeof l=="string"?(v.href=l,v.origin===location.origin?a(v):i(v.href)?n(l,c,f):a(v,v.target="_blank")):(v.href=h.createObjectURL(l),setTimeout(function(){h.revokeObjectURL(v.href)},4e4),setTimeout(function(){a(v)},0))}:"msSaveOrOpenBlob"in navigator?function(l,c,f){if(c=c||l.name||"download",typeof l!="string")navigator.msSaveOrOpenBlob(r(l,f),c);else if(i(l))n(l,c,f);else{var h=document.createElement("a");h.href=l,h.target="_blank",setTimeout(function(){a(h)})}}:function(l,c,f,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof l=="string")return n(l,c,f);var v=l.type==="application/octet-stream",g=/constructor/i.test(o.HTMLElement)||o.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||v&&g||s)&&typeof FileReader<"u"){var _=new FileReader;_.onloadend=function(){var A=_.result;A=m?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=A:location=A,h=null},_.readAsDataURL(l)}else{var b=o.URL||o.webkitURL,E=b.createObjectURL(l);h?h.location=E:location.href=E,h=null,setTimeout(function(){b.revokeObjectURL(E)},4e4)}});o.saveAs=u.saveAs=u,t.exports=u})}(yy)),yy.exports}var cAe=lAe(),_y={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var fAe=_y.exports,iF;function dAe(){return iF||(iF=1,function(t,e){((r,n)=>{t.exports=n()})(fAe,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,a=!n.document&&!!n.postMessage,o=n.IS_PAPA_WORKER||!1,s={},u=0,l={};function c(S){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(T){var D=O(T);D.chunkSize=parseInt(D.chunkSize),T.step||T.chunk||(D.chunkSize=null),this._handle=new m(D),(this._handle.streamer=this)._config=D}).call(this,S),this.parseChunk=function(T,D){var L=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<L){let j=this._config.newline;j||(F=this._config.quoteChar||'"',j=this._handle.guessLineEndings(T,F)),T=[...T.split(j).slice(L)].join(j)}this.isFirstChunk&&I(this._config.beforeFirstChunk)&&(F=this._config.beforeFirstChunk(T))!==void 0&&(T=F),this.isFirstChunk=!1,this._halted=!1;var L=this._partialLine+T,F=(this._partialLine="",this._handle.parse(L,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(T=F.meta.cursor,L=(this._finished||(this._partialLine=L.substring(T-this._baseIndex),this._baseIndex=T),F&&F.data&&(this._rowCount+=F.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)n.postMessage({results:F,workerId:l.WORKER_ID,finished:L});else if(I(this._config.chunk)&&!D){if(this._config.chunk(F,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=F=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(F.data),this._completeResults.errors=this._completeResults.errors.concat(F.errors),this._completeResults.meta=F.meta),this._completed||!L||!I(this._config.complete)||F&&F.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),L||F&&F.meta.paused||this._nextChunk(),F}this._halted=!0},this._sendError=function(T){I(this._config.error)?this._config.error(T):o&&this._config.error&&n.postMessage({workerId:l.WORKER_ID,error:T,finished:!1})}}function f(S){var T;(S=S||{}).chunkSize||(S.chunkSize=l.RemoteChunkSize),c.call(this,S),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(D){this._input=D,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(T=new XMLHttpRequest,this._config.withCredentials&&(T.withCredentials=this._config.withCredentials),a||(T.onload=R(this._chunkLoaded,this),T.onerror=R(this._chunkError,this)),T.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var D,L=this._config.downloadRequestHeaders;for(D in L)T.setRequestHeader(D,L[D])}var F;this._config.chunkSize&&(F=this._start+this._config.chunkSize-1,T.setRequestHeader("Range","bytes="+this._start+"-"+F));try{T.send(this._config.downloadRequestBody)}catch(j){this._chunkError(j.message)}a&&T.status===0&&this._chunkError()}},this._chunkLoaded=function(){T.readyState===4&&(T.status<200||400<=T.status?this._chunkError():(this._start+=this._config.chunkSize||T.responseText.length,this._finished=!this._config.chunkSize||this._start>=(D=>(D=D.getResponseHeader("Content-Range"))!==null?parseInt(D.substring(D.lastIndexOf("/")+1)):-1)(T),this.parseChunk(T.responseText)))},this._chunkError=function(D){D=T.statusText||D,this._sendError(new Error(D))}}function h(S){(S=S||{}).chunkSize||(S.chunkSize=l.LocalChunkSize),c.call(this,S);var T,D,L=typeof FileReader<"u";this.stream=function(F){this._input=F,D=F.slice||F.webkitSlice||F.mozSlice,L?((T=new FileReader).onload=R(this._chunkLoaded,this),T.onerror=R(this._chunkError,this)):T=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var F=this._input,j=(this._config.chunkSize&&(j=Math.min(this._start+this._config.chunkSize,this._input.size),F=D.call(F,this._start,j)),T.readAsText(F,this._config.encoding));L||this._chunkLoaded({target:{result:j}})},this._chunkLoaded=function(F){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(F.target.result)},this._chunkError=function(){this._sendError(T.error)}}function v(S){var T;c.call(this,S=S||{}),this.stream=function(D){return T=D,this._nextChunk()},this._nextChunk=function(){var D,L;if(!this._finished)return D=this._config.chunkSize,T=D?(L=T.substring(0,D),T.substring(D)):(L=T,""),this._finished=!T,this.parseChunk(L)}}function g(S){c.call(this,S=S||{});var T=[],D=!0,L=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(F){this._input=F,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){L&&T.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),T.length?this.parseChunk(T.shift()):D=!0},this._streamData=R(function(F){try{T.push(typeof F=="string"?F:F.toString(this._config.encoding)),D&&(D=!1,this._checkIsFinished(),this.parseChunk(T.shift()))}catch(j){this._streamError(j)}},this),this._streamError=R(function(F){this._streamCleanUp(),this._sendError(F)},this),this._streamEnd=R(function(){this._streamCleanUp(),L=!0,this._streamData("")},this),this._streamCleanUp=R(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(S){var T,D,L,F,j=Math.pow(2,53),K=-j,ee=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,W=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,te=this,X=0,Q=0,se=!1,q=!1,Y=[],ae={data:[],errors:[],meta:{}};function xe(Ae){return S.skipEmptyLines==="greedy"?Ae.join("").trim()==="":Ae.length===1&&Ae[0].length===0}function Oe(){if(ae&&L&&(Be("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),L=!1),S.skipEmptyLines&&(ae.data=ae.data.filter(function(Z){return!xe(Z)})),Te()){let Z=function(fe,ye){I(S.transformHeader)&&(fe=S.transformHeader(fe,ye)),Y.push(fe)};var re=Z;if(ae)if(Array.isArray(ae.data[0])){for(var Ae=0;Te()&&Ae<ae.data.length;Ae++)ae.data[Ae].forEach(Z);ae.data.splice(0,1)}else ae.data.forEach(Z)}function G(Z,fe){for(var ye=S.header?{}:[],pe=0;pe<Z.length;pe++){var be=pe,Re=Z[pe],Re=((je,Ie)=>(Le=>(S.dynamicTypingFunction&&S.dynamicTyping[Le]===void 0&&(S.dynamicTyping[Le]=S.dynamicTypingFunction(Le)),(S.dynamicTyping[Le]||S.dynamicTyping)===!0))(je)?Ie==="true"||Ie==="TRUE"||Ie!=="false"&&Ie!=="FALSE"&&((Le=>{if(ee.test(Le)&&(Le=parseFloat(Le),K<Le&&Le<j))return 1})(Ie)?parseFloat(Ie):W.test(Ie)?new Date(Ie):Ie===""?null:Ie):Ie)(be=S.header?pe>=Y.length?"__parsed_extra":Y[pe]:be,Re=S.transform?S.transform(Re,be):Re);be==="__parsed_extra"?(ye[be]=ye[be]||[],ye[be].push(Re)):ye[be]=Re}return S.header&&(pe>Y.length?Be("FieldMismatch","TooManyFields","Too many fields: expected "+Y.length+" fields but parsed "+pe,Q+fe):pe<Y.length&&Be("FieldMismatch","TooFewFields","Too few fields: expected "+Y.length+" fields but parsed "+pe,Q+fe)),ye}var ne;ae&&(S.header||S.dynamicTyping||S.transform)&&(ne=1,!ae.data.length||Array.isArray(ae.data[0])?(ae.data=ae.data.map(G),ne=ae.data.length):ae.data=G(ae.data,0),S.header&&ae.meta&&(ae.meta.fields=Y),Q+=ne)}function Te(){return S.header&&Y.length===0}function Be(Ae,G,ne,re){Ae={type:Ae,code:G,message:ne},re!==void 0&&(Ae.row=re),ae.errors.push(Ae)}I(S.step)&&(F=S.step,S.step=function(Ae){ae=Ae,Te()?Oe():(Oe(),ae.data.length!==0&&(X+=Ae.data.length,S.preview&&X>S.preview?D.abort():(ae.data=ae.data[0],F(ae,te))))}),this.parse=function(Ae,G,ne){var re=S.quoteChar||'"',re=(S.newline||(S.newline=this.guessLineEndings(Ae,re)),L=!1,S.delimiter?I(S.delimiter)&&(S.delimiter=S.delimiter(Ae),ae.meta.delimiter=S.delimiter):((re=((Z,fe,ye,pe,be)=>{var Re,je,Ie,Le;be=be||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var it=0;it<be.length;it++){for(var nt,lt=be[it],ft=0,xt=0,tt=0,gt=(Ie=void 0,new b({comments:pe,delimiter:lt,newline:fe,preview:10}).parse(Z)),vt=0;vt<gt.data.length;vt++)ye&&xe(gt.data[vt])?tt++:(nt=gt.data[vt].length,xt+=nt,Ie===void 0?Ie=nt:0<nt&&(ft+=Math.abs(nt-Ie),Ie=nt));0<gt.data.length&&(xt/=gt.data.length-tt),(je===void 0||ft<=je)&&(Le===void 0||Le<xt)&&1.99<xt&&(je=ft,Re=lt,Le=xt)}return{successful:!!(S.delimiter=Re),bestDelimiter:Re}})(Ae,S.newline,S.skipEmptyLines,S.comments,S.delimitersToGuess)).successful?S.delimiter=re.bestDelimiter:(L=!0,S.delimiter=l.DefaultDelimiter),ae.meta.delimiter=S.delimiter),O(S));return S.preview&&S.header&&re.preview++,T=Ae,D=new b(re),ae=D.parse(T,G,ne),Oe(),se?{meta:{paused:!0}}:ae||{meta:{paused:!1}}},this.paused=function(){return se},this.pause=function(){se=!0,D.abort(),T=I(S.chunk)?"":T.substring(D.getCharIndex())},this.resume=function(){te.streamer._halted?(se=!1,te.streamer.parseChunk(T,!0)):setTimeout(te.resume,3)},this.aborted=function(){return q},this.abort=function(){q=!0,D.abort(),ae.meta.aborted=!0,I(S.complete)&&S.complete(ae),T=""},this.guessLineEndings=function(Z,re){Z=Z.substring(0,1048576);var re=new RegExp(_(re)+"([^]*?)"+_(re),"gm"),ne=(Z=Z.replace(re,"")).split("\r"),re=Z.split(`
`),Z=1<re.length&&re[0].length<ne[0].length;if(ne.length===1||Z)return`
`;for(var fe=0,ye=0;ye<ne.length;ye++)ne[ye][0]===`
`&&fe++;return fe>=ne.length/2?`\r
`:"\r"}}function _(S){return S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function b(S){var T=(S=S||{}).delimiter,D=S.newline,L=S.comments,F=S.step,j=S.preview,K=S.fastMode,ee=null,W=!1,te=S.quoteChar==null?'"':S.quoteChar,X=te;if(S.escapeChar!==void 0&&(X=S.escapeChar),(typeof T!="string"||-1<l.BAD_DELIMITERS.indexOf(T))&&(T=","),L===T)throw new Error("Comment character same as delimiter");L===!0?L="#":(typeof L!="string"||-1<l.BAD_DELIMITERS.indexOf(L))&&(L=!1),D!==`
`&&D!=="\r"&&D!==`\r
`&&(D=`
`);var Q=0,se=!1;this.parse=function(q,Y,ae){if(typeof q!="string")throw new Error("Input must be a string");var xe=q.length,Oe=T.length,Te=D.length,Be=L.length,Ae=I(F),G=[],ne=[],re=[],Z=Q=0;if(!q)return ft();if(K||K!==!1&&q.indexOf(te)===-1){for(var fe=q.split(D),ye=0;ye<fe.length;ye++){if(re=fe[ye],Q+=re.length,ye!==fe.length-1)Q+=D.length;else if(ae)return ft();if(!L||re.substring(0,Be)!==L){if(Ae){if(G=[],Le(re.split(T)),xt(),se)return ft()}else Le(re.split(T));if(j&&j<=ye)return G=G.slice(0,j),ft(!0)}}return ft()}for(var pe=q.indexOf(T,Q),be=q.indexOf(D,Q),Re=new RegExp(_(X)+_(te),"g"),je=q.indexOf(te,Q);;)if(q[Q]===te)for(je=Q,Q++;;){if((je=q.indexOf(te,je+1))===-1)return ae||ne.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:G.length,index:Q}),nt();if(je===xe-1)return nt(q.substring(Q,je).replace(Re,te));if(te===X&&q[je+1]===X)je++;else if(te===X||je===0||q[je-1]!==X){pe!==-1&&pe<je+1&&(pe=q.indexOf(T,je+1));var Ie=it((be=be!==-1&&be<je+1?q.indexOf(D,je+1):be)===-1?pe:Math.min(pe,be));if(q.substr(je+1+Ie,Oe)===T){re.push(q.substring(Q,je).replace(Re,te)),q[Q=je+1+Ie+Oe]!==te&&(je=q.indexOf(te,Q)),pe=q.indexOf(T,Q),be=q.indexOf(D,Q);break}if(Ie=it(be),q.substring(je+1+Ie,je+1+Ie+Te)===D){if(re.push(q.substring(Q,je).replace(Re,te)),lt(je+1+Ie+Te),pe=q.indexOf(T,Q),je=q.indexOf(te,Q),Ae&&(xt(),se))return ft();if(j&&G.length>=j)return ft(!0);break}ne.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:G.length,index:Q}),je++}}else if(L&&re.length===0&&q.substring(Q,Q+Be)===L){if(be===-1)return ft();Q=be+Te,be=q.indexOf(D,Q),pe=q.indexOf(T,Q)}else if(pe!==-1&&(pe<be||be===-1))re.push(q.substring(Q,pe)),Q=pe+Oe,pe=q.indexOf(T,Q);else{if(be===-1)break;if(re.push(q.substring(Q,be)),lt(be+Te),Ae&&(xt(),se))return ft();if(j&&G.length>=j)return ft(!0)}return nt();function Le(tt){G.push(tt),Z=Q}function it(tt){var gt=0;return gt=tt!==-1&&(tt=q.substring(je+1,tt))&&tt.trim()===""?tt.length:gt}function nt(tt){return ae||(tt===void 0&&(tt=q.substring(Q)),re.push(tt),Q=xe,Le(re),Ae&&xt()),ft()}function lt(tt){Q=tt,Le(re),re=[],be=q.indexOf(D,Q)}function ft(tt){if(S.header&&!Y&&G.length&&!W){var gt=G[0],vt=Object.create(null),mt=new Set(gt);let At=!1;for(let Vt=0;Vt<gt.length;Vt++){let qt=gt[Vt];if(vt[qt=I(S.transformHeader)?S.transformHeader(qt,Vt):qt]){let rr,kr=vt[qt];for(;rr=qt+"_"+kr,kr++,mt.has(rr););mt.add(rr),gt[Vt]=rr,vt[qt]++,At=!0,(ee=ee===null?{}:ee)[rr]=qt}else vt[qt]=1,gt[Vt]=qt;mt.add(qt)}At&&console.warn("Duplicate headers found and renamed."),W=!0}return{data:G,errors:ne,meta:{delimiter:T,linebreak:D,aborted:se,truncated:!!tt,cursor:Z+(Y||0),renamedHeaders:ee}}}function xt(){F(ft()),G=[],ne=[]}},this.abort=function(){se=!0},this.getCharIndex=function(){return Q}}function E(S){var T=S.data,D=s[T.workerId],L=!1;if(T.error)D.userError(T.error,T.file);else if(T.results&&T.results.data){var F={abort:function(){L=!0,A(T.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:C,resume:C};if(I(D.userStep)){for(var j=0;j<T.results.data.length&&(D.userStep({data:T.results.data[j],errors:T.results.errors,meta:T.results.meta},F),!L);j++);delete T.results}else I(D.userChunk)&&(D.userChunk(T.results,F,T.file),delete T.results)}T.finished&&!L&&A(T.workerId,T.results)}function A(S,T){var D=s[S];I(D.userComplete)&&D.userComplete(T),D.terminate(),delete s[S]}function C(){throw new Error("Not implemented.")}function O(S){if(typeof S!="object"||S===null)return S;var T,D=Array.isArray(S)?[]:{};for(T in S)D[T]=O(S[T]);return D}function R(S,T){return function(){S.apply(T,arguments)}}function I(S){return typeof S=="function"}return l.parse=function(S,T){var D=(T=T||{}).dynamicTyping||!1;if(I(D)&&(T.dynamicTypingFunction=D,D={}),T.dynamicTyping=D,T.transform=!!I(T.transform)&&T.transform,!T.worker||!l.WORKERS_SUPPORTED)return D=null,l.NODE_STREAM_INPUT,typeof S=="string"?(S=(L=>L.charCodeAt(0)!==65279?L:L.slice(1))(S),D=new(T.download?f:v)(T)):S.readable===!0&&I(S.read)&&I(S.on)?D=new g(T):(n.File&&S instanceof File||S instanceof Object)&&(D=new h(T)),D.stream(S);(D=(()=>{var L;return!!l.WORKERS_SUPPORTED&&(L=(()=>{var F=n.URL||n.webkitURL||null,j=r.toString();return l.BLOB_URL||(l.BLOB_URL=F.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",j,")();"],{type:"text/javascript"})))})(),(L=new n.Worker(L)).onmessage=E,L.id=u++,s[L.id]=L)})()).userStep=T.step,D.userChunk=T.chunk,D.userComplete=T.complete,D.userError=T.error,T.step=I(T.step),T.chunk=I(T.chunk),T.complete=I(T.complete),T.error=I(T.error),delete T.worker,D.postMessage({input:S,config:T,workerId:D.id})},l.unparse=function(S,T){var D=!1,L=!0,F=",",j=`\r
`,K='"',ee=K+K,W=!1,te=null,X=!1,Q=((()=>{if(typeof T=="object"){if(typeof T.delimiter!="string"||l.BAD_DELIMITERS.filter(function(Y){return T.delimiter.indexOf(Y)!==-1}).length||(F=T.delimiter),typeof T.quotes!="boolean"&&typeof T.quotes!="function"&&!Array.isArray(T.quotes)||(D=T.quotes),typeof T.skipEmptyLines!="boolean"&&typeof T.skipEmptyLines!="string"||(W=T.skipEmptyLines),typeof T.newline=="string"&&(j=T.newline),typeof T.quoteChar=="string"&&(K=T.quoteChar),typeof T.header=="boolean"&&(L=T.header),Array.isArray(T.columns)){if(T.columns.length===0)throw new Error("Option columns is empty");te=T.columns}T.escapeChar!==void 0&&(ee=T.escapeChar+K),T.escapeFormulae instanceof RegExp?X=T.escapeFormulae:typeof T.escapeFormulae=="boolean"&&T.escapeFormulae&&(X=/^[=+\-@\t\r].*$/)}})(),new RegExp(_(K),"g"));if(typeof S=="string"&&(S=JSON.parse(S)),Array.isArray(S)){if(!S.length||Array.isArray(S[0]))return se(null,S,W);if(typeof S[0]=="object")return se(te||Object.keys(S[0]),S,W)}else if(typeof S=="object")return typeof S.data=="string"&&(S.data=JSON.parse(S.data)),Array.isArray(S.data)&&(S.fields||(S.fields=S.meta&&S.meta.fields||te),S.fields||(S.fields=Array.isArray(S.data[0])?S.fields:typeof S.data[0]=="object"?Object.keys(S.data[0]):[]),Array.isArray(S.data[0])||typeof S.data[0]=="object"||(S.data=[S.data])),se(S.fields||[],S.data||[],W);throw new Error("Unable to serialize unrecognized input");function se(Y,ae,xe){var Oe="",Te=(typeof Y=="string"&&(Y=JSON.parse(Y)),typeof ae=="string"&&(ae=JSON.parse(ae)),Array.isArray(Y)&&0<Y.length),Be=!Array.isArray(ae[0]);if(Te&&L){for(var Ae=0;Ae<Y.length;Ae++)0<Ae&&(Oe+=F),Oe+=q(Y[Ae],Ae);0<ae.length&&(Oe+=j)}for(var G=0;G<ae.length;G++){var ne=(Te?Y:ae[G]).length,re=!1,Z=Te?Object.keys(ae[G]).length===0:ae[G].length===0;if(xe&&!Te&&(re=xe==="greedy"?ae[G].join("").trim()==="":ae[G].length===1&&ae[G][0].length===0),xe==="greedy"&&Te){for(var fe=[],ye=0;ye<ne;ye++){var pe=Be?Y[ye]:ye;fe.push(ae[G][pe])}re=fe.join("").trim()===""}if(!re){for(var be=0;be<ne;be++){0<be&&!Z&&(Oe+=F);var Re=Te&&Be?Y[be]:be;Oe+=q(ae[G][Re],be)}G<ae.length-1&&(!xe||0<ne&&!Z)&&(Oe+=j)}}return Oe}function q(Y,ae){var xe,Oe;return Y==null?"":Y.constructor===Date?JSON.stringify(Y).slice(1,25):(Oe=!1,X&&typeof Y=="string"&&X.test(Y)&&(Y="'"+Y,Oe=!0),xe=Y.toString().replace(Q,ee),(Oe=Oe||D===!0||typeof D=="function"&&D(Y,ae)||Array.isArray(D)&&D[ae]||((Te,Be)=>{for(var Ae=0;Ae<Be.length;Ae++)if(-1<Te.indexOf(Be[Ae]))return!0;return!1})(xe,l.BAD_DELIMITERS)||-1<xe.indexOf(F)||xe.charAt(0)===" "||xe.charAt(xe.length-1)===" ")?K+xe+K:xe)}},l.RECORD_SEP="",l.UNIT_SEP="",l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!a&&!!n.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=b,l.ParserHandle=m,l.NetworkStreamer=f,l.FileStreamer=h,l.StringStreamer=v,l.ReadableStreamStreamer=g,n.jQuery&&((i=n.jQuery).fn.parse=function(S){var T=S.config||{},D=[];return this.each(function(j){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var K=0;K<this.files.length;K++)D.push({file:this.files[K],inputElem:this,instanceConfig:i.extend({},T)})}),L(),this;function L(){if(D.length===0)I(S.complete)&&S.complete();else{var j,K,ee,W,te=D[0];if(I(S.before)){var X=S.before(te.file,te.inputElem);if(typeof X=="object"){if(X.action==="abort")return j="AbortError",K=te.file,ee=te.inputElem,W=X.reason,void(I(S.error)&&S.error({name:j},K,ee,W));if(X.action==="skip")return void F();typeof X.config=="object"&&(te.instanceConfig=i.extend(te.instanceConfig,X.config))}else if(X==="skip")return void F()}var Q=te.instanceConfig.complete;te.instanceConfig.complete=function(se){I(Q)&&Q(se,te.file,te.inputElem),F()},l.parse(te.file,te.instanceConfig)}}function F(){D.splice(0,1),L()}}),o&&(n.onmessage=function(S){S=S.data,l.WORKER_ID===void 0&&S&&(l.WORKER_ID=S.workerId),typeof S.input=="string"?n.postMessage({workerId:l.WORKER_ID,results:l.parse(S.input,S.config),finished:!0}):(n.File&&S.input instanceof File||S.input instanceof Object)&&(S=l.parse(S.input,S.config))&&n.postMessage({workerId:l.WORKER_ID,results:S,finished:!0})}),(f.prototype=Object.create(c.prototype)).constructor=f,(h.prototype=Object.create(c.prototype)).constructor=h,(v.prototype=Object.create(v.prototype)).constructor=v,(g.prototype=Object.create(c.prototype)).constructor=g,l})}(_y)),_y.exports}var hAe=dAe();const pAe=_t(hAe),aF=["substrate","container","tool","supplement","labor"],oF=["count","g","oz","ml","liter","lbs","hour"];function vAe(){const[t,e]=z.useState([]),[r,n]=z.useState({name:"",cost:"",type:"",unit:"",quantity:"",reorderLink:""}),[i,a]=z.useState({}),[o,s]=z.useState([]),[u,l]=z.useState([]),[c,f]=z.useState({type:"",unit:"",reorderLink:""}),h=async()=>{const O=ut.currentUser;if(!O)return;const R=await Ci(Qt(Ke,"users",O.uid,"supplies")),I=await Ci(Qt(Ke,"users",O.uid,"supply_audits"));e(R.docs.map(S=>({id:S.id,...S.data()}))),s(I.docs.map(S=>S.data()))};z.useEffect(()=>{h()},[]);const v=async(O,R,I,S="")=>{const T=ut.currentUser;T&&await Ji(Qt(Ke,"users",T.uid,"supply_audits"),{supplyId:O,action:R,amount:I,note:S,timestamp:Ar.now().toDate().toISOString()})},g=O=>{n({...r,[O.target.name]:O.target.value})},m=async()=>{const O=ut.currentUser;if(!O)return;const R={...r,cost:parseFloat(r.cost),quantity:parseFloat(r.quantity||0),reorderLink:r.reorderLink||""},I=await Ji(Qt(Ke,"users",O.uid,"supplies"),R);await v(I.id,"add",R.quantity,"Initial supply added"),n({name:"",cost:"",type:"",unit:"",quantity:"",reorderLink:""}),h()},_=async O=>{const R=ut.currentUser;R&&(await t0(er(Ke,"users",R.uid,"supplies",O)),await v(O,"delete",0,"Supply deleted"),h())},b=async()=>{if(window.confirm(`Delete ${u.length} selected supplies?`)){for(const O of u)await _(O);l([])}},E=async()=>{const O=ut.currentUser;if(!O)return;const R={};c.type&&(R.type=c.type),c.unit&&(R.unit=c.unit),c.reorderLink&&(R.reorderLink=c.reorderLink),await Promise.all(u.map(async I=>{const S=er(Ke,"users",O.uid,"supplies",I);await Zi(S,R)})),alert(" Supplies updated."),f({type:"",unit:"",reorderLink:""}),l([]),h()},A=async O=>{const R=ut.currentUser,I=t.find(D=>D.id===O),S=parseFloat(i[O]||0);if(!R||!I||isNaN(S)||S<=0)return;const T=(I.quantity||0)+S;await Zi(er(Ke,"users",R.uid,"supplies",O),{quantity:T}),await v(O,"restock",S,"Manual restock"),a({...i,[O]:""}),h()},C=()=>{const O=pAe.unparse(o.map(I=>({SupplyID:I.supplyId,Action:I.action,Amount:I.amount,Note:I.note,Timestamp:I.timestamp}))),R=new Blob([O],{type:"text/csv;charset=utf-8;"});cAe.saveAs(R,"supply_audit_log.csv")};return k.jsxs("div",{className:"p-4 md:p-6 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-white rounded-2xl shadow max-w-7xl mx-auto space-y-6",children:[k.jsx("h2",{className:"text-2xl font-bold",children:" Supplies / Cost of Goods"}),k.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[k.jsx("input",{name:"name",value:r.name,onChange:g,placeholder:"Name",className:"p-2 rounded border dark:bg-zinc-800"}),k.jsx("input",{name:"cost",value:r.cost,onChange:g,type:"number",placeholder:"Cost per unit",className:"p-2 rounded border dark:bg-zinc-800"}),k.jsxs("select",{name:"type",value:r.type,onChange:g,className:"p-2 rounded border dark:bg-zinc-800",children:[k.jsx("option",{value:"",children:"Type"}),aF.map(O=>k.jsx("option",{children:O},O))]}),k.jsxs("select",{name:"unit",value:r.unit,onChange:g,className:"p-2 rounded border dark:bg-zinc-800",children:[k.jsx("option",{value:"",children:"Unit"}),oF.map(O=>k.jsx("option",{children:O},O))]}),k.jsx("input",{name:"quantity",value:r.quantity,onChange:g,type:"number",placeholder:"Quantity on hand",className:"p-2 rounded border dark:bg-zinc-800"}),k.jsx("input",{name:"reorderLink",value:r.reorderLink,onChange:g,placeholder:"Reorder URL (optional)",className:"p-2 rounded border dark:bg-zinc-800 col-span-full"})]}),k.jsxs("div",{className:"flex flex-wrap gap-4",children:[k.jsxs("button",{onClick:m,className:"flex items-center gap-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded shadow",children:[k.jsx(JO,{className:"w-4 h-4"})," Add Supply"]}),k.jsxs("button",{onClick:C,className:"flex items-center gap-1 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded shadow",children:[k.jsx(Cne,{className:"w-4 h-4"})," Export Audit Log"]})]}),u.length>0&&k.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-800 text-yellow-900 dark:text-yellow-100 p-3 rounded-md space-y-2",children:[k.jsxs("div",{className:"text-sm font-medium",children:[u.length," selected ",k.jsx("button",{className:"ml-2 text-blue-500 hover:underline",onClick:()=>l(t.map(O=>O.id)),children:"Select All"}),k.jsx("button",{className:"ml-2 text-red-500 hover:underline",onClick:()=>l([]),children:"Clear"})]}),k.jsxs("div",{className:"flex flex-wrap gap-2",children:[k.jsxs("select",{value:c.type,onChange:O=>f({...c,type:O.target.value}),className:"p-1 border rounded text-sm dark:bg-zinc-800",children:[k.jsx("option",{value:"",children:"Set Type"}),aF.map(O=>k.jsx("option",{children:O},O))]}),k.jsxs("select",{value:c.unit,onChange:O=>f({...c,unit:O.target.value}),className:"p-1 border rounded text-sm dark:bg-zinc-800",children:[k.jsx("option",{value:"",children:"Set Unit"}),oF.map(O=>k.jsx("option",{children:O},O))]}),k.jsx("input",{value:c.reorderLink,onChange:O=>f({...c,reorderLink:O.target.value}),placeholder:"Reorder URL",className:"p-1 border rounded text-sm dark:bg-zinc-800"}),k.jsxs("button",{onClick:E,className:"flex items-center gap-1 bg-green-600 text-white px-3 py-1 rounded text-sm",children:[k.jsx(gne,{className:"w-4 h-4"})," Apply Edits"]}),k.jsxs("button",{onClick:b,className:"flex items-center gap-1 bg-red-600 text-white px-3 py-1 rounded text-sm",children:[k.jsx($f,{className:"w-4 h-4"})," Delete Selected"]})]})]}),k.jsx("div",{className:"overflow-x-auto",children:k.jsxs("table",{className:"min-w-full text-sm border border-zinc-300 dark:border-zinc-600",children:[k.jsx("thead",{children:k.jsxs("tr",{className:"bg-zinc-100 dark:bg-zinc-700",children:[k.jsx("th",{}),k.jsx("th",{className:"p-2 text-left",children:"Name"}),k.jsx("th",{className:"p-2 text-left",children:"Cost"}),k.jsx("th",{className:"p-2 text-left",children:"Qty"}),k.jsx("th",{className:"p-2 text-left",children:"Unit"}),k.jsx("th",{className:"p-2 text-left",children:"Type"}),k.jsx("th",{className:"p-2 text-left",children:"Restock"}),k.jsx("th",{className:"p-2 text-left",children:"Actions"})]})}),k.jsx("tbody",{children:t.map(O=>{const R=u.includes(O.id);return k.jsxs("tr",{className:`border-t border-zinc-200 dark:border-zinc-700 ${O.quantity<1?"bg-yellow-100 dark:bg-yellow-900":""}`,children:[k.jsx("td",{className:"p-2",children:k.jsx("input",{type:"checkbox",checked:R,onChange:()=>l(I=>R?I.filter(S=>S!==O.id):[...I,O.id])})}),k.jsx("td",{className:"p-2",children:O.name}),k.jsxs("td",{className:"p-2",children:["$",O.cost?.toFixed(2)]}),k.jsx("td",{className:"p-2",children:O.quantity||0}),k.jsx("td",{className:"p-2",children:O.unit}),k.jsx("td",{className:"p-2",children:O.type}),k.jsxs("td",{className:"p-2 flex items-center gap-2",children:[k.jsx("input",{type:"number",min:"0",step:"0.1",placeholder:"+",className:"w-20 p-1 border rounded dark:bg-zinc-800",value:i[O.id]||"",onChange:I=>a({...i,[O.id]:I.target.value})}),k.jsx("button",{onClick:()=>A(O.id),className:"text-green-600 hover:underline",children:k.jsx(JO,{className:"w-4 h-4"})})]}),k.jsxs("td",{className:"p-2 space-x-2",children:[k.jsx("button",{onClick:()=>_(O.id),className:"text-red-500 hover:underline",children:k.jsx($f,{className:"inline w-4 h-4"})}),O.reorderLink&&k.jsx("a",{href:O.reorderLink,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:k.jsx(One,{className:"inline w-4 h-4"})})]})]},O.id)})})]})})]})}function gAe(){const[t,e]=z.useState([]),[r,n]=z.useState([]),[i,a]=z.useState([]),[o,s]=z.useState({appendName:"",addTags:""}),[u,l]=z.useState(""),[c,f]=z.useState(""),[h,v]=z.useState([]),[g,m]=z.useState(""),[_,b]=z.useState(""),[E,A]=z.useState(null),[C,O]=z.useState({name:"",tags:"",items:[]});z.useEffect(()=>{(async()=>{const te=ut.currentUser;if(!te)return;const X=Qt(Ke,"users",te.uid,"supplies"),Q=Qt(Ke,"users",te.uid,"recipes"),[se,q]=await Promise.all([Ci(X),Ci(Q)]);e(se.docs.map(Y=>({id:Y.id,...Y.data()}))),n(q.docs.map(Y=>({id:Y.id,...Y.data()})))})()},[]);const R=()=>{const W=parseFloat(_);if(!g||isNaN(W))return;const X=h.find(Q=>Q.supplyId===g)?h.map(Q=>Q.supplyId===g?{...Q,amount:W}:Q):[...h,{supplyId:g,amount:W}];v(X),m(""),b("")},I=async()=>{const W=ut.currentUser;if(!W||!u||h.length===0)return;const te=c.split(",").map(se=>se.trim().toLowerCase()).filter(Boolean),X={name:u,tags:te,items:h,createdAt:new Date().toISOString()},Q=await Ji(Qt(Ke,"users",W.uid,"recipes"),X);n([...r,{id:Q.id,...X}]),l(""),f(""),v([])},S=async W=>{const te=ut.currentUser;te&&(await t0(er(Ke,"users",te.uid,"recipes",W)),n(r.filter(X=>X.id!==W)),a(X=>X.filter(Q=>Q!==W)))},T=async W=>{const te=ut.currentUser;if(!te)return;const X={...W,name:`${W.name} (Copy)`,createdAt:new Date().toISOString()};delete X.id;const Q=await Ji(Qt(Ke,"users",te.uid,"recipes"),X);n([...r,{id:Q.id,...X}])},D=W=>{A(W.id),O({name:W.name,tags:W.tags.join(", "),items:[...W.items]})},L=(W,te)=>{const X=parseFloat(te),se=C.items.some(q=>q.supplyId===W)?C.items.map(q=>q.supplyId===W?{...q,amount:X}:q):[...C.items,{supplyId:W,amount:X}];O({...C,items:se})},F=async()=>{const W=ut.currentUser;if(!W||!E)return;const te=C.tags.split(",").map(Q=>Q.trim().toLowerCase()).filter(Boolean),X={name:C.name,tags:te,items:C.items,updatedAt:new Date().toISOString()};await Zi(er(Ke,"users",W.uid,"recipes",E),X),n(Q=>Q.map(se=>se.id===E?{...se,...X}:se)),A(null)},j=()=>{window.confirm(`Delete ${i.length} selected recipes?`)&&i.forEach(S)},K=async()=>{const W=ut.currentUser;if(!W)return;const te=o.addTags.split(",").map(X=>X.trim().toLowerCase()).filter(Boolean);await Promise.all(i.map(async X=>{const Q=r.find(Y=>Y.id===X);if(!Q)return;const se=o.appendName?`${Q.name}${o.appendName}`:Q.name,q=Array.from(new Set([...Q.tags||[],...te]));await Zi(er(Ke,"users",W.uid,"recipes",X),{name:se,tags:q}),n(Y=>Y.map(ae=>ae.id===X?{...ae,name:se,tags:q}:ae))})),s({appendName:"",addTags:""}),a([])},ee=W=>W.reduce((te,X)=>{const Q=t.find(se=>se.id===X.supplyId);return te+(Q?.cost||0)*(X.amount||0)},0);return k.jsxs("div",{className:"p-4 max-w-6xl mx-auto space-y-6 text-gray-900 dark:text-white",children:[k.jsxs("div",{className:"bg-white dark:bg-gray-900 p-4 rounded shadow space-y-4",children:[k.jsx("h2",{className:"text-2xl font-bold",children:" Recipe Builder"}),k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[k.jsx("input",{value:u,onChange:W=>l(W.target.value),placeholder:"Recipe name",className:"p-2 border rounded dark:bg-gray-800"}),k.jsx("input",{value:c,onChange:W=>f(W.target.value),placeholder:"Tags (comma-separated)",className:"p-2 border rounded dark:bg-gray-800"})]}),k.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[k.jsxs("select",{value:g,onChange:W=>m(W.target.value),className:"p-2 border rounded dark:bg-gray-800",children:[k.jsx("option",{value:"",children:"Select supply"}),t.map(W=>k.jsxs("option",{value:W.id,children:[W.name," (",W.unit,")"]},W.id))]}),k.jsx("input",{type:"number",min:"0",step:"0.01",value:_,onChange:W=>b(W.target.value),placeholder:"Amount",className:"p-2 border rounded w-24 dark:bg-gray-800"}),k.jsxs("button",{onClick:R,className:"flex items-center gap-1 bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700",children:[k.jsx(JO,{size:16})," Add Item"]})]}),k.jsx("ul",{className:"text-sm space-y-1",children:h.map((W,te)=>{const X=t.find(Q=>Q.id===W.supplyId);return k.jsxs("li",{children:[X?.name||"Unknown"," - ",W.amount," ",X?.unit]},te)})}),k.jsx("button",{onClick:I,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded",children:"Save Recipe"})]}),i.length>0&&k.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-800 text-yellow-900 dark:text-yellow-100 p-4 rounded flex flex-col md:flex-row items-center justify-between gap-2",children:[k.jsxs("div",{className:"text-sm",children:[i.length," selected",k.jsx("button",{className:"ml-2 text-blue-500 hover:underline",onClick:()=>a(r.map(W=>W.id)),children:"Select All"}),k.jsx("button",{className:"ml-2 text-red-500 hover:underline",onClick:()=>a([]),children:"Clear"})]}),k.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[k.jsx("input",{type:"text",value:o.appendName,onChange:W=>s({...o,appendName:W.target.value}),placeholder:"Append name",className:"p-1 border rounded dark:bg-gray-800"}),k.jsx("input",{type:"text",value:o.addTags,onChange:W=>s({...o,addTags:W.target.value}),placeholder:"Add tags",className:"p-1 border rounded dark:bg-gray-800"}),k.jsxs("button",{onClick:K,className:"bg-green-600 text-white px-3 py-1 rounded flex items-center gap-1",children:[k.jsx(Tk,{size:16})," Apply"]}),k.jsxs("button",{onClick:j,className:"bg-red-600 text-white px-3 py-1 rounded flex items-center gap-1",children:[k.jsx($f,{size:16})," Delete"]})]})]}),k.jsx("div",{className:"space-y-4",children:r.map(W=>{const te=i.includes(W.id),X=E===W.id;return k.jsx("div",{className:"p-4 bg-gray-100 dark:bg-gray-800 rounded shadow flex flex-col",children:k.jsxs("div",{className:"flex items-start justify-between",children:[k.jsxs("div",{className:"flex gap-2",children:[k.jsx("input",{type:"checkbox",checked:te,onChange:()=>a(Q=>te?Q.filter(se=>se!==W.id):[...Q,W.id]),className:"mt-1"}),X?k.jsxs("div",{className:"space-y-2",children:[k.jsx("input",{value:C.name,onChange:Q=>O({...C,name:Q.target.value}),className:"p-1 border rounded w-full dark:bg-gray-700"}),k.jsx("input",{value:C.tags,onChange:Q=>O({...C,tags:Q.target.value}),className:"p-1 border rounded w-full dark:bg-gray-700"}),t.map(Q=>{const se=C.items.find(q=>q.supplyId===Q.id)?.amount||"";return k.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[k.jsxs("label",{className:"w-32",children:[Q.name," (",Q.unit,")"]}),k.jsx("input",{type:"number",value:se,onChange:q=>L(Q.id,q.target.value),className:"p-1 border rounded w-24 dark:bg-gray-700"})]},Q.id)}),k.jsxs("div",{className:"flex gap-2 mt-2",children:[k.jsxs("button",{onClick:F,className:"bg-green-600 text-white px-3 py-1 rounded flex items-center gap-1",children:[k.jsx(Tk,{size:16})," Save"]}),k.jsxs("button",{onClick:()=>A(null),className:"bg-gray-500 text-white px-3 py-1 rounded flex items-center gap-1",children:[k.jsx(wne,{size:16})," Cancel"]})]})]}):k.jsxs("div",{children:[k.jsx("h3",{className:"text-lg font-semibold",children:W.name}),W.tags?.length>0&&k.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Tags: ",W.tags.join(", ")]}),k.jsx("ul",{className:"text-sm mt-2 space-y-1",children:W.items.map(Q=>{const se=t.find(q=>q.id===Q.supplyId);return k.jsxs("li",{children:[se?.name||"Unknown"," - ",Q.amount," ",se?.unit]},Q.supplyId)})}),k.jsxs("p",{className:"mt-2 font-medium",children:["Total Cost: $",ee(W.items).toFixed(2)]})]})]}),!X&&k.jsxs("div",{className:"flex flex-col items-end gap-1",children:[k.jsx("button",{onClick:()=>D(W),title:"Edit",children:k.jsx(Mne,{size:18,className:"text-blue-500 hover:text-blue-700"})}),k.jsx("button",{onClick:()=>T(W),title:"Clone",children:k.jsx(Ane,{size:18,className:"text-purple-500 hover:text-purple-700"})}),k.jsx("button",{onClick:()=>S(W.id),title:"Delete",children:k.jsx($f,{size:18,className:"text-red-500 hover:text-red-700"})})]})]})},W.id)})})]})}function mAe({grows:t,recipes:e,supplies:r}){const[n,i]=z.useState({total:0,byStage:{},avgWet:0,avgDry:0,totalCost:0}),a=o=>{const s=e?.find(u=>u.id===o);return!s||!Array.isArray(s.items)?0:s.items.reduce((u,l)=>{const f=r?.find(h=>h.id===l.supplyId)?.cost||0;return u+f*l.amount},0)};return z.useEffect(()=>{const o=t.length,s={};let u=0,l=0,c=0,f=0,h=0;t.forEach(v=>{v.stage&&(s[v.stage]=(s[v.stage]||0)+1),v.wetYield&&(u+=parseFloat(v.wetYield),c++),v.dryYield&&(l+=parseFloat(v.dryYield),f++);const g=v.recipeId?a(v.recipeId):parseFloat(v.cost||0);h+=g}),i({total:o,byStage:s,avgWet:c?(u/c).toFixed(2):0,avgDry:f?(l/f).toFixed(2):0,totalCost:h.toFixed(2)})},[t,e,r]),k.jsxs("div",{className:"p-4 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-white rounded-2xl shadow space-y-4 mb-6",children:[k.jsx("h2",{className:"text-xl font-bold",children:" Dashboard Stats"}),k.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[k.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-800 p-4 rounded-xl shadow-sm space-y-1",children:[k.jsx("h3",{className:"text-sm font-semibold text-zinc-500 dark:text-zinc-400",children:"Total Grows"}),k.jsx("p",{className:"text-2xl font-bold",children:n.total})]}),k.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-800 p-4 rounded-xl shadow-sm space-y-1",children:[k.jsx("h3",{className:"text-sm font-semibold text-zinc-500 dark:text-zinc-400",children:"Avg Wet Yield"}),k.jsx("p",{className:"text-2xl font-bold",children:n.avgWet})]}),k.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-800 p-4 rounded-xl shadow-sm space-y-1",children:[k.jsx("h3",{className:"text-sm font-semibold text-zinc-500 dark:text-zinc-400",children:"Avg Dry Yield"}),k.jsx("p",{className:"text-2xl font-bold",children:n.avgDry})]}),k.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-800 p-4 rounded-xl shadow-sm space-y-1",children:[k.jsx("h3",{className:"text-sm font-semibold text-zinc-500 dark:text-zinc-400",children:"Total Cost"}),k.jsxs("p",{className:"text-2xl font-bold",children:["$",n.totalCost]})]})]}),k.jsxs("div",{children:[k.jsx("h4",{className:"text-sm font-semibold text-zinc-600 dark:text-zinc-400 mb-2",children:"By Stage"}),k.jsx("ul",{className:"text-sm space-y-1",children:Object.entries(n.byStage).map(([o,s])=>k.jsxs("li",{className:"flex justify-between",children:[k.jsx("span",{children:o}),k.jsx("span",{className:"font-medium",children:s})]},o))})]})]})}function yAe(){const[t,e]=z.useState([]),[r,n]=z.useState({name:"",description:"",genetics:"",notes:"",photoURL:""}),[i,a]=z.useState(null),[o,s]=z.useState(null),u=async()=>{const m=ut.currentUser;if(!m)return;const _=await Ci(Qt(Ke,"users",m.uid,"strains"));e(_.docs.map(b=>({id:b.id,...b.data()})))};z.useEffect(()=>{u()},[]);const l=m=>{n({...r,[m.target.name]:m.target.value})},c=m=>{a(m.target.files[0])},f=async()=>{if(!i)return"";const m=UU(),_=$U(m,`strains/${ut.currentUser.uid}/${Date.now()}_${i.name}`);return await FU(_,i),await BU(_)},h=async m=>{m.preventDefault();const _=ut.currentUser;if(!_)return;let b=r.photoURL;i&&(b=await f());const E={...r,photoURL:b,updatedAt:qp()};o?await Zi(er(Ke,"users",_.uid,"strains",o),E):await Ji(Qt(Ke,"users",_.uid,"strains"),{...E,createdAt:qp()}),n({name:"",description:"",genetics:"",notes:"",photoURL:""}),a(null),s(null),u()},v=m=>{n(m),s(m.id)},g=async m=>{const _=ut.currentUser;_&&(await t0(er(Ke,"users",_.uid,"strains",m)),u())};return k.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[k.jsxs("form",{onSubmit:h,className:"bg-white dark:bg-gray-800 p-4 rounded shadow space-y-4",children:[k.jsx("h2",{className:"text-xl font-bold",children:o?"Edit Strain":"Add Strain"}),k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[k.jsx("input",{name:"name",placeholder:"Strain Name",value:r.name,onChange:l,required:!0,className:"p-2 rounded border dark:bg-gray-900 dark:border-gray-700"}),k.jsx("input",{name:"genetics",placeholder:"Genetics (e.g. P. cubensis GT)",value:r.genetics,onChange:l,className:"p-2 rounded border dark:bg-gray-900 dark:border-gray-700"}),k.jsx("input",{name:"description",placeholder:"Short Description",value:r.description,onChange:l,className:"p-2 rounded border dark:bg-gray-900 dark:border-gray-700 col-span-2"}),k.jsx("textarea",{name:"notes",placeholder:"Notes",value:r.notes,onChange:l,className:"p-2 rounded border dark:bg-gray-900 dark:border-gray-700 col-span-2"}),k.jsx("input",{type:"file",accept:"image/*",onChange:c,className:"col-span-2"})]}),k.jsxs("button",{type:"submit",className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:[k.jsx(bne,{className:"w-4 h-4"}),o?"Update Strain":"Add Strain"]})]}),k.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(m=>k.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded shadow p-4 space-y-2 relative",children:[m.photoURL&&k.jsx("img",{src:m.photoURL,alt:m.name,className:"w-full h-40 object-cover rounded"}),k.jsx("h3",{className:"text-lg font-bold",children:m.name}),k.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:m.genetics}),k.jsx("p",{className:"text-sm",children:m.description}),k.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:m.notes}),k.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[k.jsx("button",{onClick:()=>v(m),className:"text-blue-500 hover:text-blue-700",children:k.jsx(qU,{className:"w-4 h-4"})}),k.jsx("button",{onClick:()=>g(m.id),className:"text-red-500 hover:text-red-700",children:k.jsx($f,{className:"w-4 h-4"})})]})]},m.id))})]})}var lm={},Wh={},cm={},sF;function ta(){if(sF)return cm;sF=1,Object.defineProperty(cm,"__esModule",{value:!0});function t(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}var e=function r(n,i){t(this,r),this.data=n,this.text=i.text||n,this.options=i};return cm.default=e,cm}var uF;function _Ae(){if(uF)return Wh;uF=1,Object.defineProperty(Wh,"__esModule",{value:!0}),Wh.CODE39=void 0;var t=function(){function m(_,b){for(var E=0;E<b.length;E++){var A=b[E];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,A.key,A)}}return function(_,b,E){return b&&m(_.prototype,b),E&&m(_,E),_}}(),e=ta(),r=n(e);function n(m){return m&&m.__esModule?m:{default:m}}function i(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function a(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:m}function o(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}var s=function(m){o(_,m);function _(b,E){return i(this,_),b=b.toUpperCase(),E.mod43&&(b+=h(g(b))),a(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,b,E))}return t(_,[{key:"encode",value:function(){for(var E=c("*"),A=0;A<this.data.length;A++)E+=c(this.data[A])+"0";return E+=c("*"),{data:E,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),_}(r.default),u=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],l=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function c(m){return f(v(m))}function f(m){return l[m].toString(2)}function h(m){return u[m]}function v(m){return u.indexOf(m)}function g(m){for(var _=0,b=0;b<m.length;b++)_+=v(m[b]);return _=_%43,_}return Wh.CODE39=s,Wh}var Wa={},fm={},dm={},Cr={},lF;function y0(){if(lF)return Cr;lF=1,Object.defineProperty(Cr,"__esModule",{value:!0});var t;function e(u,l,c){return l in u?Object.defineProperty(u,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):u[l]=c,u}var r=Cr.SET_A=0,n=Cr.SET_B=1,i=Cr.SET_C=2;Cr.SHIFT=98;var a=Cr.START_A=103,o=Cr.START_B=104,s=Cr.START_C=105;return Cr.MODULO=103,Cr.STOP=106,Cr.FNC1=207,Cr.SET_BY_CODE=(t={},e(t,a,r),e(t,o,n),e(t,s,i),t),Cr.SWAP={101:r,100:n,99:i},Cr.A_START_CHAR="",Cr.B_START_CHAR="",Cr.C_START_CHAR="",Cr.A_CHARS="[\0-_-]",Cr.B_CHARS="[ --]",Cr.C_CHARS="(*[0-9]{2}*)",Cr.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011],Cr}var cF;function xw(){if(cF)return dm;cF=1,Object.defineProperty(dm,"__esModule",{value:!0});var t=function(){function l(c,f){for(var h=0;h<f.length;h++){var v=f[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,v.key,v)}}return function(c,f,h){return f&&l(c.prototype,f),h&&l(c,h),c}}(),e=ta(),r=i(e),n=y0();function i(l){return l&&l.__esModule?l:{default:l}}function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function o(l,c){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:l}function s(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(l,c):l.__proto__=c)}var u=function(l){s(c,l);function c(f,h){a(this,c);var v=o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,f.substring(1),h));return v.bytes=f.split("").map(function(g){return g.charCodeAt(0)}),v}return t(c,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var h=this.bytes,v=h.shift()-105,g=n.SET_BY_CODE[v];if(g===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&h.unshift(n.FNC1);var m=c.next(h,1,g);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:c.getBar(v)+m.result+c.getBar((m.checksum+v)%n.MODULO)+c.getBar(n.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var h=this.options.ean128||!1;return typeof h=="string"&&(h=h.toLowerCase()==="true"),h}}],[{key:"getBar",value:function(h){return n.BARS[h]?n.BARS[h].toString():""}},{key:"correctIndex",value:function(h,v){if(v===n.SET_A){var g=h.shift();return g<32?g+64:g-32}else return v===n.SET_B?h.shift()-32:(h.shift()-48)*10+h.shift()-48}},{key:"next",value:function(h,v,g){if(!h.length)return{result:"",checksum:0};var m=void 0,_=void 0;if(h[0]>=200){_=h.shift()-105;var b=n.SWAP[_];b!==void 0?m=c.next(h,v+1,b):((g===n.SET_A||g===n.SET_B)&&_===n.SHIFT&&(h[0]=g===n.SET_A?h[0]>95?h[0]-96:h[0]:h[0]<32?h[0]+96:h[0]),m=c.next(h,v+1,g))}else _=c.correctIndex(h,g),m=c.next(h,v+1,g);var E=c.getBar(_),A=_*v;return{result:E+m.result,checksum:A+m.checksum}}}]),c}(r.default);return dm.default=u,dm}var hm={},fF;function wAe(){if(fF)return hm;fF=1,Object.defineProperty(hm,"__esModule",{value:!0});var t=y0(),e=function(s){return s.match(new RegExp("^"+t.A_CHARS+"*"))[0].length},r=function(s){return s.match(new RegExp("^"+t.B_CHARS+"*"))[0].length},n=function(s){return s.match(new RegExp("^"+t.C_CHARS+"*"))[0]};function i(o,s){var u=s?t.A_CHARS:t.B_CHARS,l=o.match(new RegExp("^("+u+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(l)return l[1]+""+a(o.substring(l[1].length));var c=o.match(new RegExp("^"+u+"+"))[0];return c.length===o.length?o:c+String.fromCharCode(s?205:206)+i(o.substring(c.length),!s)}function a(o){var s=n(o),u=s.length;if(u===o.length)return o;o=o.substring(u);var l=e(o)>=r(o);return s+String.fromCharCode(l?206:205)+i(o,l)}return hm.default=function(o){var s=void 0,u=n(o).length;if(u>=2)s=t.C_START_CHAR+a(o);else{var l=e(o)>r(o);s=(l?t.A_START_CHAR:t.B_START_CHAR)+i(o,l)}return s.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(c,f){return""+f})},hm}var dF;function xAe(){if(dF)return fm;dF=1,Object.defineProperty(fm,"__esModule",{value:!0});var t=xw(),e=i(t),r=wAe(),n=i(r);function i(l){return l&&l.__esModule?l:{default:l}}function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function o(l,c){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:l}function s(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(l,c):l.__proto__=c)}var u=function(l){s(c,l);function c(f,h){if(a(this,c),/^[\x00-\x7F\xC8-\xD3]+$/.test(f))var v=o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,(0,n.default)(f),h));else var v=o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,f,h));return o(v)}return c}(e.default);return fm.default=u,fm}var pm={},hF;function bAe(){if(hF)return pm;hF=1,Object.defineProperty(pm,"__esModule",{value:!0});var t=function(){function l(c,f){for(var h=0;h<f.length;h++){var v=f[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,v.key,v)}}return function(c,f,h){return f&&l(c.prototype,f),h&&l(c,h),c}}(),e=xw(),r=i(e),n=y0();function i(l){return l&&l.__esModule?l:{default:l}}function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function o(l,c){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:l}function s(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(l,c):l.__proto__=c)}var u=function(l){s(c,l);function c(f,h){return a(this,c),o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,n.A_START_CHAR+f,h))}return t(c,[{key:"valid",value:function(){return new RegExp("^"+n.A_CHARS+"+$").test(this.data)}}]),c}(r.default);return pm.default=u,pm}var vm={},pF;function EAe(){if(pF)return vm;pF=1,Object.defineProperty(vm,"__esModule",{value:!0});var t=function(){function l(c,f){for(var h=0;h<f.length;h++){var v=f[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,v.key,v)}}return function(c,f,h){return f&&l(c.prototype,f),h&&l(c,h),c}}(),e=xw(),r=i(e),n=y0();function i(l){return l&&l.__esModule?l:{default:l}}function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function o(l,c){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:l}function s(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(l,c):l.__proto__=c)}var u=function(l){s(c,l);function c(f,h){return a(this,c),o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,n.B_START_CHAR+f,h))}return t(c,[{key:"valid",value:function(){return new RegExp("^"+n.B_CHARS+"+$").test(this.data)}}]),c}(r.default);return vm.default=u,vm}var gm={},vF;function AAe(){if(vF)return gm;vF=1,Object.defineProperty(gm,"__esModule",{value:!0});var t=function(){function l(c,f){for(var h=0;h<f.length;h++){var v=f[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,v.key,v)}}return function(c,f,h){return f&&l(c.prototype,f),h&&l(c,h),c}}(),e=xw(),r=i(e),n=y0();function i(l){return l&&l.__esModule?l:{default:l}}function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function o(l,c){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:l}function s(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(l,c):l.__proto__=c)}var u=function(l){s(c,l);function c(f,h){return a(this,c),o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,n.C_START_CHAR+f,h))}return t(c,[{key:"valid",value:function(){return new RegExp("^"+n.C_CHARS+"+$").test(this.data)}}]),c}(r.default);return gm.default=u,gm}var gF;function SAe(){if(gF)return Wa;gF=1,Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.CODE128C=Wa.CODE128B=Wa.CODE128A=Wa.CODE128=void 0;var t=xAe(),e=u(t),r=bAe(),n=u(r),i=EAe(),a=u(i),o=AAe(),s=u(o);function u(l){return l&&l.__esModule?l:{default:l}}return Wa.CODE128=e.default,Wa.CODE128A=n.default,Wa.CODE128B=a.default,Wa.CODE128C=s.default,Wa}var ai={},mm={},rs={},mF;function _0(){return mF||(mF=1,Object.defineProperty(rs,"__esModule",{value:!0}),rs.SIDE_BIN="101",rs.MIDDLE_BIN="01010",rs.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},rs.EAN2_STRUCTURE=["LL","LG","GL","GG"],rs.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],rs.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]),rs}var ym={},_m={},yF;function w0(){if(yF)return _m;yF=1,Object.defineProperty(_m,"__esModule",{value:!0});var t=_0(),e=function(n,i,a){var o=n.split("").map(function(u,l){return t.BINARIES[i[l]]}).map(function(u,l){return u?u[n[l]]:""});if(a){var s=n.length-1;o=o.map(function(u,l){return l<s?u+a:u})}return o.join("")};return _m.default=e,_m}var _F;function SH(){if(_F)return ym;_F=1,Object.defineProperty(ym,"__esModule",{value:!0});var t=function(){function f(h,v){for(var g=0;g<v.length;g++){var m=v[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}return function(h,v,g){return v&&f(h.prototype,v),g&&f(h,g),h}}(),e=_0(),r=w0(),n=o(r),i=ta(),a=o(i);function o(f){return f&&f.__esModule?f:{default:f}}function s(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function u(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function l(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var c=function(f){l(h,f);function h(v,g){s(this,h);var m=u(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,v,g));return m.fontSize=!g.flat&&g.fontSize>g.width*10?g.width*10:g.fontSize,m.guardHeight=g.height+m.fontSize/2+g.textMargin,m}return t(h,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(g,m){return this.text.substr(g,m)}},{key:"leftEncode",value:function(g,m){return(0,n.default)(g,m)}},{key:"rightText",value:function(g,m){return this.text.substr(g,m)}},{key:"rightEncode",value:function(g,m){return(0,n.default)(g,m)}},{key:"encodeGuarded",value:function(){var g={fontSize:this.fontSize},m={height:this.guardHeight};return[{data:e.SIDE_BIN,options:m},{data:this.leftEncode(),text:this.leftText(),options:g},{data:e.MIDDLE_BIN,options:m},{data:this.rightEncode(),text:this.rightText(),options:g},{data:e.SIDE_BIN,options:m}]}},{key:"encodeFlat",value:function(){var g=[e.SIDE_BIN,this.leftEncode(),e.MIDDLE_BIN,this.rightEncode(),e.SIDE_BIN];return{data:g.join(""),text:this.text}}}]),h}(a.default);return ym.default=c,ym}var wF;function OAe(){if(wF)return mm;wF=1,Object.defineProperty(mm,"__esModule",{value:!0});var t=function(){function f(h,v){for(var g=0;g<v.length;g++){var m=v[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}return function(h,v,g){return v&&f(h.prototype,v),g&&f(h,g),h}}(),e=function f(h,v,g){h===null&&(h=Function.prototype);var m=Object.getOwnPropertyDescriptor(h,v);if(m===void 0){var _=Object.getPrototypeOf(h);return _===null?void 0:f(_,v,g)}else{if("value"in m)return m.value;var b=m.get;return b===void 0?void 0:b.call(g)}},r=_0(),n=SH(),i=a(n);function a(f){return f&&f.__esModule?f:{default:f}}function o(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function s(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function u(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var l=function(h){var v=h.substr(0,12).split("").map(function(g){return+g}).reduce(function(g,m,_){return _%2?g+m*3:g+m},0);return(10-v%10)%10},c=function(f){u(h,f);function h(v,g){o(this,h),v.search(/^[0-9]{12}$/)!==-1&&(v+=l(v));var m=s(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,v,g));return m.lastChar=g.lastChar,m}return t(h,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===l(this.data)}},{key:"leftText",value:function(){return e(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var g=this.data.substr(1,6),m=r.EAN13_STRUCTURE[this.data[0]];return e(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"leftEncode",this).call(this,g,m)}},{key:"rightText",value:function(){return e(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var g=this.data.substr(7,6);return e(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"rightEncode",this).call(this,g,"RRRRRR")}},{key:"encodeGuarded",value:function(){var g=e(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(g.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(g.push({data:"00"}),g.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),g}}]),h}(i.default);return mm.default=c,mm}var wm={},xF;function TAe(){if(xF)return wm;xF=1,Object.defineProperty(wm,"__esModule",{value:!0});var t=function(){function c(f,h){for(var v=0;v<h.length;v++){var g=h[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(f,h,v){return h&&c(f.prototype,h),v&&c(f,v),f}}(),e=function c(f,h,v){f===null&&(f=Function.prototype);var g=Object.getOwnPropertyDescriptor(f,h);if(g===void 0){var m=Object.getPrototypeOf(f);return m===null?void 0:c(m,h,v)}else{if("value"in g)return g.value;var _=g.get;return _===void 0?void 0:_.call(v)}},r=SH(),n=i(r);function i(c){return c&&c.__esModule?c:{default:c}}function a(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function o(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:c}function s(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}var u=function(f){var h=f.substr(0,7).split("").map(function(v){return+v}).reduce(function(v,g,m){return m%2?v+g:v+g*3},0);return(10-h%10)%10},l=function(c){s(f,c);function f(h,v){return a(this,f),h.search(/^[0-9]{7}$/)!==-1&&(h+=u(h)),o(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,h,v))}return t(f,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===u(this.data)}},{key:"leftText",value:function(){return e(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var v=this.data.substr(0,4);return e(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"leftEncode",this).call(this,v,"LLLL")}},{key:"rightText",value:function(){return e(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var v=this.data.substr(4,4);return e(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"rightEncode",this).call(this,v,"RRRR")}}]),f}(n.default);return wm.default=l,wm}var xm={},bF;function CAe(){if(bF)return xm;bF=1,Object.defineProperty(xm,"__esModule",{value:!0});var t=function(){function h(v,g){for(var m=0;m<g.length;m++){var _=g[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(v,_.key,_)}}return function(v,g,m){return g&&h(v.prototype,g),m&&h(v,m),v}}(),e=_0(),r=w0(),n=o(r),i=ta(),a=o(i);function o(h){return h&&h.__esModule?h:{default:h}}function s(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}function u(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:h}function l(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(h,v):h.__proto__=v)}var c=function(v){var g=v.split("").map(function(m){return+m}).reduce(function(m,_,b){return b%2?m+_*9:m+_*3},0);return g%10},f=function(h){l(v,h);function v(g,m){return s(this,v),u(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,g,m))}return t(v,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var m=e.EAN5_STRUCTURE[c(this.data)];return{data:"1011"+(0,n.default)(this.data,m,"01"),text:this.text}}}]),v}(a.default);return xm.default=f,xm}var bm={},EF;function IAe(){if(EF)return bm;EF=1,Object.defineProperty(bm,"__esModule",{value:!0});var t=function(){function f(h,v){for(var g=0;g<v.length;g++){var m=v[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}return function(h,v,g){return v&&f(h.prototype,v),g&&f(h,g),h}}(),e=_0(),r=w0(),n=o(r),i=ta(),a=o(i);function o(f){return f&&f.__esModule?f:{default:f}}function s(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function u(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function l(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var c=function(f){l(h,f);function h(v,g){return s(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,v,g))}return t(h,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var g=e.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,n.default)(this.data,g,"01"),text:this.text}}}]),h}(a.default);return bm.default=c,bm}var Hh={},AF;function OH(){if(AF)return Hh;AF=1,Object.defineProperty(Hh,"__esModule",{value:!0});var t=function(){function f(h,v){for(var g=0;g<v.length;g++){var m=v[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}return function(h,v,g){return v&&f(h.prototype,v),g&&f(h,g),h}}();Hh.checksum=c;var e=w0(),r=a(e),n=ta(),i=a(n);function a(f){return f&&f.__esModule?f:{default:f}}function o(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function s(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function u(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var l=function(f){u(h,f);function h(v,g){o(this,h),v.search(/^[0-9]{11}$/)!==-1&&(v+=c(v));var m=s(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,v,g));return m.displayValue=g.displayValue,g.fontSize>g.width*10?m.fontSize=g.width*10:m.fontSize=g.fontSize,m.guardHeight=g.height+m.fontSize/2+g.textMargin,m}return t(h,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==c(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var g="";return g+="101",g+=(0,r.default)(this.data.substr(0,6),"LLLLLL"),g+="01010",g+=(0,r.default)(this.data.substr(6,6),"RRRRRR"),g+="101",{data:g,text:this.text}}},{key:"guardedEncoding",value:function(){var g=[];return this.displayValue&&g.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),g.push({data:"101"+(0,r.default)(this.data[0],"L"),options:{height:this.guardHeight}}),g.push({data:(0,r.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),g.push({data:"01010",options:{height:this.guardHeight}}),g.push({data:(0,r.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),g.push({data:(0,r.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&g.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),g}}]),h}(i.default);function c(f){var h=0,v;for(v=1;v<11;v+=2)h+=parseInt(f[v]);for(v=0;v<11;v+=2)h+=parseInt(f[v])*3;return(10-h%10)%10}return Hh.default=l,Hh}var Em={},SF;function PAe(){if(SF)return Em;SF=1,Object.defineProperty(Em,"__esModule",{value:!0});var t=function(){function g(m,_){for(var b=0;b<_.length;b++){var E=_[b];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(m,E.key,E)}}return function(m,_,b){return _&&g(m.prototype,_),b&&g(m,b),m}}(),e=w0(),r=o(e),n=ta(),i=o(n),a=OH();function o(g){return g&&g.__esModule?g:{default:g}}function s(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function u(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function l(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var c=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],f=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],h=function(g){l(m,g);function m(_,b){s(this,m);var E=u(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,_,b));if(E.isValid=!1,_.search(/^[0-9]{6}$/)!==-1)E.middleDigits=_,E.upcA=v(_,"0"),E.text=b.text||""+E.upcA[0]+_+E.upcA[E.upcA.length-1],E.isValid=!0;else if(_.search(/^[01][0-9]{7}$/)!==-1)if(E.middleDigits=_.substring(1,_.length-1),E.upcA=v(E.middleDigits,_[0]),E.upcA[E.upcA.length-1]===_[_.length-1])E.isValid=!0;else return u(E);else return u(E);return E.displayValue=b.displayValue,b.fontSize>b.width*10?E.fontSize=b.width*10:E.fontSize=b.fontSize,E.guardHeight=b.height+E.fontSize/2+b.textMargin,E}return t(m,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var b="";return b+="101",b+=this.encodeMiddleDigits(),b+="010101",{data:b,text:this.text}}},{key:"guardedEncoding",value:function(){var b=[];return this.displayValue&&b.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),b.push({data:"101",options:{height:this.guardHeight}}),b.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),b.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&b.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),b}},{key:"encodeMiddleDigits",value:function(){var b=this.upcA[0],E=this.upcA[this.upcA.length-1],A=f[parseInt(E)][parseInt(b)];return(0,r.default)(this.middleDigits,A)}}]),m}(i.default);function v(g,m){for(var _=parseInt(g[g.length-1]),b=c[_],E="",A=0,C=0;C<b.length;C++){var O=b[C];O==="X"?E+=g[A++]:E+=O}return E=""+m+E,""+E+(0,a.checksum)(E)}return Em.default=h,Em}var OF;function RAe(){if(OF)return ai;OF=1,Object.defineProperty(ai,"__esModule",{value:!0}),ai.UPCE=ai.UPC=ai.EAN2=ai.EAN5=ai.EAN8=ai.EAN13=void 0;var t=OAe(),e=h(t),r=TAe(),n=h(r),i=CAe(),a=h(i),o=IAe(),s=h(o),u=OH(),l=h(u),c=PAe(),f=h(c);function h(v){return v&&v.__esModule?v:{default:v}}return ai.EAN13=e.default,ai.EAN8=n.default,ai.EAN5=a.default,ai.EAN2=s.default,ai.UPC=l.default,ai.UPCE=f.default,ai}var dl={},Am={},sf={},TF;function DAe(){return TF||(TF=1,Object.defineProperty(sf,"__esModule",{value:!0}),sf.START_BIN="1010",sf.END_BIN="11101",sf.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]),sf}var CF;function TH(){if(CF)return Am;CF=1,Object.defineProperty(Am,"__esModule",{value:!0});var t=function(){function l(c,f){for(var h=0;h<f.length;h++){var v=f[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,v.key,v)}}return function(c,f,h){return f&&l(c.prototype,f),h&&l(c,h),c}}(),e=DAe(),r=ta(),n=i(r);function i(l){return l&&l.__esModule?l:{default:l}}function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function o(l,c){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:l}function s(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(l,c):l.__proto__=c)}var u=function(l){s(c,l);function c(){return a(this,c),o(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return t(c,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var h=this,v=this.data.match(/.{2}/g).map(function(g){return h.encodePair(g)}).join("");return{data:e.START_BIN+v+e.END_BIN,text:this.text}}},{key:"encodePair",value:function(h){var v=e.BINARIES[h[1]];return e.BINARIES[h[0]].split("").map(function(g,m){return(g==="1"?"111":"1")+(v[m]==="1"?"000":"0")}).join("")}}]),c}(n.default);return Am.default=u,Am}var Sm={},IF;function NAe(){if(IF)return Sm;IF=1,Object.defineProperty(Sm,"__esModule",{value:!0});var t=function(){function l(c,f){for(var h=0;h<f.length;h++){var v=f[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,v.key,v)}}return function(c,f,h){return f&&l(c.prototype,f),h&&l(c,h),c}}(),e=TH(),r=n(e);function n(l){return l&&l.__esModule?l:{default:l}}function i(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function a(l,c){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:l}function o(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(l,c):l.__proto__=c)}var s=function(c){var f=c.substr(0,13).split("").map(function(h){return parseInt(h,10)}).reduce(function(h,v,g){return h+v*(3-g%2*2)},0);return Math.ceil(f/10)*10-f},u=function(l){o(c,l);function c(f,h){return i(this,c),f.search(/^[0-9]{13}$/)!==-1&&(f+=s(f)),a(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,f,h))}return t(c,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===s(this.data)}}]),c}(r.default);return Sm.default=u,Sm}var PF;function kAe(){if(PF)return dl;PF=1,Object.defineProperty(dl,"__esModule",{value:!0}),dl.ITF14=dl.ITF=void 0;var t=TH(),e=i(t),r=NAe(),n=i(r);function i(a){return a&&a.__esModule?a:{default:a}}return dl.ITF=e.default,dl.ITF14=n.default,dl}var Ui={},Om={},RF;function x0(){if(RF)return Om;RF=1,Object.defineProperty(Om,"__esModule",{value:!0});var t=function(){function l(c,f){for(var h=0;h<f.length;h++){var v=f[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,v.key,v)}}return function(c,f,h){return f&&l(c.prototype,f),h&&l(c,h),c}}(),e=ta(),r=n(e);function n(l){return l&&l.__esModule?l:{default:l}}function i(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function a(l,c){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:l}function o(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(l,c):l.__proto__=c)}var s=function(l){o(c,l);function c(f,h){return i(this,c),a(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,f,h))}return t(c,[{key:"encode",value:function(){for(var h="110",v=0;v<this.data.length;v++){var g=parseInt(this.data[v]),m=g.toString(2);m=u(m,4-m.length);for(var _=0;_<m.length;_++)h+=m[_]=="0"?"100":"110"}return h+="1001",{data:h,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),c}(r.default);function u(l,c){for(var f=0;f<c;f++)l="0"+l;return l}return Om.default=s,Om}var Tm={},Gh={},DF;function bw(){if(DF)return Gh;DF=1,Object.defineProperty(Gh,"__esModule",{value:!0}),Gh.mod10=t,Gh.mod11=e;function t(r){for(var n=0,i=0;i<r.length;i++){var a=parseInt(r[i]);(i+r.length)%2===0?n+=a:n+=a*2%10+Math.floor(a*2/10)}return(10-n%10)%10}function e(r){for(var n=0,i=[2,3,4,5,6,7],a=0;a<r.length;a++){var o=parseInt(r[r.length-1-a]);n+=i[a%i.length]*o}return(11-n%11)%11}return Gh}var NF;function MAe(){if(NF)return Tm;NF=1,Object.defineProperty(Tm,"__esModule",{value:!0});var t=x0(),e=n(t),r=bw();function n(u){return u&&u.__esModule?u:{default:u}}function i(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function a(u,l){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:u}function o(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(u,l):u.__proto__=l)}var s=function(u){o(l,u);function l(c,f){return i(this,l),a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,c+(0,r.mod10)(c),f))}return l}(e.default);return Tm.default=s,Tm}var Cm={},kF;function LAe(){if(kF)return Cm;kF=1,Object.defineProperty(Cm,"__esModule",{value:!0});var t=x0(),e=n(t),r=bw();function n(u){return u&&u.__esModule?u:{default:u}}function i(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function a(u,l){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:u}function o(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(u,l):u.__proto__=l)}var s=function(u){o(l,u);function l(c,f){return i(this,l),a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,c+(0,r.mod11)(c),f))}return l}(e.default);return Cm.default=s,Cm}var Im={},MF;function jAe(){if(MF)return Im;MF=1,Object.defineProperty(Im,"__esModule",{value:!0});var t=x0(),e=n(t),r=bw();function n(u){return u&&u.__esModule?u:{default:u}}function i(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function a(u,l){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:u}function o(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(u,l):u.__proto__=l)}var s=function(u){o(l,u);function l(c,f){return i(this,l),c+=(0,r.mod10)(c),c+=(0,r.mod10)(c),a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,c,f))}return l}(e.default);return Im.default=s,Im}var Pm={},LF;function FAe(){if(LF)return Pm;LF=1,Object.defineProperty(Pm,"__esModule",{value:!0});var t=x0(),e=n(t),r=bw();function n(u){return u&&u.__esModule?u:{default:u}}function i(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function a(u,l){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:u}function o(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(u,l):u.__proto__=l)}var s=function(u){o(l,u);function l(c,f){return i(this,l),c+=(0,r.mod11)(c),c+=(0,r.mod10)(c),a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,c,f))}return l}(e.default);return Pm.default=s,Pm}var jF;function BAe(){if(jF)return Ui;jF=1,Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.MSI1110=Ui.MSI1010=Ui.MSI11=Ui.MSI10=Ui.MSI=void 0;var t=x0(),e=c(t),r=MAe(),n=c(r),i=LAe(),a=c(i),o=jAe(),s=c(o),u=FAe(),l=c(u);function c(f){return f&&f.__esModule?f:{default:f}}return Ui.MSI=e.default,Ui.MSI10=n.default,Ui.MSI11=a.default,Ui.MSI1010=s.default,Ui.MSI1110=l.default,Ui}var Kh={},FF;function $Ae(){if(FF)return Kh;FF=1,Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.pharmacode=void 0;var t=function(){function u(l,c){for(var f=0;f<c.length;f++){var h=c[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,f){return c&&u(l.prototype,c),f&&u(l,f),l}}(),e=ta(),r=n(e);function n(u){return u&&u.__esModule?u:{default:u}}function i(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function a(u,l){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:u}function o(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(u,l):u.__proto__=l)}var s=function(u){o(l,u);function l(c,f){i(this,l);var h=a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,c,f));return h.number=parseInt(c,10),h}return t(l,[{key:"encode",value:function(){for(var f=this.number,h="";!isNaN(f)&&f!=0;)f%2===0?(h="11100"+h,f=(f-2)/2):(h="100"+h,f=(f-1)/2);return h=h.slice(0,-2),{data:h,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),l}(r.default);return Kh.pharmacode=s,Kh}var Xh={},BF;function UAe(){if(BF)return Xh;BF=1,Object.defineProperty(Xh,"__esModule",{value:!0}),Xh.codabar=void 0;var t=function(){function u(l,c){for(var f=0;f<c.length;f++){var h=c[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,f){return c&&u(l.prototype,c),f&&u(l,f),l}}(),e=ta(),r=n(e);function n(u){return u&&u.__esModule?u:{default:u}}function i(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function a(u,l){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:u}function o(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(u,l):u.__proto__=l)}var s=function(u){o(l,u);function l(c,f){i(this,l),c.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(c="A"+c+"A");var h=a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,c.toUpperCase(),f));return h.text=h.options.text||h.text.replace(/[A-D]/g,""),h}return t(l,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var f=[],h=this.getEncodings(),v=0;v<this.data.length;v++)f.push(h[this.data.charAt(v)]),v!==this.data.length-1&&f.push("0");return{text:this.text,data:f.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),l}(r.default);return Xh.codabar=s,Xh}var hl={},Rm={},uf={},$F;function VAe(){return $F||($F=1,Object.defineProperty(uf,"__esModule",{value:!0}),uf.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""],uf.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],uf.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]}),uf}var UF;function CH(){if(UF)return Rm;UF=1,Object.defineProperty(Rm,"__esModule",{value:!0});var t=function(){function l(c,f){for(var h=0;h<f.length;h++){var v=f[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,v.key,v)}}return function(c,f,h){return f&&l(c.prototype,f),h&&l(c,h),c}}(),e=VAe(),r=ta(),n=i(r);function i(l){return l&&l.__esModule?l:{default:l}}function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function o(l,c){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:l}function s(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(l,c):l.__proto__=c)}var u=function(l){s(c,l);function c(f,h){return a(this,c),o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,f,h))}return t(c,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var h=this.data.split("").flatMap(function(_){return e.MULTI_SYMBOLS[_]||_}),v=h.map(function(_){return c.getEncoding(_)}).join(""),g=c.checksum(h,20),m=c.checksum(h.concat(g),15);return{text:this.text,data:c.getEncoding("")+v+c.getEncoding(g)+c.getEncoding(m)+c.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(h){return e.BINARIES[c.symbolValue(h)]}},{key:"getSymbol",value:function(h){return e.SYMBOLS[h]}},{key:"symbolValue",value:function(h){return e.SYMBOLS.indexOf(h)}},{key:"checksum",value:function(h,v){var g=h.slice().reverse().reduce(function(m,_,b){var E=b%v+1;return m+c.symbolValue(_)*E},0);return c.getSymbol(g%47)}}]),c}(n.default);return Rm.default=u,Rm}var Dm={},VF;function qAe(){if(VF)return Dm;VF=1,Object.defineProperty(Dm,"__esModule",{value:!0});var t=function(){function u(l,c){for(var f=0;f<c.length;f++){var h=c[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,f){return c&&u(l.prototype,c),f&&u(l,f),l}}(),e=CH(),r=n(e);function n(u){return u&&u.__esModule?u:{default:u}}function i(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function a(u,l){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:u}function o(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(u,l):u.__proto__=l)}var s=function(u){o(l,u);function l(c,f){return i(this,l),a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,c,f))}return t(l,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),l}(r.default);return Dm.default=s,Dm}var qF;function zAe(){if(qF)return hl;qF=1,Object.defineProperty(hl,"__esModule",{value:!0}),hl.CODE93FullASCII=hl.CODE93=void 0;var t=CH(),e=i(t),r=qAe(),n=i(r);function i(a){return a&&a.__esModule?a:{default:a}}return hl.CODE93=e.default,hl.CODE93FullASCII=n.default,hl}var Yh={},zF;function WAe(){if(zF)return Yh;zF=1,Object.defineProperty(Yh,"__esModule",{value:!0}),Yh.GenericBarcode=void 0;var t=function(){function u(l,c){for(var f=0;f<c.length;f++){var h=c[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,f){return c&&u(l.prototype,c),f&&u(l,f),l}}(),e=ta(),r=n(e);function n(u){return u&&u.__esModule?u:{default:u}}function i(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function a(u,l){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:u}function o(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(u,l):u.__proto__=l)}var s=function(u){o(l,u);function l(c,f){return i(this,l),a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,c,f))}return t(l,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),l}(r.default);return Yh.GenericBarcode=s,Yh}var WF;function HAe(){if(WF)return lm;WF=1,Object.defineProperty(lm,"__esModule",{value:!0});var t=_Ae(),e=SAe(),r=RAe(),n=kAe(),i=BAe(),a=$Ae(),o=UAe(),s=zAe(),u=WAe();return lm.default={CODE39:t.CODE39,CODE128:e.CODE128,CODE128A:e.CODE128A,CODE128B:e.CODE128B,CODE128C:e.CODE128C,EAN13:r.EAN13,EAN8:r.EAN8,EAN5:r.EAN5,EAN2:r.EAN2,UPC:r.UPC,UPCE:r.UPCE,ITF14:n.ITF14,ITF:n.ITF,MSI:i.MSI,MSI10:i.MSI10,MSI11:i.MSI11,MSI1010:i.MSI1010,MSI1110:i.MSI1110,pharmacode:a.pharmacode,codabar:o.codabar,CODE93:s.CODE93,CODE93FullASCII:s.CODE93FullASCII,GenericBarcode:u.GenericBarcode},lm}var Nm={},HF;function Ew(){if(HF)return Nm;HF=1,Object.defineProperty(Nm,"__esModule",{value:!0});var t=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return Nm.default=function(e,r){return t({},e,r)},Nm}var km={},GF;function GAe(){if(GF)return km;GF=1,Object.defineProperty(km,"__esModule",{value:!0}),km.default=t;function t(e){var r=[];function n(i){if(Array.isArray(i))for(var a=0;a<i.length;a++)n(i[a]);else i.text=i.text||"",i.data=i.data||"",r.push(i)}return n(e),r}return km}var Mm={},KF;function KAe(){if(KF)return Mm;KF=1,Object.defineProperty(Mm,"__esModule",{value:!0}),Mm.default=t;function t(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}return Mm}var Lm={},jm={},Fm={},XF;function IH(){if(XF)return Fm;XF=1,Object.defineProperty(Fm,"__esModule",{value:!0}),Fm.default=t;function t(e){var r=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in r)r.hasOwnProperty(n)&&(n=r[n],typeof e[n]=="string"&&(e[n]=parseInt(e[n],10)));return typeof e.displayValue=="string"&&(e.displayValue=e.displayValue!="false"),e}return Fm}var Bm={},YF;function PH(){if(YF)return Bm;YF=1,Object.defineProperty(Bm,"__esModule",{value:!0});var t={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};return Bm.default=t,Bm}var QF;function XAe(){if(QF)return jm;QF=1,Object.defineProperty(jm,"__esModule",{value:!0});var t=IH(),e=i(t),r=PH(),n=i(r);function i(o){return o&&o.__esModule?o:{default:o}}function a(o){var s={};for(var u in n.default)n.default.hasOwnProperty(u)&&(o.hasAttribute("jsbarcode-"+u.toLowerCase())&&(s[u]=o.getAttribute("jsbarcode-"+u.toLowerCase())),o.hasAttribute("data-"+u.toLowerCase())&&(s[u]=o.getAttribute("data-"+u.toLowerCase())));return s.value=o.getAttribute("jsbarcode-value")||o.getAttribute("data-value"),s=(0,e.default)(s),s}return jm.default=a,jm}var $m={},Um={},Vi={},ZF;function RH(){if(ZF)return Vi;ZF=1,Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.getTotalWidthOfEncodings=Vi.calculateEncodingAttributes=Vi.getBarcodePadding=Vi.getEncodingHeight=Vi.getMaximumHeightOfEncodings=void 0;var t=Ew(),e=r(t);function r(l){return l&&l.__esModule?l:{default:l}}function n(l,c){return c.height+(c.displayValue&&l.text.length>0?c.fontSize+c.textMargin:0)+c.marginTop+c.marginBottom}function i(l,c,f){if(f.displayValue&&c<l){if(f.textAlign=="center")return Math.floor((l-c)/2);if(f.textAlign=="left")return 0;if(f.textAlign=="right")return Math.floor(l-c)}return 0}function a(l,c,f){for(var h=0;h<l.length;h++){var v=l[h],g=(0,e.default)(c,v.options),m;g.displayValue?m=u(v.text,g,f):m=0;var _=v.data.length*g.width;v.width=Math.ceil(Math.max(m,_)),v.height=n(v,g),v.barcodePadding=i(m,_,g)}}function o(l){for(var c=0,f=0;f<l.length;f++)c+=l[f].width;return c}function s(l){for(var c=0,f=0;f<l.length;f++)l[f].height>c&&(c=l[f].height);return c}function u(l,c,f){var h;if(f)h=f;else if(typeof document<"u")h=document.createElement("canvas").getContext("2d");else return 0;h.font=c.fontOptions+" "+c.fontSize+"px "+c.font;var v=h.measureText(l);if(!v)return 0;var g=v.width;return g}return Vi.getMaximumHeightOfEncodings=s,Vi.getEncodingHeight=n,Vi.getBarcodePadding=i,Vi.calculateEncodingAttributes=a,Vi.getTotalWidthOfEncodings=o,Vi}var JF;function YAe(){if(JF)return Um;JF=1,Object.defineProperty(Um,"__esModule",{value:!0});var t=function(){function s(u,l){for(var c=0;c<l.length;c++){var f=l[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,l,c){return l&&s(u.prototype,l),c&&s(u,c),u}}(),e=Ew(),r=i(e),n=RH();function i(s){return s&&s.__esModule?s:{default:s}}function a(s,u){if(!(s instanceof u))throw new TypeError("Cannot call a class as a function")}var o=function(){function s(u,l,c){a(this,s),this.canvas=u,this.encodings=l,this.options=c}return t(s,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var l=0;l<this.encodings.length;l++){var c=(0,r.default)(this.options,this.encodings[l].options);this.drawCanvasBarcode(c,this.encodings[l]),this.drawCanvasText(c,this.encodings[l]),this.moveCanvasDrawing(this.encodings[l])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var l=this.canvas.getContext("2d");l.save(),(0,n.calculateEncodingAttributes)(this.encodings,this.options,l);var c=(0,n.getTotalWidthOfEncodings)(this.encodings),f=(0,n.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=c+this.options.marginLeft+this.options.marginRight,this.canvas.height=f,l.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(l.fillStyle=this.options.background,l.fillRect(0,0,this.canvas.width,this.canvas.height)),l.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(l,c){var f=this.canvas.getContext("2d"),h=c.data,v;l.textPosition=="top"?v=l.marginTop+l.fontSize+l.textMargin:v=l.marginTop,f.fillStyle=l.lineColor;for(var g=0;g<h.length;g++){var m=g*l.width+c.barcodePadding;h[g]==="1"?f.fillRect(m,v,l.width,l.height):h[g]&&f.fillRect(m,v,l.width,l.height*h[g])}}},{key:"drawCanvasText",value:function(l,c){var f=this.canvas.getContext("2d"),h=l.fontOptions+" "+l.fontSize+"px "+l.font;if(l.displayValue){var v,g;l.textPosition=="top"?g=l.marginTop+l.fontSize-l.textMargin:g=l.height+l.textMargin+l.marginTop+l.fontSize,f.font=h,l.textAlign=="left"||c.barcodePadding>0?(v=0,f.textAlign="left"):l.textAlign=="right"?(v=c.width-1,f.textAlign="right"):(v=c.width/2,f.textAlign="center"),f.fillText(c.text,v,g)}}},{key:"moveCanvasDrawing",value:function(l){var c=this.canvas.getContext("2d");c.translate(l.width,0)}},{key:"restoreCanvas",value:function(){var l=this.canvas.getContext("2d");l.restore()}}]),s}();return Um.default=o,Um}var Vm={},e7;function QAe(){if(e7)return Vm;e7=1,Object.defineProperty(Vm,"__esModule",{value:!0});var t=function(){function u(l,c){for(var f=0;f<c.length;f++){var h=c[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,f){return c&&u(l.prototype,c),f&&u(l,f),l}}(),e=Ew(),r=i(e),n=RH();function i(u){return u&&u.__esModule?u:{default:u}}function a(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}var o="http://www.w3.org/2000/svg",s=function(){function u(l,c,f){a(this,u),this.svg=l,this.encodings=c,this.options=f,this.document=f.xmlDocument||document}return t(u,[{key:"render",value:function(){var c=this.options.marginLeft;this.prepareSVG();for(var f=0;f<this.encodings.length;f++){var h=this.encodings[f],v=(0,r.default)(this.options,h.options),g=this.createGroup(c,v.marginTop,this.svg);this.setGroupOptions(g,v),this.drawSvgBarcode(g,v,h),this.drawSVGText(g,v,h),c+=h.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,n.calculateEncodingAttributes)(this.encodings,this.options);var c=(0,n.getTotalWidthOfEncodings)(this.encodings),f=(0,n.getMaximumHeightOfEncodings)(this.encodings),h=c+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(h,f),this.options.background&&this.drawRect(0,0,h,f,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(c,f,h){var v=h.data,g;f.textPosition=="top"?g=f.fontSize+f.textMargin:g=0;for(var m=0,_=0,b=0;b<v.length;b++)_=b*f.width+h.barcodePadding,v[b]==="1"?m++:m>0&&(this.drawRect(_-f.width*m,g,f.width*m,f.height,c),m=0);m>0&&this.drawRect(_-f.width*(m-1),g,f.width*m,f.height,c)}},{key:"drawSVGText",value:function(c,f,h){var v=this.document.createElementNS(o,"text");if(f.displayValue){var g,m;v.setAttribute("style","font:"+f.fontOptions+" "+f.fontSize+"px "+f.font),f.textPosition=="top"?m=f.fontSize-f.textMargin:m=f.height+f.textMargin+f.fontSize,f.textAlign=="left"||h.barcodePadding>0?(g=0,v.setAttribute("text-anchor","start")):f.textAlign=="right"?(g=h.width-1,v.setAttribute("text-anchor","end")):(g=h.width/2,v.setAttribute("text-anchor","middle")),v.setAttribute("x",g),v.setAttribute("y",m),v.appendChild(this.document.createTextNode(h.text)),c.appendChild(v)}}},{key:"setSvgAttributes",value:function(c,f){var h=this.svg;h.setAttribute("width",c+"px"),h.setAttribute("height",f+"px"),h.setAttribute("x","0px"),h.setAttribute("y","0px"),h.setAttribute("viewBox","0 0 "+c+" "+f),h.setAttribute("xmlns",o),h.setAttribute("version","1.1"),h.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(c,f,h){var v=this.document.createElementNS(o,"g");return v.setAttribute("transform","translate("+c+", "+f+")"),h.appendChild(v),v}},{key:"setGroupOptions",value:function(c,f){c.setAttribute("style","fill:"+f.lineColor+";")}},{key:"drawRect",value:function(c,f,h,v,g){var m=this.document.createElementNS(o,"rect");return m.setAttribute("x",c),m.setAttribute("y",f),m.setAttribute("width",h),m.setAttribute("height",v),g.appendChild(m),m}}]),u}();return Vm.default=s,Vm}var qm={},t7;function ZAe(){if(t7)return qm;t7=1,Object.defineProperty(qm,"__esModule",{value:!0});var t=function(){function n(i,a){for(var o=0;o<a.length;o++){var s=a[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}return function(i,a,o){return a&&n(i.prototype,a),o&&n(i,o),i}}();function e(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}var r=function(){function n(i,a,o){e(this,n),this.object=i,this.encodings=a,this.options=o}return t(n,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),n}();return qm.default=r,qm}var r7;function JAe(){if(r7)return $m;r7=1,Object.defineProperty($m,"__esModule",{value:!0});var t=YAe(),e=o(t),r=QAe(),n=o(r),i=ZAe(),a=o(i);function o(s){return s&&s.__esModule?s:{default:s}}return $m.default={CanvasRenderer:e.default,SVGRenderer:n.default,ObjectRenderer:a.default},$m}var lf={},n7;function DH(){if(n7)return lf;n7=1,Object.defineProperty(lf,"__esModule",{value:!0});function t(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}function e(o,s){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:o}function r(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);o.prototype=Object.create(s&&s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(o,s):o.__proto__=s)}var n=function(o){r(s,o);function s(u,l){t(this,s);var c=e(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));return c.name="InvalidInputException",c.symbology=u,c.input=l,c.message='"'+c.input+'" is not a valid input for '+c.symbology,c}return s}(Error),i=function(o){r(s,o);function s(){t(this,s);var u=e(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));return u.name="InvalidElementException",u.message="Not supported type to render on",u}return s}(Error),a=function(o){r(s,o);function s(){t(this,s);var u=e(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));return u.name="NoElementException",u.message="No element to render on.",u}return s}(Error);return lf.InvalidInputException=n,lf.InvalidElementException=i,lf.NoElementException=a,lf}var i7;function eSe(){if(i7)return Lm;i7=1,Object.defineProperty(Lm,"__esModule",{value:!0});var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},e=XAe(),r=o(e),n=JAe(),i=o(n),a=DH();function o(c){return c&&c.__esModule?c:{default:c}}function s(c){if(typeof c=="string")return u(c);if(Array.isArray(c)){for(var f=[],h=0;h<c.length;h++)f.push(s(c[h]));return f}else{if(typeof HTMLCanvasElement<"u"&&c instanceof HTMLImageElement)return l(c);if(c&&c.nodeName&&c.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&c instanceof SVGElement)return{element:c,options:(0,r.default)(c),renderer:i.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&c instanceof HTMLCanvasElement)return{element:c,options:(0,r.default)(c),renderer:i.default.CanvasRenderer};if(c&&c.getContext)return{element:c,renderer:i.default.CanvasRenderer};if(c&&(typeof c>"u"?"undefined":t(c))==="object"&&!c.nodeName)return{element:c,renderer:i.default.ObjectRenderer};throw new a.InvalidElementException}}function u(c){var f=document.querySelectorAll(c);if(f.length!==0){for(var h=[],v=0;v<f.length;v++)h.push(s(f[v]));return h}}function l(c){var f=document.createElement("canvas");return{element:f,options:(0,r.default)(c),renderer:i.default.CanvasRenderer,afterRender:function(){c.setAttribute("src",f.toDataURL())}}}return Lm.default=s,Lm}var zm={},a7;function tSe(){if(a7)return zm;a7=1,Object.defineProperty(zm,"__esModule",{value:!0});var t=function(){function n(i,a){for(var o=0;o<a.length;o++){var s=a[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}return function(i,a,o){return a&&n(i.prototype,a),o&&n(i,o),i}}();function e(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}var r=function(){function n(i){e(this,n),this.api=i}return t(n,[{key:"handleCatch",value:function(a){if(a.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw a.message;else throw a;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(a){try{var o=a.apply(void 0,arguments);return this.api._options.valid(!0),o}catch(s){return this.handleCatch(s),this.api}}}]),n}();return zm.default=r,zm}var dO,o7;function rSe(){if(o7)return dO;o7=1;var t=HAe(),e=b(t),r=Ew(),n=b(r),i=GAe(),a=b(i),o=KAe(),s=b(o),u=eSe(),l=b(u),c=IH(),f=b(c),h=tSe(),v=b(h),g=DH(),m=PH(),_=b(m);function b(T){return T&&T.__esModule?T:{default:T}}var E=function(){},A=function(D,L,F){var j=new E;if(typeof D>"u")throw Error("No element to render on was provided.");return j._renderProperties=(0,l.default)(D),j._encodings=[],j._options=_.default,j._errorHandler=new v.default(j),typeof L<"u"&&(F=F||{},F.format||(F.format=I()),j.options(F)[F.format](L,F).render()),j};A.getModule=function(T){return e.default[T]};for(var C in e.default)e.default.hasOwnProperty(C)&&O(e.default,C);function O(T,D){E.prototype[D]=E.prototype[D.toUpperCase()]=E.prototype[D.toLowerCase()]=function(L,F){var j=this;return j._errorHandler.wrapBarcodeCall(function(){F.text=typeof F.text>"u"?void 0:""+F.text;var K=(0,n.default)(j._options,F);K=(0,f.default)(K);var ee=T[D],W=R(L,ee,K);return j._encodings.push(W),j})}}function R(T,D,L){T=""+T;var F=new D(T,L);if(!F.valid())throw new g.InvalidInputException(F.constructor.name,T);var j=F.encode();j=(0,a.default)(j);for(var K=0;K<j.length;K++)j[K].options=(0,n.default)(L,j[K].options);return j}function I(){return e.default.CODE128?"CODE128":Object.keys(e.default)[0]}E.prototype.options=function(T){return this._options=(0,n.default)(this._options,T),this},E.prototype.blank=function(T){var D=new Array(T+1).join("0");return this._encodings.push({data:D}),this},E.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var T;for(var D in this._renderProperties){T=this._renderProperties[D];var L=(0,n.default)(this._options,T.options);L.format=="auto"&&(L.format=I()),this._errorHandler.wrapBarcodeCall(function(){var F=L.value,j=e.default[L.format.toUpperCase()],K=R(F,j,L);S(T,K,L)})}}},E.prototype.render=function(){if(!this._renderProperties)throw new g.NoElementException;if(Array.isArray(this._renderProperties))for(var T=0;T<this._renderProperties.length;T++)S(this._renderProperties[T],this._encodings,this._options);else S(this._renderProperties,this._encodings,this._options);return this},E.prototype._defaults=_.default;function S(T,D,L){D=(0,a.default)(D);for(var F=0;F<D.length;F++)D[F].options=(0,n.default)(L,D[F].options),(0,s.default)(D[F].options);(0,s.default)(L);var j=T.renderer,K=new j(T.element,D,L);K.render(),T.afterRender&&T.afterRender()}return typeof window<"u"&&(window.JsBarcode=A),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(T,D){var L=[];return jQuery(this).each(function(){L.push(this)}),A(L,T,D)}),dO=A,dO}var nSe=rSe();const iSe=_t(nSe);var wy={exports:{}},aSe=wy.exports,s7;function oSe(){return s7||(s7=1,function(t,e){(function(r,n){t.exports=n(Z1(),qC())})(typeof self<"u"?self:aSe,function(r,n){return function(){var i={328:function(u,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.PrintContextConsumer=l.PrintContext=void 0;var f=c(496),h=Object.prototype.hasOwnProperty.call(f,"createContext");l.PrintContext=h?f.createContext({}):null,l.PrintContextConsumer=l.PrintContext?l.PrintContext.Consumer:function(){return null}},428:function(u,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.ReactToPrint=void 0;var f=c(316),h=c(496),v=c(190),g=c(328),m=c(940),_=function(b){function E(){var A=b.apply(this,f.__spreadArray([],f.__read(arguments),!1))||this;return A.startPrint=function(C){var O=A.props,R=O.onAfterPrint,I=O.onPrintError,S=O.print,T=O.documentTitle;setTimeout(function(){var D,L;if(C.contentWindow)if(C.contentWindow.focus(),S)S(C).then(function(){return R?.()}).then(function(){return A.handleRemoveIframe()}).catch(function(K){I?I("print",K):A.logMessages(["An error was thrown by the specified `print` function"])});else{if(C.contentWindow.print){var F=(L=(D=C.contentDocument)===null||D===void 0?void 0:D.title)!==null&&L!==void 0?L:"",j=C.ownerDocument.title;T&&(C.ownerDocument.title=T,C.contentDocument&&(C.contentDocument.title=T)),C.contentWindow.print(),T&&(C.ownerDocument.title=j,C.contentDocument&&(C.contentDocument.title=F))}else A.logMessages(["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."]);R?.(),A.handleRemoveIframe()}else A.logMessages(["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/gregnb/react-to-print/issues/"])},500)},A.triggerPrint=function(C){var O=A.props,R=O.onBeforePrint,I=O.onPrintError;if(R){var S=R();S&&typeof S.then=="function"?S.then(function(){A.startPrint(C)}).catch(function(T){I&&I("onBeforePrint",T)}):A.startPrint(C)}else A.startPrint(C)},A.handlePrint=function(C){var O=A.props,R=O.bodyClass,I=O.content,S=O.copyStyles,T=O.fonts,D=O.pageStyle,L=O.nonce,F=typeof C=="function"?C():null;if(F&&typeof I=="function"&&A.logMessages(['"react-to-print" received a `content` prop and a content param passed the callback return by `useReactToPrint. The `content` prop will be ignored.'],"warning"),F||typeof I!="function"||(F=I()),F!==void 0)if(F!==null){var j=document.createElement("iframe");j.width="".concat(document.documentElement.clientWidth,"px"),j.height="".concat(document.documentElement.clientHeight,"px"),j.style.position="absolute",j.style.top="-".concat(document.documentElement.clientHeight+100,"px"),j.style.left="-".concat(document.documentElement.clientWidth+100,"px"),j.id="printWindow",j.srcdoc="<!DOCTYPE html>";var K=(0,v.findDOMNode)(F);if(K){var ee=K.cloneNode(!0),W=ee instanceof Text,te=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),X=W?[]:ee.querySelectorAll("img"),Q=W?[]:ee.querySelectorAll("video"),se=T?T.length:0;A.numResourcesToLoad=te.length+X.length+Q.length+se,A.resourcesLoaded=[],A.resourcesErrored=[];var q=function(Y,ae){A.resourcesLoaded.includes(Y)?A.logMessages(["Tried to mark a resource that has already been handled",Y],"debug"):(ae?(A.logMessages(f.__spreadArray(['"react-to-print" was unable to load a resource but will continue attempting to print the page'],f.__read(ae),!1)),A.resourcesErrored.push(Y)):A.resourcesLoaded.push(Y),A.resourcesLoaded.length+A.resourcesErrored.length===A.numResourcesToLoad&&A.triggerPrint(j))};j.onload=function(){var Y,ae,xe,Oe;j.onload=null;var Te=j.contentDocument||((ae=j.contentWindow)===null||ae===void 0?void 0:ae.document);if(Te){Te.body.appendChild(ee),T&&(!((xe=j.contentDocument)===null||xe===void 0)&&xe.fonts&&(!((Oe=j.contentWindow)===null||Oe===void 0)&&Oe.FontFace)?T.forEach(function(vt){var mt=new FontFace(vt.family,vt.source,{weight:vt.weight,style:vt.style});j.contentDocument.fonts.add(mt),mt.loaded.then(function(){q(mt)}).catch(function(At){q(mt,["Failed loading the font:",mt,"Load error:",At])})}):(T.forEach(function(vt){return q(vt)}),A.logMessages(['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'])));var Be=typeof D=="function"?D():D;if(typeof Be!="string")A.logMessages(['"react-to-print" expected a "string" from `pageStyle` but received "'.concat(typeof Be,'". Styles from `pageStyle` will not be applied.')]);else{var Ae=Te.createElement("style");L&&(Ae.setAttribute("nonce",L),Te.head.setAttribute("nonce",L)),Ae.appendChild(Te.createTextNode(Be)),Te.head.appendChild(Ae)}if(R&&(Y=Te.body.classList).add.apply(Y,f.__spreadArray([],f.__read(R.split(" ")),!1)),!W){for(var G=W?[]:K.querySelectorAll("canvas"),ne=Te.querySelectorAll("canvas"),re=0;re<G.length;++re){var Z=G[re],fe=ne[re].getContext("2d");fe&&fe.drawImage(Z,0,0)}var ye=function(vt){var mt=X[vt],At=mt.getAttribute("src");if(At){var Vt=new Image;Vt.onload=function(){return q(mt)},Vt.onerror=function(qt,rr,kr,bn,Br){return q(mt,["Error loading <img>",mt,"Error",Br])},Vt.src=At}else q(mt,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it. The <img> is:',mt])};for(re=0;re<X.length;re++)ye(re);var pe=function(vt){var mt=Q[vt];mt.preload="auto";var At=mt.getAttribute("poster");if(At){var Vt=new Image;Vt.onload=function(){return q(mt)},Vt.onerror=function(qt,rr,kr,bn,Br){return q(mt,["Error loading video poster",At,"for video",mt,"Error:",Br])},Vt.src=At}else mt.readyState>=2?q(mt):(mt.onloadeddata=function(){return q(mt)},mt.onerror=function(qt,rr,kr,bn,Br){return q(mt,["Error loading video",mt,"Error",Br])},mt.onstalled=function(){return q(mt,["Loading video stalled, skipping",mt])})};for(re=0;re<Q.length;re++)pe(re);var be="input",Re=K.querySelectorAll(be),je=Te.querySelectorAll(be);for(re=0;re<Re.length;re++)je[re].value=Re[re].value;var Ie="input[type=checkbox],input[type=radio]",Le=K.querySelectorAll(Ie),it=Te.querySelectorAll(Ie);for(re=0;re<Le.length;re++)it[re].checked=Le[re].checked;var nt="select",lt=K.querySelectorAll(nt),ft=Te.querySelectorAll(nt);for(re=0;re<lt.length;re++)ft[re].value=lt[re].value}if(S)for(var xt=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']"),tt=function(vt,mt){var At=xt[vt];if(At.tagName.toLowerCase()==="style"){var Vt=Te.createElement(At.tagName),qt=At.sheet;if(qt){var rr="";try{for(var kr=qt.cssRules.length,bn=0;bn<kr;++bn)typeof qt.cssRules[bn].cssText=="string"&&(rr+="".concat(qt.cssRules[bn].cssText,`\r
`))}catch{A.logMessages(["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/gregnb/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",At],"warning")}Vt.setAttribute("id","react-to-print-".concat(vt)),L&&Vt.setAttribute("nonce",L),Vt.appendChild(Te.createTextNode(rr)),Te.head.appendChild(Vt)}}else if(At.getAttribute("href"))if(At.hasAttribute("disabled"))A.logMessages(["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",At],"warning"),q(At);else{for(var Br=Te.createElement(At.tagName),ju=(bn=0,At.attributes.length);bn<ju;++bn){var Ta=At.attributes[bn];Ta&&Br.setAttribute(Ta.nodeName,Ta.nodeValue||"")}Br.onload=function(){return q(Br)},Br.onerror=function(Os,Fu,Ni,Ca,Ts){return q(Br,["Failed to load",Br,"Error:",Ts])},L&&Br.setAttribute("nonce",L),Te.head.appendChild(Br)}else A.logMessages(["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",At],"warning"),q(At)},gt=(re=0,xt.length);re<gt;++re)tt(re)}A.numResourcesToLoad!==0&&S||A.triggerPrint(j)},A.handleRemoveIframe(!0),document.body.appendChild(j)}else A.logMessages(['"react-to-print" could not locate the DOM node corresponding with the `content` prop'])}else A.logMessages(['There is nothing to print because the "content" prop returned "null". Please ensure "content" is renderable before allowing "react-to-print" to be called.']);else A.logMessages(["To print a functional component ensure it is wrapped with `React.forwardRef`, and ensure the forwarded ref is used. See the README for an example: https://github.com/gregnb/react-to-print#examples"])},A.handleRemoveIframe=function(C){var O=A.props.removeAfterPrint;if(C||O){var R=document.getElementById("printWindow");R&&document.body.removeChild(R)}},A.logMessages=function(C,O){O===void 0&&(O="error"),A.props.suppressErrors||(O==="error"?console.error(C):O==="warning"?console.warn(C):O==="debug"&&console.debug(C))},A}return f.__extends(E,b),E.prototype.handleClick=function(A,C){var O=this,R=this.props,I=R.onBeforeGetContent,S=R.onPrintError;if(I){var T=I();T&&typeof T.then=="function"?T.then(function(){return O.handlePrint(C)}).catch(function(D){S&&S("onBeforeGetContent",D)}):this.handlePrint(C)}else this.handlePrint(C)},E.prototype.render=function(){var A=this.props,C=A.children,O=A.trigger;if(O)return h.cloneElement(O(),{onClick:this.handleClick.bind(this)});if(!g.PrintContext)return this.logMessages(['"react-to-print" requires React ^16.3.0 to be able to use "PrintContext"']),null;var R={handlePrint:this.handleClick.bind(this)};return h.createElement(g.PrintContext.Provider,{value:R},C)},E.defaultProps=m.defaultProps,E}(h.Component);l.ReactToPrint=_},940:function(u,l){Object.defineProperty(l,"__esModule",{value:!0}),l.defaultProps=void 0,l.defaultProps={copyStyles:!0,pageStyle:`
        @page {
            /* Remove browser default header (title) and footer (url) */
            margin: 0;
        }
        @media print {
            body {
                /* Tell browsers to print background colors */
                -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
                color-adjust: exact; /* Firefox */
            }
        }
    `,removeAfterPrint:!1,suppressErrors:!1}},892:function(u,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.useReactToPrint=void 0;var f=c(316),h=c(496),v=c(428),g=c(940),m=c(860),_=Object.prototype.hasOwnProperty.call(h,"useMemo")&&Object.prototype.hasOwnProperty.call(h,"useCallback");l.useReactToPrint=function(b){if(!_)return b.suppressErrors||console.error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"'),function(){throw new Error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"')};var E=h.useMemo(function(){return new v.ReactToPrint(f.__assign(f.__assign({},g.defaultProps),b))},[b]);return h.useCallback(function(A,C){return(0,m.wrapCallbackWithArgs)(E,E.handleClick,C)(A)},[E])}},860:function(u,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.wrapCallbackWithArgs=void 0;var f=c(316);l.wrapCallbackWithArgs=function(h,v){for(var g=[],m=2;m<arguments.length;m++)g[m-2]=arguments[m];return function(){for(var _=[],b=0;b<arguments.length;b++)_[b]=arguments[b];return v.apply(h,f.__spreadArray(f.__spreadArray([],f.__read(_),!1),f.__read(g),!1))}}},496:function(u){u.exports=r},190:function(u){u.exports=n},316:function(u,l,c){c.r(l),c.d(l,{__addDisposableResource:function(){return Te},__assign:function(){return v},__asyncDelegator:function(){return te},__asyncGenerator:function(){return W},__asyncValues:function(){return X},__await:function(){return ee},__awaiter:function(){return R},__classPrivateFieldGet:function(){return ae},__classPrivateFieldIn:function(){return Oe},__classPrivateFieldSet:function(){return xe},__createBinding:function(){return S},__decorate:function(){return m},__disposeResources:function(){return Ae},__esDecorate:function(){return b},__exportStar:function(){return T},__extends:function(){return h},__generator:function(){return I},__importDefault:function(){return Y},__importStar:function(){return q},__makeTemplateObject:function(){return Q},__metadata:function(){return O},__param:function(){return _},__propKey:function(){return A},__read:function(){return L},__rest:function(){return g},__runInitializers:function(){return E},__setFunctionName:function(){return C},__spread:function(){return F},__spreadArray:function(){return K},__spreadArrays:function(){return j},__values:function(){return D}});var f=function(G,ne){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(re,Z){re.__proto__=Z}||function(re,Z){for(var fe in Z)Object.prototype.hasOwnProperty.call(Z,fe)&&(re[fe]=Z[fe])},f(G,ne)};function h(G,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Class extends value "+String(ne)+" is not a constructor or null");function re(){this.constructor=G}f(G,ne),G.prototype=ne===null?Object.create(ne):(re.prototype=ne.prototype,new re)}var v=function(){return v=Object.assign||function(G){for(var ne,re=1,Z=arguments.length;re<Z;re++)for(var fe in ne=arguments[re])Object.prototype.hasOwnProperty.call(ne,fe)&&(G[fe]=ne[fe]);return G},v.apply(this,arguments)};function g(G,ne){var re={};for(var Z in G)Object.prototype.hasOwnProperty.call(G,Z)&&ne.indexOf(Z)<0&&(re[Z]=G[Z]);if(G!=null&&typeof Object.getOwnPropertySymbols=="function"){var fe=0;for(Z=Object.getOwnPropertySymbols(G);fe<Z.length;fe++)ne.indexOf(Z[fe])<0&&Object.prototype.propertyIsEnumerable.call(G,Z[fe])&&(re[Z[fe]]=G[Z[fe]])}return re}function m(G,ne,re,Z){var fe,ye=arguments.length,pe=ye<3?ne:Z===null?Z=Object.getOwnPropertyDescriptor(ne,re):Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")pe=Reflect.decorate(G,ne,re,Z);else for(var be=G.length-1;be>=0;be--)(fe=G[be])&&(pe=(ye<3?fe(pe):ye>3?fe(ne,re,pe):fe(ne,re))||pe);return ye>3&&pe&&Object.defineProperty(ne,re,pe),pe}function _(G,ne){return function(re,Z){ne(re,Z,G)}}function b(G,ne,re,Z,fe,ye){function pe(tt){if(tt!==void 0&&typeof tt!="function")throw new TypeError("Function expected");return tt}for(var be,Re=Z.kind,je=Re==="getter"?"get":Re==="setter"?"set":"value",Ie=!ne&&G?Z.static?G:G.prototype:null,Le=ne||(Ie?Object.getOwnPropertyDescriptor(Ie,Z.name):{}),it=!1,nt=re.length-1;nt>=0;nt--){var lt={};for(var ft in Z)lt[ft]=ft==="access"?{}:Z[ft];for(var ft in Z.access)lt.access[ft]=Z.access[ft];lt.addInitializer=function(tt){if(it)throw new TypeError("Cannot add initializers after decoration has completed");ye.push(pe(tt||null))};var xt=(0,re[nt])(Re==="accessor"?{get:Le.get,set:Le.set}:Le[je],lt);if(Re==="accessor"){if(xt===void 0)continue;if(xt===null||typeof xt!="object")throw new TypeError("Object expected");(be=pe(xt.get))&&(Le.get=be),(be=pe(xt.set))&&(Le.set=be),(be=pe(xt.init))&&fe.unshift(be)}else(be=pe(xt))&&(Re==="field"?fe.unshift(be):Le[je]=be)}Ie&&Object.defineProperty(Ie,Z.name,Le),it=!0}function E(G,ne,re){for(var Z=arguments.length>2,fe=0;fe<ne.length;fe++)re=Z?ne[fe].call(G,re):ne[fe].call(G);return Z?re:void 0}function A(G){return typeof G=="symbol"?G:"".concat(G)}function C(G,ne,re){return typeof ne=="symbol"&&(ne=ne.description?"[".concat(ne.description,"]"):""),Object.defineProperty(G,"name",{configurable:!0,value:re?"".concat(re," ",ne):ne})}function O(G,ne){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(G,ne)}function R(G,ne,re,Z){return new(re||(re=Promise))(function(fe,ye){function pe(je){try{Re(Z.next(je))}catch(Ie){ye(Ie)}}function be(je){try{Re(Z.throw(je))}catch(Ie){ye(Ie)}}function Re(je){var Ie;je.done?fe(je.value):(Ie=je.value,Ie instanceof re?Ie:new re(function(Le){Le(Ie)})).then(pe,be)}Re((Z=Z.apply(G,ne||[])).next())})}function I(G,ne){var re,Z,fe,ye,pe={label:0,sent:function(){if(1&fe[0])throw fe[1];return fe[1]},trys:[],ops:[]};return ye={next:be(0),throw:be(1),return:be(2)},typeof Symbol=="function"&&(ye[Symbol.iterator]=function(){return this}),ye;function be(Re){return function(je){return function(Ie){if(re)throw new TypeError("Generator is already executing.");for(;ye&&(ye=0,Ie[0]&&(pe=0)),pe;)try{if(re=1,Z&&(fe=2&Ie[0]?Z.return:Ie[0]?Z.throw||((fe=Z.return)&&fe.call(Z),0):Z.next)&&!(fe=fe.call(Z,Ie[1])).done)return fe;switch(Z=0,fe&&(Ie=[2&Ie[0],fe.value]),Ie[0]){case 0:case 1:fe=Ie;break;case 4:return pe.label++,{value:Ie[1],done:!1};case 5:pe.label++,Z=Ie[1],Ie=[0];continue;case 7:Ie=pe.ops.pop(),pe.trys.pop();continue;default:if(!((fe=(fe=pe.trys).length>0&&fe[fe.length-1])||Ie[0]!==6&&Ie[0]!==2)){pe=0;continue}if(Ie[0]===3&&(!fe||Ie[1]>fe[0]&&Ie[1]<fe[3])){pe.label=Ie[1];break}if(Ie[0]===6&&pe.label<fe[1]){pe.label=fe[1],fe=Ie;break}if(fe&&pe.label<fe[2]){pe.label=fe[2],pe.ops.push(Ie);break}fe[2]&&pe.ops.pop(),pe.trys.pop();continue}Ie=ne.call(G,pe)}catch(Le){Ie=[6,Le],Z=0}finally{re=fe=0}if(5&Ie[0])throw Ie[1];return{value:Ie[0]?Ie[1]:void 0,done:!0}}([Re,je])}}}var S=Object.create?function(G,ne,re,Z){Z===void 0&&(Z=re);var fe=Object.getOwnPropertyDescriptor(ne,re);fe&&!("get"in fe?!ne.__esModule:fe.writable||fe.configurable)||(fe={enumerable:!0,get:function(){return ne[re]}}),Object.defineProperty(G,Z,fe)}:function(G,ne,re,Z){Z===void 0&&(Z=re),G[Z]=ne[re]};function T(G,ne){for(var re in G)re==="default"||Object.prototype.hasOwnProperty.call(ne,re)||S(ne,G,re)}function D(G){var ne=typeof Symbol=="function"&&Symbol.iterator,re=ne&&G[ne],Z=0;if(re)return re.call(G);if(G&&typeof G.length=="number")return{next:function(){return G&&Z>=G.length&&(G=void 0),{value:G&&G[Z++],done:!G}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}function L(G,ne){var re=typeof Symbol=="function"&&G[Symbol.iterator];if(!re)return G;var Z,fe,ye=re.call(G),pe=[];try{for(;(ne===void 0||ne-- >0)&&!(Z=ye.next()).done;)pe.push(Z.value)}catch(be){fe={error:be}}finally{try{Z&&!Z.done&&(re=ye.return)&&re.call(ye)}finally{if(fe)throw fe.error}}return pe}function F(){for(var G=[],ne=0;ne<arguments.length;ne++)G=G.concat(L(arguments[ne]));return G}function j(){for(var G=0,ne=0,re=arguments.length;ne<re;ne++)G+=arguments[ne].length;var Z=Array(G),fe=0;for(ne=0;ne<re;ne++)for(var ye=arguments[ne],pe=0,be=ye.length;pe<be;pe++,fe++)Z[fe]=ye[pe];return Z}function K(G,ne,re){if(re||arguments.length===2)for(var Z,fe=0,ye=ne.length;fe<ye;fe++)!Z&&fe in ne||(Z||(Z=Array.prototype.slice.call(ne,0,fe)),Z[fe]=ne[fe]);return G.concat(Z||Array.prototype.slice.call(ne))}function ee(G){return this instanceof ee?(this.v=G,this):new ee(G)}function W(G,ne,re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,fe=re.apply(G,ne||[]),ye=[];return Z={},pe("next"),pe("throw"),pe("return"),Z[Symbol.asyncIterator]=function(){return this},Z;function pe(Le){fe[Le]&&(Z[Le]=function(it){return new Promise(function(nt,lt){ye.push([Le,it,nt,lt])>1||be(Le,it)})})}function be(Le,it){try{(nt=fe[Le](it)).value instanceof ee?Promise.resolve(nt.value.v).then(Re,je):Ie(ye[0][2],nt)}catch(lt){Ie(ye[0][3],lt)}var nt}function Re(Le){be("next",Le)}function je(Le){be("throw",Le)}function Ie(Le,it){Le(it),ye.shift(),ye.length&&be(ye[0][0],ye[0][1])}}function te(G){var ne,re;return ne={},Z("next"),Z("throw",function(fe){throw fe}),Z("return"),ne[Symbol.iterator]=function(){return this},ne;function Z(fe,ye){ne[fe]=G[fe]?function(pe){return(re=!re)?{value:ee(G[fe](pe)),done:!1}:ye?ye(pe):pe}:ye}}function X(G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,re=G[Symbol.asyncIterator];return re?re.call(G):(G=D(G),ne={},Z("next"),Z("throw"),Z("return"),ne[Symbol.asyncIterator]=function(){return this},ne);function Z(fe){ne[fe]=G[fe]&&function(ye){return new Promise(function(pe,be){(function(Re,je,Ie,Le){Promise.resolve(Le).then(function(it){Re({value:it,done:Ie})},je)})(pe,be,(ye=G[fe](ye)).done,ye.value)})}}}function Q(G,ne){return Object.defineProperty?Object.defineProperty(G,"raw",{value:ne}):G.raw=ne,G}var se=Object.create?function(G,ne){Object.defineProperty(G,"default",{enumerable:!0,value:ne})}:function(G,ne){G.default=ne};function q(G){if(G&&G.__esModule)return G;var ne={};if(G!=null)for(var re in G)re!=="default"&&Object.prototype.hasOwnProperty.call(G,re)&&S(ne,G,re);return se(ne,G),ne}function Y(G){return G&&G.__esModule?G:{default:G}}function ae(G,ne,re,Z){if(re==="a"&&!Z)throw new TypeError("Private accessor was defined without a getter");if(typeof ne=="function"?G!==ne||!Z:!ne.has(G))throw new TypeError("Cannot read private member from an object whose class did not declare it");return re==="m"?Z:re==="a"?Z.call(G):Z?Z.value:ne.get(G)}function xe(G,ne,re,Z,fe){if(Z==="m")throw new TypeError("Private method is not writable");if(Z==="a"&&!fe)throw new TypeError("Private accessor was defined without a setter");if(typeof ne=="function"?G!==ne||!fe:!ne.has(G))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Z==="a"?fe.call(G,re):fe?fe.value=re:ne.set(G,re),re}function Oe(G,ne){if(ne===null||typeof ne!="object"&&typeof ne!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof G=="function"?ne===G:G.has(ne)}function Te(G,ne,re){if(ne!=null){if(typeof ne!="object"&&typeof ne!="function")throw new TypeError("Object expected.");var Z;if(re){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");Z=ne[Symbol.asyncDispose]}if(Z===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");Z=ne[Symbol.dispose]}if(typeof Z!="function")throw new TypeError("Object not disposable.");G.stack.push({value:ne,dispose:Z,async:re})}else re&&G.stack.push({async:!0});return ne}var Be=typeof SuppressedError=="function"?SuppressedError:function(G,ne,re){var Z=new Error(re);return Z.name="SuppressedError",Z.error=G,Z.suppressed=ne,Z};function Ae(G){function ne(re){G.error=G.hasError?new Be(re,G.error,"An error was suppressed during disposal."):re,G.hasError=!0}return function re(){for(;G.stack.length;){var Z=G.stack.pop();try{var fe=Z.dispose&&Z.dispose.call(Z.value);if(Z.async)return Promise.resolve(fe).then(re,function(ye){return ne(ye),re()})}catch(ye){ne(ye)}}if(G.hasError)throw G.error}()}l.default={__extends:h,__assign:v,__rest:g,__decorate:m,__param:_,__metadata:O,__awaiter:R,__generator:I,__createBinding:S,__exportStar:T,__values:D,__read:L,__spread:F,__spreadArrays:j,__spreadArray:K,__await:ee,__asyncGenerator:W,__asyncDelegator:te,__asyncValues:X,__makeTemplateObject:Q,__importStar:q,__importDefault:Y,__classPrivateFieldGet:ae,__classPrivateFieldSet:xe,__classPrivateFieldIn:Oe,__addDisposableResource:Te,__disposeResources:Ae}}},a={};function o(u){var l=a[u];if(l!==void 0)return l.exports;var c=a[u]={exports:{}};return i[u](c,c.exports,o),c.exports}o.d=function(u,l){for(var c in l)o.o(l,c)&&!o.o(u,c)&&Object.defineProperty(u,c,{enumerable:!0,get:l[c]})},o.o=function(u,l){return Object.prototype.hasOwnProperty.call(u,l)},o.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})};var s={};return function(){var u=s;Object.defineProperty(u,"__esModule",{value:!0}),u.useReactToPrint=u.ReactToPrint=u.PrintContextConsumer=void 0;var l=o(328);Object.defineProperty(u,"PrintContextConsumer",{enumerable:!0,get:function(){return l.PrintContextConsumer}});var c=o(428);Object.defineProperty(u,"ReactToPrint",{enumerable:!0,get:function(){return c.ReactToPrint}});var f=o(892);Object.defineProperty(u,"useReactToPrint",{enumerable:!0,get:function(){return f.useReactToPrint}});var h=o(428);u.default=h.ReactToPrint}(),s}()})}(wy)),wy.exports}var sSe=oSe();const u7={"avery-5160":{width:"2.625in",height:"1in"},"avery-5163":{width:"4in",height:"2in"},"2x4":{width:"4in",height:"2in"},custom:{width:"3.5in",height:"1.5in"}};function uSe({grows:t=[]}){const[e,r]=z.useState({strain:!0,stage:!0,cost:!0,createdAt:!0,yield:!0,stageDates:!0}),[n,i]=z.useState("avery-5163"),a=z.useRef(),o=l=>{r(c=>({...c,[l]:!c[l]}))};z.useEffect(()=>{t.forEach(l=>{const c=document.getElementById(`barcode-${l.id}`);c&&l.id&&iSe(c,l.id,{format:"CODE128",width:1,height:30,displayValue:!1})})},[t]);const s=sSe.useReactToPrint({content:()=>a.current}),u=u7[n]||u7.custom;return k.jsxs("div",{className:"p-4 space-y-6",children:[k.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-xl shadow max-w-3xl mx-auto print:hidden",children:[k.jsx("h2",{className:"text-lg font-semibold mb-3 text-zinc-800 dark:text-white",children:" Batch Label Print"}),k.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 text-sm text-zinc-700 dark:text-zinc-200 mb-4",children:Object.keys(e).map(l=>k.jsxs("label",{className:"flex items-center space-x-2",children:[k.jsx("input",{type:"checkbox",checked:e[l],onChange:()=>o(l)}),k.jsx("span",{className:"capitalize",children:l})]},l))}),k.jsx("label",{className:"block text-sm mb-1 font-medium text-zinc-600 dark:text-zinc-300",children:"Label Template"}),k.jsxs("select",{value:n,onChange:l=>i(l.target.value),className:"w-full p-2 border rounded dark:bg-zinc-800 dark:text-white",children:[k.jsx("option",{value:"avery-5160",children:"Avery 5160 (2.625in  1in)"}),k.jsx("option",{value:"avery-5163",children:"Avery 5163 (4in  2in)"}),k.jsx("option",{value:"2x4",children:"2in  4in (Shipping)"}),k.jsx("option",{value:"custom",children:"Custom (3.5in  1.5in)"})]}),k.jsx("button",{onClick:s,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:" Print Labels Only"})]}),k.jsx("div",{ref:a,className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 justify-items-center",children:t.map(l=>{const c=l.stage==="Harvested"&&(l.yieldWet||l.yieldDry||l.yieldWet===0||l.yieldDry===0),f=l.stageDates&&Object.keys(l.stageDates).length>0;return k.jsxs("div",{className:"border border-zinc-300 shadow-sm p-2 print:shadow-none print:border-none print:p-1",style:{width:u.width,height:u.height},children:[k.jsxs("div",{className:"text-[10pt] leading-tight",children:[k.jsx("div",{className:"mb-1",children:k.jsx("img",{src:"/logo192.png",alt:"Chaotic Neutral Mycology Logo",className:"h-4",style:{objectFit:"contain"}})}),e.strain&&k.jsxs("div",{children:[k.jsx("strong",{children:"Strain:"})," ",l.strain||"Unnamed"]}),e.stage&&k.jsxs("div",{children:[k.jsx("strong",{children:"Stage:"})," ",l.stage]}),e.cost&&typeof l.cost=="number"&&k.jsxs("div",{children:[k.jsx("strong",{children:"Cost:"})," $",l.cost.toFixed(2)]}),e.createdAt&&l.createdAt?.seconds&&k.jsxs("div",{children:[k.jsx("strong",{children:"Created:"})," ",new Date(l.createdAt.seconds*1e3).toLocaleDateString()]}),e.yield&&c&&k.jsxs(k.Fragment,{children:[l.yieldWet!==void 0&&k.jsxs("div",{children:[k.jsx("strong",{children:"Wet:"})," ",l.yieldWet,"g"]}),l.yieldDry!==void 0&&k.jsxs("div",{children:[k.jsx("strong",{children:"Dry:"})," ",l.yieldDry,"g"]})]}),e.stageDates&&f&&Object.entries(l.stageDates).map(([h,v])=>k.jsxs("div",{children:[k.jsxs("strong",{children:[h,":"]})," ",new Date(v).toLocaleDateString()]},h))]}),k.jsx("svg",{id:`barcode-${l.id}`,className:"mt-1"}),k.jsx("div",{className:"mt-1 text-[8pt] text-zinc-500 text-center",children:"Chaotic Neutral Mycology"})]},l.id)})})]})}const lSe=()=>k.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 text-white",children:k.jsxs("div",{className:"text-center animate-fade-in",children:[k.jsx("img",{src:"/splash-logo.png",alt:"Chaotic Mycology Logo",className:"w-48 h-48 mx-auto mb-4 drop-shadow-lg"}),k.jsx("h1",{className:"text-2xl font-bold tracking-wide",children:"Chaotic Mycology"}),k.jsx("p",{className:"text-sm text-gray-300 mt-2",children:"Loading your mushroom dashboard..."})]})});function cSe(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function fSe(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var dSe=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),hSe=function(t){dSe(e,t);function e(r,n){var i=this.constructor,a=t.call(this,r,n)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),cSe(a,i.prototype),fSe(a),a}return e}(Error),pSe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Di=function(t){pSe(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(hSe),vSe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jr=function(t){vSe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(Di),gSe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qe=function(t){gSe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(Di),NH=function(){function t(e){if(this.binarizer=e,e===null)throw new Qe("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var a=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(a))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),mSe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wr=function(t){mSe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Di),ySe=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),ur=function(){function t(){}return t.arraycopy=function(e,r,n,i,a){for(;a--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),_Se=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),IR=function(t){_Se(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(Di),wSe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),l7=function(t){wSe(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(IR),xSe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nn=function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var a=r;a<n;a++)e[a]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new Qe("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new l7(r);if(n>e)throw new l7(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var a=xSe(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=31*i+s}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,a=new Int32Array(i);return ur.arraycopy(e,r,a,0,i),a},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,a=e.length-1;i<=a;){var o=a+i>>1,s=n(r,e[o]);if(s>0)i=o+1;else if(s<0)a=o-1;else return o}return-i-1},t.numberComparator=function(e,r){return e-r},t}(),Et=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),wn=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);ur.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=n[i]}var s=i*32+Et.numberOfTrailingZeros(a);return s>r?r:s},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=~n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=~n[i]}var s=i*32+Et.numberOfTrailingZeros(a);return s>r?r:s},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new Qe;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),a=this.bits,o=n;o<=i;o++){var s=o>n?0:e&31,u=o<i?31:r&31,l=(2<<u)-(1<<s);a[o]|=l}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new Qe;if(r===e)return!0;r--;for(var i=Math.floor(e/32),a=Math.floor(r/32),o=this.bits,s=i;s<=a;s++){var u=s>i?0:e&31,l=s<a?31:r&31,c=(2<<l)-(1<<u)&4294967295;if((o[s]&c)!==(n?c:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new Qe("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new Qe("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var a=0;a<i;a++){for(var o=0,s=0;s<8;s++)this.get(e)&&(o|=1<<7-s),e++;r[n+a]=o}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,a=0;a<n;a++){var o=i[a];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[r-a]=o}if(this.size!==n*32){for(var s=n*32-this.size,u=e[0]>>>s,a=1;a<n;a++){var l=e[a];u|=l<<32-s,e[a-1]=u,u=l>>>s}e[n-1]=u}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&nn.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+nn.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)(r&7)===0&&(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t}(),NC;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(NC||(NC={}));const lr=NC;var bSe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ke=function(t){bSe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Di),ESe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Wt;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(Wt||(Wt={}));var tn=function(){function t(e,r,n){for(var i,a,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var u=this.values,l=0,c=u.length;l!==c;l++){var f=u[l];t.VALUES_TO_ECI.set(f,this)}try{for(var h=ESe(o),v=h.next();!v.done;v=h.next()){var g=v.value;t.NAME_TO_ECI.set(g,this)}}catch(m){i={error:m}}finally{try{v&&!v.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new ke("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new ke("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new ke("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(Wt.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(Wt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(Wt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(Wt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(Wt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(Wt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(Wt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(Wt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(Wt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(Wt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(Wt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(Wt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(Wt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(Wt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(Wt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(Wt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(Wt.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(Wt.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(Wt.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(Wt.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(Wt.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(Wt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(Wt.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(Wt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(Wt.Big5,28,"Big5"),t.GB18030=new t(Wt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(Wt.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),ASe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xy=function(t){ASe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(Di),wa=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof tn?e:tn.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",a=0,o=e.length;a<o;a++){var s=e[a].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(n.equals(tn.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new xy("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(tn.UTF8)||e.equals(tn.ISO8859_1)||e.equals(tn.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],a=0;a<n.length;a++)i.push(n[a].charCodeAt(0));return new Uint8Array(i)},t}(),Pt=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return wa.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(lr.CHARACTER_SET)!==void 0)return r.get(lr.CHARACTER_SET).toString();for(var n=e.length,i=!0,a=!0,o=!0,s=0,u=0,l=0,c=0,f=0,h=0,v=0,g=0,m=0,_=0,b=0,E=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,A=0;A<n&&(i||a||o);A++){var C=e[A]&255;o&&(s>0?(C&128)===0?o=!1:s--:(C&128)!==0&&((C&64)===0?o=!1:(s++,(C&32)===0?u++:(s++,(C&16)===0?l++:(s++,(C&8)===0?c++:o=!1))))),i&&(C>127&&C<160?i=!1:C>159&&(C<192||C===215||C===247)&&b++),a&&(f>0?C<64||C===127||C>252?a=!1:f--:C===128||C===160||C>239?a=!1:C>160&&C<224?(h++,g=0,v++,v>m&&(m=v)):C>127?(f++,v=0,g++,g>_&&(_=g)):(v=0,g=0))}return o&&s>0&&(o=!1),a&&f>0&&(a=!1),o&&(E||u+l+c>0)?t.UTF8:a&&(t.ASSUME_SHIFT_JIS||m>=3||_>=3)?t.SHIFT_JIS:i&&a?m===2&&h===2||b*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:a?t.SHIFT_JIS:o?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function a(s,u,l,c,f,h){if(s==="%%")return"%";if(r[++i]!==void 0){s=c?parseInt(c.substr(1)):void 0;var v=f?parseInt(f.substr(1)):void 0,g;switch(h){case"s":g=r[i];break;case"c":g=r[i][0];break;case"f":g=parseFloat(r[i]).toFixed(s);break;case"p":g=parseFloat(r[i]).toPrecision(s);break;case"e":g=parseFloat(r[i]).toExponential(s);break;case"x":g=parseInt(r[i]).toString(v||16);break;case"d":g=parseFloat(parseInt(r[i],v||10).toPrecision(s)).toFixed(0);break}g=typeof g=="object"?JSON.stringify(g):(+g).toString(v);for(var m=parseInt(l),_=l&&l[0]+""=="0"?"0":" ";g.length<m;)g=u!==void 0?g+_:_+g;return g}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},t.getBytes=function(e,r){return wa.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=tn.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=tn.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=tn.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),wt=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Pt.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t}(),Fo=function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new Qe("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),a=0;a<r;a++)for(var o=e[a],s=0;s<n;s++)o[s]&&i.set(s,a);return i},t.parseFromString=function(e,r,n){if(e===null)throw new Qe("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,o=0,s=-1,u=0,l=0;l<e.length;)if(e.charAt(l)===`
`||e.charAt(l)==="\r"){if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new Qe("row lengths do not match");o=a,u++}l++}else if(e.substring(l,l+r.length)===r)l+=r.length,i[a]=!0,a++;else if(e.substring(l,l+n.length)===n)l+=n.length,i[a]=!1,a++;else throw new Qe("illegal character encountered: "+e.substring(l));if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new Qe("row lengths do not match");u++}for(var c=new t(s,u),f=0;f<a;f++)i[f]&&c.set(Math.floor(f%s),Math.floor(f/s));return c},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Qe("input matrix dimensions do not match");for(var r=new wn(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,a=0,o=this.height;a<o;a++)for(var s=a*n,u=e.getRow(a,r).getBitArray(),l=0;l<n;l++)i[s+l]^=u[l]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new Qe("Left and top must be nonnegative");if(i<1||n<1)throw new Qe("Height and width must be at least 1");var a=e+n,o=r+i;if(o>this.height||a>this.width)throw new Qe("The region must fit inside the matrix");for(var s=this.rowSize,u=this.bits,l=r;l<o;l++)for(var c=l*s,f=e;f<a;f++)u[c+Math.floor(f/32)]|=1<<(f&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new wn(this.width):r.clear();for(var n=this.rowSize,i=this.bits,a=e*n,o=0;o<n;o++)r.setBulk(o*32,i[a+o]);return r},t.prototype.setRow=function(e,r){ur.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new wn(e),i=new wn(e),a=0,o=Math.floor((r+1)/2);a<o;a++)n=this.getRow(a,n),i=this.getRow(r-1-a,i),n.reverse(),i.reverse(),this.setRow(a,i),this.setRow(r-1-a,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,a=e,o=r,s=-1,u=-1,l=0;l<r;l++)for(var c=0;c<n;c++){var f=i[l*n+c];if(f!==0){if(l<o&&(o=l),l>u&&(u=l),c*32<a){for(var h=0;(f<<31-h&4294967295)===0;)h++;c*32+h<a&&(a=c*32+h)}if(c*32+31>s){for(var h=31;!(f>>>h);)h--;c*32+h>s&&(s=c*32+h)}}}return s<a||u<o?null:Int32Array.from([a,o,s-a+1,u-o+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,a=n%e*32,o=r[n],s=0;(o<<31-s&4294967295)===0;)s++;return a+=s,Int32Array.from([a,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),a=Math.floor(n%e)*32,o=r[n],s=31;!(o>>>s);)s--;return a+=s,Int32Array.from([a,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&nn.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+nn.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new wt,a=0,o=this.height;a<o;a++){for(var s=0,u=this.width;s<u;s++)i.append(this.get(s,a)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),SSe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ge=function(t){SSe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Di),OSe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),TSe=function(t){OSe(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),a=i.getWidth();n==null||n.getSize()<a?n=new wn(a):n.clear(),this.initArrays(a);for(var o=i.getRow(r,this.luminances),s=this.buckets,u=0;u<a;u++)s[(o[u]&255)>>e.LUMINANCE_SHIFT]++;var l=e.estimateBlackPoint(s);if(a<3)for(var u=0;u<a;u++)(o[u]&255)<l&&n.set(u);else for(var c=o[0]&255,f=o[1]&255,u=1;u<a-1;u++){var h=o[u+1]&255;(f*4-c-h)/2<l&&n.set(u),c=f,f=h}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),a=new Fo(n,i);this.initArrays(n);for(var o=this.buckets,s=1;s<5;s++)for(var u=Math.floor(i*s/5),l=r.getRow(u,this.luminances),c=Math.floor(n*4/5),f=Math.floor(n/5);f<c;f++){var h=l[f]&255;o[h>>e.LUMINANCE_SHIFT]++}for(var v=e.estimateBlackPoint(o),g=r.getMatrix(),s=0;s<i;s++)for(var m=s*n,f=0;f<n;f++){var h=g[m+f]&255;h<v&&a.set(f,s)}return a},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,a=0,o=0,s=0;s<n;s++)r[s]>o&&(a=s,o=r[s]),r[s]>i&&(i=r[s]);for(var u=0,l=0,s=0;s<n;s++){var c=s-a,f=r[s]*c*c;f>l&&(u=s,l=f)}if(a>u){var h=a;a=u,u=h}if(u-a<=n/16)throw new ge;for(var v=u-1,g=-1,s=u-1;s>a;s--){var m=s-a,f=m*m*(u-s)*(i-r[s]);f>g&&(v=s,g=f)}return v<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(ySe),CSe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kH=function(t){CSe(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=r.getMatrix(),o=n>>e.BLOCK_SIZE_POWER;(n&e.BLOCK_SIZE_MASK)!==0&&o++;var s=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&s++;var u=e.calculateBlackPoints(a,o,s,n,i),l=new Fo(n,i);e.calculateThresholdForBlock(a,o,s,n,i,u,l),this.matrix=l}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,a,o,s,u){for(var l=o-e.BLOCK_SIZE,c=a-e.BLOCK_SIZE,f=0;f<i;f++){var h=f<<e.BLOCK_SIZE_POWER;h>l&&(h=l);for(var v=e.cap(f,2,i-3),g=0;g<n;g++){var m=g<<e.BLOCK_SIZE_POWER;m>c&&(m=c);for(var _=e.cap(g,2,n-3),b=0,E=-2;E<=2;E++){var A=s[v+E];b+=A[_-2]+A[_-1]+A[_]+A[_+1]+A[_+2]}var C=b/25;e.thresholdBlock(r,m,h,C,a,u)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,a,o,s){for(var u=0,l=i*o+n;u<e.BLOCK_SIZE;u++,l+=o)for(var c=0;c<e.BLOCK_SIZE;c++)(r[l+c]&255)<=a&&s.set(n+c,i+u)},e.calculateBlackPoints=function(r,n,i,a,o){for(var s=o-e.BLOCK_SIZE,u=a-e.BLOCK_SIZE,l=new Array(i),c=0;c<i;c++){l[c]=new Int32Array(n);var f=c<<e.BLOCK_SIZE_POWER;f>s&&(f=s);for(var h=0;h<n;h++){var v=h<<e.BLOCK_SIZE_POWER;v>u&&(v=u);for(var g=0,m=255,_=0,b=0,E=f*a+v;b<e.BLOCK_SIZE;b++,E+=a){for(var A=0;A<e.BLOCK_SIZE;A++){var C=r[E+A]&255;g+=C,C<m&&(m=C),C>_&&(_=C)}if(_-m>e.MIN_DYNAMIC_RANGE)for(b++,E+=a;b<e.BLOCK_SIZE;b++,E+=a)for(var A=0;A<e.BLOCK_SIZE;A++)g+=r[E+A]&255}var O=g>>e.BLOCK_SIZE_POWER*2;if(_-m<=e.MIN_DYNAMIC_RANGE&&(O=m/2,c>0&&h>0)){var R=(l[c-1][h]+2*l[c][h-1]+l[c-1][h-1])/4;m<R&&(O=R)}l[c][h]=O}}return l},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(TSe),b0=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new xy("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new xy("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new xy("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new wt,n=0;n<this.height;n++){for(var i=this.getRow(n,e),a=0;a<this.width;a++){var o=i[a]&255,s=void 0;o<64?s="#":o<128?s="+":o<192?s=".":s=" ",r.append(s)}r.append(`
`)}return r.toString()},t}(),ISe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Aw=function(t){ISe(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),a=this.getWidth(),o=0;o<a;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),a=0;a<n;a++)i[a]=255-(r[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,a){return new e(this.delegate.crop(r,n,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(b0),PSe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),RSe=function(t){PSe(e,t);function e(r,n){n===void 0&&(n=!1);var i=t.call(this,r.width,r.height)||this;return i.canvas=r,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(r,n),i}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var i=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,i,a){a===void 0&&(a=!1);var o=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var s=0,u=0,l=r.length;s<l;s+=4,u++){var c=void 0,f=r[s+3];if(f===0)c=255;else{var h=r[s],v=r[s+1],g=r[s+2];c=306*h+601*v+117*g+512>>10}o[u]=c}else for(var s=0,u=0,m=r.length;s<m;s+=4,u++){var c=void 0,f=r[s+3];if(f===0)c=255;else{var h=r[s],v=r[s+1],g=r[s+2];c=306*h+601*v+117*g+512>>10}o[u]=255-c}return o},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Qe("Requested row is outside the image: "+r);var i=this.getWidth(),a=r*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return t.prototype.crop.call(this,r,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),a=r*e.DEGREE_TO_RADIANS,o=this.canvas.width,s=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*s),l=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*s);return n.width=u,n.height=l,i.translate(u/2,l/2),i.rotate(a),i.drawImage(this.canvas,o/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new Aw(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(b0),DSe=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),oi=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})},si=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},NSe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Vd=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return oi(this,void 0,void 0,function(){var e,r,n,i,a,o,s,u,l,c,f,h;return si(this,function(v){switch(v.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=v.sent(),r=[];try{for(n=NSe(e),i=n.next();!i.done;i=n.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(s=a.deviceId||a.id,u=a.label||"Video device "+(r.length+1),l=a.groupId,c={deviceId:s,label:u,kind:o,groupId:l},r.push(c))}catch(g){f={error:g}}finally{try{i&&!i.done&&(h=n.return)&&h.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return oi(this,void 0,void 0,function(){var e;return si(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new DSe(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return oi(this,void 0,void 0,function(){var r;return si(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return oi(this,void 0,void 0,function(){return si(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return oi(this,void 0,void 0,function(){var n,i;return si(this,function(a){switch(a.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return oi(this,void 0,void 0,function(){var n;return si(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return oi(this,void 0,void 0,function(){var n,i;return si(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=a.sent(),[4,this.decodeOnce(n)];case 2:return i=a.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return oi(this,void 0,void 0,function(){return si(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return oi(this,void 0,void 0,function(){var i,a;return si(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return oi(this,void 0,void 0,function(){var i;return si(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,a.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return oi(this,void 0,void 0,function(){var i;return si(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,a.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return oi(this,void 0,void 0,function(){var n;return si(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return oi(this,void 0,void 0,function(){return si(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new jr("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new jr("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new jr("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new jr("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new jr("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new jr("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new jr("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new jr("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new jr("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new jr("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return oi(this,void 0,void 0,function(){return si(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return oi(this,void 0,void 0,function(){return si(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var a=function(o,s){if(i._stopAsyncDecode){s(new ge("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var u=i.decode(e);o(u)}catch(h){var l=r&&h instanceof ge,c=h instanceof Wr||h instanceof ke,f=c&&n;if(l||f)return setTimeout(a,i._timeBetweenDecodingAttempts,o,s);s(h)}};return new Promise(function(o,s){return a(o,s)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var a=n.decode(e);r(a,null),setTimeout(i,n.timeBetweenScansMillis)}catch(u){r(null,u);var o=u instanceof Wr||u instanceof ke,s=u instanceof ge;(o||s)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new RSe(n,r),a=new kH(i);return new NH(a)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),Jn=function(){function t(e,r,n,i,a,o){n===void 0&&(n=r==null?0:8*r.length),o===void 0&&(o=ur.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=a,this.resultMetadata=null,o==null?this.timestamp=ur.currentTimeMillis():this.timestamp=o}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);ur.arraycopy(r,0,n,0,r.length),ur.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),kC;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(kC||(kC={}));const Ye=kC;var MC;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(MC||(MC={}));const Dn=MC;var Sw=function(){function t(e,r,n,i,a,o){a===void 0&&(a=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),fp=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Qe;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),_u=function(){function t(e,r){if(r.length===0)throw new Qe;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),ur.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,a=r.length;i!==a;i++){var o=r[i];n=fp.addOrSubtract(n,o)}return n}n=r[0];for(var s=r.length,u=this.field,i=1;i<s;i++)n=fp.addOrSubtract(u.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Qe("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;ur.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=fp.addOrSubtract(r[s-o],n[s]);return new t(this.field,a)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Qe("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=this.field,u=0;u<n;u++)for(var l=r[u],c=0;c<a;c++)o[u+c]=fp.addOrSubtract(o[u+c],s.multiply(l,i[c]));return new t(s,o)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),a=this.coefficients,o=0;o<r;o++)i[o]=n.multiply(a[o],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Qe;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,a=new Int32Array(i+e),o=this.field,s=0;s<i;s++)a[s]=o.multiply(n[s],r);return new t(o,a)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Qe("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Qe("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,a=e.getCoefficient(e.getDegree()),o=r.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var s=i.getDegree()-e.getDegree(),u=r.multiply(i.getCoefficient(i.getDegree()),o),l=e.multiplyByMonomial(s,u),c=r.buildMonomial(s,u);n=n.addOrSubtract(c),i=i.addOrSubtract(l)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),kSe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),MH=function(t){kSe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(Di),MSe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Si=function(t){MSe(e,t);function e(r,n,i){var a=t.call(this)||this;a.primitive=r,a.size=n,a.generatorBase=i;for(var o=new Int32Array(n),s=1,u=0;u<n;u++)o[u]=s,s*=2,s>=n&&(s^=r,s&=n-1);a.expTable=o;for(var l=new Int32Array(n),u=0;u<n-1;u++)l[o[u]]=u;return a.logTable=l,a.zero=new _u(a,Int32Array.from([0])),a.one=new _u(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Qe;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new _u(this,i)},e.prototype.inverse=function(r){if(r===0)throw new MH;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Et.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(fp),LSe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wm=function(t){LSe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(Di),jSe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),E0=function(t){jSe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(Di),Ow=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new _u(n,e),a=new Int32Array(r),o=!0,s=0;s<r;s++){var u=i.evaluateAt(n.exp(s+n.getGeneratorBase()));a[a.length-1-s]=u,u!==0&&(o=!1)}if(!o)for(var l=new _u(n,a),c=this.runEuclideanAlgorithm(n.buildMonomial(r,1),l,r),f=c[0],h=c[1],v=this.findErrorLocations(f),g=this.findErrorMagnitudes(h,v),s=0;s<v.length;s++){var m=e.length-1-n.log(v[s]);if(m<0)throw new Wm("Bad error location");e[m]=Si.addOrSubtract(e[m],g[s])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=this.field,o=e,s=r,u=a.getZero(),l=a.getOne();s.getDegree()>=(n/2|0);){var c=o,f=u;if(o=s,u=l,o.isZero())throw new Wm("r_{i-1} was zero");s=c;for(var h=a.getZero(),v=o.getCoefficient(o.getDegree()),g=a.inverse(v);s.getDegree()>=o.getDegree()&&!s.isZero();){var m=s.getDegree()-o.getDegree(),_=a.multiply(s.getCoefficient(s.getDegree()),g);h=h.addOrSubtract(a.buildMonomial(m,_)),s=s.addOrSubtract(o.multiplyByMonomial(m,_))}if(l=h.multiply(u).addOrSubtract(f),s.getDegree()>=o.getDegree())throw new E0("Division algorithm failed to reduce polynomial?")}var b=l.getCoefficient(0);if(b===0)throw new Wm("sigmaTilde(0) was zero");var E=a.inverse(b),A=l.multiplyScalar(E),C=s.multiplyScalar(E);return[A,C]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,a=this.field,o=1;o<a.getSize()&&i<r;o++)e.evaluateAt(o)===0&&(n[i]=a.inverse(o),i++);if(i!==r)throw new Wm("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),a=this.field,o=0;o<n;o++){for(var s=a.inverse(r[o]),u=1,l=0;l<n;l++)if(o!==l){var c=a.multiply(r[l],s),f=(c&1)===0?c|1:c&-2;u=a.multiply(u,f)}i[o]=a.multiply(e.evaluateAt(s),a.inverse(u)),a.getGeneratorBase()!==0&&(i[o]=a.multiply(i[o],s))}return i},t}(),Tn;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(Tn||(Tn={}));var c7=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),a=t.convertBoolArrayToByteArray(i),o=t.getEncodedData(i),s=new Sw(a,o,null,null);return s.setNumBits(i.length),s},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=Tn.UPPER,i=Tn.UPPER,a="",o=0;o<r;)if(i===Tn.BINARY){if(r-o<5)break;var s=t.readCode(e,o,5);if(o+=5,s===0){if(r-o<11)break;s=t.readCode(e,o,11)+31,o+=11}for(var u=0;u<s;u++){if(r-o<8){o=r;break}var l=t.readCode(e,o,8);a+=Pt.castAsNonUtf8Char(l),o+=8}i=n}else{var c=i===Tn.DIGIT?4:5;if(r-o<c)break;var l=t.readCode(e,o,c);o+=c;var f=t.getCharacter(i,l);f.startsWith("CTRL_")?(n=i,i=t.getTable(f.charAt(5)),f.charAt(6)==="L"&&(n=i)):(a+=f,i=n)}return a},t.getTable=function(e){switch(e){case"L":return Tn.LOWER;case"P":return Tn.PUNCT;case"M":return Tn.MIXED;case"D":return Tn.DIGIT;case"B":return Tn.BINARY;case"U":default:return Tn.UPPER}},t.getCharacter=function(e,r){switch(e){case Tn.UPPER:return t.UPPER_TABLE[r];case Tn.LOWER:return t.LOWER_TABLE[r];case Tn.MIXED:return t.MIXED_TABLE[r];case Tn.PUNCT:return t.PUNCT_TABLE[r];case Tn.DIGIT:return t.DIGIT_TABLE[r];default:throw new E0("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=Si.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=Si.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=Si.AZTEC_DATA_10):(n=12,r=Si.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/n;if(a<i)throw new ke;for(var o=e.length%n,s=new Int32Array(a),u=0;u<a;u++,o+=n)s[u]=t.readCode(e,o,n);try{var l=new Ow(r);l.decode(s,a-i)}catch(_){throw new ke(_)}for(var c=(1<<n)-1,f=0,u=0;u<i;u++){var h=s[u];if(h===0||h===c)throw new ke;(h===1||h===c-1)&&f++}for(var v=new Array(i*n-f),g=0,u=0;u<i;u++){var h=s[u];if(h===1||h===c-1)v.fill(h>1,g,g+n-1),g+=n-1;else for(var m=n-1;m>=0;--m)v[g++]=(h&1<<m)!==0}return v},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,a=new Int32Array(i),o=new Array(this.totalBitsInLayer(n,r));if(r)for(var s=0;s<a.length;s++)a[s]=s;else for(var u=i+1+2*Et.truncDivision(Et.truncDivision(i,2)-1,15),l=i/2,c=Et.truncDivision(u,2),s=0;s<l;s++){var f=s+Et.truncDivision(s,15);a[l-s-1]=c-f-1,a[l+s]=c+f+1}for(var s=0,h=0;s<n;s++){for(var v=(n-s)*4+(r?9:12),g=s*2,m=i-1-g,_=0;_<v;_++)for(var b=_*2,E=0;E<2;E++)o[h+b+E]=e.get(a[g+E],a[g+_]),o[h+2*v+b+E]=e.get(a[g+_],a[m-E]),o[h+4*v+b+E]=e.get(a[m-E],a[m-_]),o[h+6*v+b+E]=e.get(a[m-_],a[g+E]);h+=v*8}return o},t.readCode=function(e,r,n){for(var i=0,a=r;a<r+n;a++)i<<=1,e[a]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),kt=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var a=e-n,o=r-i;return Math.sqrt(a*a+o*o)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var a=e[n];r+=a}return r},t}(),LC=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),He=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*LC.floatToIntBits(this.x)+LC.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,o,s;if(n>=r&&n>=i?(o=e[0],a=e[1],s=e[2]):i>=n&&i>=r?(o=e[1],a=e[0],s=e[2]):(o=e[2],a=e[0],s=e[1]),this.crossProductZ(a,o,s)<0){var u=a;a=s,s=u}e[0]=a,e[1]=o,e[2]=s},t.distance=function(e,r){return kt.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,a=r.y;return(n.x-i)*(e.y-a)-(n.y-a)*(e.x-i)},t}(),PR=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),FSe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),BSe=function(t){FSe(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n)||this;return s.compact=i,s.nbDatablocks=a,s.nbLayers=o,s}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(PR),jC=function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=r/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ge}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,a=!1,o=!0,s=!1,u=!1,l=!1,c=!1,f=!1,h=this.width,v=this.height;o;){o=!1;for(var g=!0;(g||!u)&&r<h;)g=this.containsBlackPoint(n,i,r,!1),g?(r++,o=!0,u=!0):u||r++;if(r>=h){a=!0;break}for(var m=!0;(m||!l)&&i<v;)m=this.containsBlackPoint(e,r,i,!0),m?(i++,o=!0,l=!0):l||i++;if(i>=v){a=!0;break}for(var _=!0;(_||!c)&&e>=0;)_=this.containsBlackPoint(n,i,e,!1),_?(e--,o=!0,c=!0):c||e--;if(e<0){a=!0;break}for(var b=!0;(b||!f)&&n>=0;)b=this.containsBlackPoint(e,r,n,!0),b?(n--,o=!0,f=!0):f||n--;if(n<0){a=!0;break}o&&(s=!0)}if(!a&&s){for(var E=r-e,A=null,C=1;A===null&&C<E;C++)A=this.getBlackPointOnSegment(e,i-C,e+C,i);if(A==null)throw new ge;for(var O=null,C=1;O===null&&C<E;C++)O=this.getBlackPointOnSegment(e,n+C,e+C,n);if(O==null)throw new ge;for(var R=null,C=1;R===null&&C<E;C++)R=this.getBlackPointOnSegment(r,n+C,r-C,n);if(R==null)throw new ge;for(var I=null,C=1;I===null&&C<E;C++)I=this.getBlackPointOnSegment(r,i-C,r-C,i);if(I==null)throw new ge;return this.centerEdges(I,A,R,O)}else throw new ge},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var a=kt.round(kt.distance(e,r,n,i)),o=(n-e)/a,s=(i-r)/a,u=this.image,l=0;l<a;l++){var c=kt.round(e+l*o),f=kt.round(r+l*s);if(u.get(c,f))return new He(c,f)}return null},t.prototype.centerEdges=function(e,r,n,i){var a=e.getX(),o=e.getY(),s=r.getX(),u=r.getY(),l=n.getX(),c=n.getY(),f=i.getX(),h=i.getY(),v=t.CORR;return a<this.width/2?[new He(f-v,h+v),new He(s+v,u+v),new He(l-v,c-v),new He(a+v,o-v)]:[new He(f+v,h+v),new He(s+v,u-v),new He(l-v,c+v),new He(a-v,o-v)]},t.prototype.containsBlackPoint=function(e,r,n,i){var a=this.image;if(i){for(var o=e;o<=r;o++)if(a.get(o,n))return!0}else for(var s=e;s<=r;s++)if(a.get(n,s))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),f7=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),a=!0,o=0;o<r.length&&a;o+=2){var s=Math.floor(r[o]),u=Math.floor(r[o+1]);if(s<-1||s>n||u<-1||u>i)throw new ge;a=!1,s===-1?(r[o]=0,a=!0):s===n&&(r[o]=n-1,a=!0),u===-1?(r[o+1]=0,a=!0):u===i&&(r[o+1]=i-1,a=!0)}a=!0;for(var o=r.length-2;o>=0&&a;o-=2){var s=Math.floor(r[o]),u=Math.floor(r[o+1]);if(s<-1||s>n||u<-1||u>i)throw new ge;a=!1,s===-1?(r[o]=0,a=!0):s===n&&(r[o]=n-1,a=!0),u===-1?(r[o+1]=0,a=!0):u===i&&(r[o+1]=i-1,a=!0)}},t}(),LH=function(){function t(e,r,n,i,a,o,s,u,l){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=a,this.a32=o,this.a13=s,this.a23=u,this.a33=l}return t.quadrilateralToQuadrilateral=function(e,r,n,i,a,o,s,u,l,c,f,h,v,g,m,_){var b=t.quadrilateralToSquare(e,r,n,i,a,o,s,u),E=t.squareToQuadrilateral(l,c,f,h,v,g,m,_);return E.times(b)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,u=this.a23,l=this.a31,c=this.a32,f=this.a33,h=0;h<r;h+=2){var v=e[h],g=e[h+1],m=a*v+u*g+f;e[h]=(n*v+o*g+l)/m,e[h+1]=(i*v+s*g+c)/m}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,u=this.a23,l=this.a31,c=this.a32,f=this.a33,h=e.length,v=0;v<h;v++){var g=e[v],m=r[v],_=a*g+u*m+f;e[v]=(n*g+o*m+l)/_,r[v]=(i*g+s*m+c)/_}},t.squareToQuadrilateral=function(e,r,n,i,a,o,s,u){var l=e-n+a-s,c=r-i+o-u;if(l===0&&c===0)return new t(n-e,a-n,e,i-r,o-i,r,0,0,1);var f=n-a,h=s-a,v=i-o,g=u-o,m=f*g-h*v,_=(l*g-h*c)/m,b=(f*c-l*v)/m;return new t(n-e+_*n,s-e+b*s,e,i-r+_*i,u-r+b*u,r,_,b,1)},t.quadrilateralToSquare=function(e,r,n,i,a,o,s,u){return t.squareToQuadrilateral(e,r,n,i,a,o,s,u).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),$Se=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),USe=function(t){$Se(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,a,o,s,u,l,c,f,h,v,g,m,_,b,E,A,C){var O=LH.quadrilateralToQuadrilateral(a,o,s,u,l,c,f,h,v,g,m,_,b,E,A,C);return this.sampleGridWithTransform(r,n,i,O)},e.prototype.sampleGridWithTransform=function(r,n,i,a){if(n<=0||i<=0)throw new ge;for(var o=new Fo(n,i),s=new Float32Array(2*n),u=0;u<i;u++){for(var l=s.length,c=u+.5,f=0;f<l;f+=2)s[f]=f/2+.5,s[f+1]=c;a.transformPoints(s),f7.checkAndNudgePoints(r,s);try{for(var f=0;f<l;f+=2)r.get(Math.floor(s[f]),Math.floor(s[f+1]))&&o.set(f/2,u)}catch{throw new ge}}return o},e}(f7),RR=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new USe,t}(),Ei=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new He(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),VSe=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var a=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new BSe(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new ge;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,a=0;a<4;a++){var o=n[(this.shift+a)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&992)+(o>>1&31))}var s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(a,o,s){var u=(a>>r-2<<1)+(a&1);n=(n<<3)+u}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(Et.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new ge},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var a=n-i,o=new Int32Array(n),s=n-1;s>=0;--s)o[s]=e&15,e>>=4;try{var u=new Ow(Si.AZTEC_PARAM);u.decode(o,a)}catch{throw new ge}for(var l=0,s=0;s<i;s++)l=(l<<4)+o[s];return l},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(r,o,1,-1),u=this.getFirstDifferent(n,o,1,1),l=this.getFirstDifferent(i,o,-1,1),c=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(c,s)*this.nbCenterLayers/(this.distancePoint(a,r)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(s,u,l,c))break}r=s,n=u,i=l,a=c,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ge;this.compact=this.nbCenterLayers===5;var h=new He(r.getX()+.5,r.getY()-.5),v=new He(n.getX()+.5,n.getY()+.5),g=new He(i.getX()-.5,i.getY()+.5),m=new He(a.getX()-.5,a.getY()-.5);return this.expandSquare([h,v,g,m],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var a=new jC(this.image).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{var o=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new Ei(o+7,s-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Ei(o+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Ei(o-7,s+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Ei(o-7,s-7),!1,-1,-1).toResultPoint()}var u=kt.round((e.getX()+i.getX()+r.getX()+n.getX())/4),l=kt.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var a=new jC(this.image,15,u,l).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{e=this.getFirstDifferent(new Ei(u+7,l-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Ei(u+7,l+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Ei(u-7,l+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Ei(u-7,l-7),!1,-1,-1).toResultPoint()}return u=kt.round((e.getX()+i.getX()+r.getX()+n.getX())/4),l=kt.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new Ei(u,l)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,a){var o=RR.getInstance(),s=this.getDimension(),u=s/2-this.nbCenterLayers,l=s/2+this.nbCenterLayers;return o.sampleGrid(e,s,s,u,u,l,u,l,l,u,l,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,a=this.distanceResultPoint(e,r),o=a/n,s=e.getX(),u=e.getY(),l=o*(r.getX()-e.getX())/a,c=o*(r.getY()-e.getY())/a,f=0;f<n;f++)this.image.get(kt.round(s+f*l),kt.round(u+f*c))&&(i|=1<<n-f-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var a=3;e=new Ei(e.getX()-a,e.getY()+a),r=new Ei(r.getX()-a,r.getY()-a),n=new Ei(n.getX()+a,n.getY()-a),i=new Ei(i.getX()+a,i.getY()+a);var o=this.getColor(i,e);if(o===0)return!1;var s=this.getColor(e,r);return s!==o||(s=this.getColor(r,n),s!==o)?!1:(s=this.getColor(n,i),s===o)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,a=(r.getY()-e.getY())/n,o=0,s=e.getX(),u=e.getY(),l=this.image.get(e.getX(),e.getY()),c=Math.ceil(n),f=0;f<c;f++)s+=i,u+=a,this.image.get(kt.round(s),kt.round(u))!==l&&o++;var h=o/n;return h>.1&&h<.9?0:h<=.1===l?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var a=e.getX()+n,o=e.getY()+i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n,o+=i;for(a-=n,o-=i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n;for(a-=n;this.isValid(a,o)&&this.image.get(a,o)===r;)o+=i;return o-=i,new Ei(a,o)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,u=(e[0].getY()+e[2].getY())/2,l=new He(s+i*a,u+i*o),c=new He(s-i*a,u-i*o);a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,u=(e[1].getY()+e[3].getY())/2;var f=new He(s+i*a,u+i*o),h=new He(s-i*a,u-i*o),v=[l,f,c,h];return v},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=kt.round(e.getX()),n=kt.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return kt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return kt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Et.truncDivision(this.nbLayers-4,8)+1)+15},t}(),H1=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new VSe(e.getBlackMatrix()),a=null,o=null;try{var s=i.detectMirror(!1);a=s.getPoints(),this.reportFoundResultPoints(r,a),o=new c7().decode(s)}catch(f){n=f}if(o==null)try{var s=i.detectMirror(!0);a=s.getPoints(),this.reportFoundResultPoints(r,a),o=new c7().decode(s)}catch(f){throw n??f}var u=new Jn(o.getText(),o.getRawBytes(),o.getNumBits(),a,Ye.AZTEC,ur.currentTimeMillis()),l=o.getByteSegments();l!=null&&u.putMetadata(Dn.BYTE_SEGMENTS,l);var c=o.getECLevel();return c!=null&&u.putMetadata(Dn.ERROR_CORRECTION_LEVEL,c),u},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(lr.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,a,o){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t}(),qSe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){qSe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new H1,r)||this}return e})(Vd);var on=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(lr.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,r),o=a.getResultMetadata(),s=270;o!==null&&o.get(Dn.ORIENTATION)===!0&&(s=s+o.get(Dn.ORIENTATION)%360),a.putMetadata(Dn.ORIENTATION,s);var u=a.getResultPoints();if(u!==null)for(var l=i.getHeight(),c=0;c<u.length;c++)u[c]=new He(l-u[c].getY()-1,u[c].getX());return a}else throw new ge}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),a=new wn(n),o=r&&r.get(lr.TRY_HARDER)===!0,s=Math.max(1,i>>(o?8:5)),u;o?u=i:u=15;for(var l=Math.trunc(i/2),c=0;c<u;c++){var f=Math.trunc((c+1)/2),h=(c&1)===0,v=l+s*(h?f:-f);if(v<0||v>=i)break;try{a=e.getBlackRow(v,a)}catch{continue}for(var g=function(E){if(E===1&&(a.reverse(),r&&r.get(lr.NEED_RESULT_POINT_CALLBACK)===!0)){var A=new Map;r.forEach(function(R,I){return A.set(I,R)}),A.delete(lr.NEED_RESULT_POINT_CALLBACK),r=A}try{var C=m.decodeRow(v,a,r);if(E===1){C.putMetadata(Dn.ORIENTATION,180);var O=C.getResultPoints();O!==null&&(O[0]=new He(n-O[0].getX()-1,O[0].getY()),O[1]=new He(n-O[1].getX()-1,O[1].getY()))}return{value:C}}catch{}},m=this,_=0;_<2;_++){var b=g(_);if(typeof b=="object")return b.value}}throw new ge},t.recordPattern=function(e,r,n){for(var i=n.length,a=0;a<i;a++)n[a]=0;var o=e.getSize();if(r>=o)throw new ge;for(var s=!e.get(r),u=0,l=r;l<o;){if(e.get(l)!==s)n[u]++;else{if(++u===i)break;n[u]=1,s=!s}l++}if(!(u===i||u===i-1&&l===o))throw new ge},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,a=e.get(r);r>0&&i>=0;)e.get(--r)!==a&&(i--,a=!a);if(i>=0)throw new ge;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=r[s];if(a<o)return Number.POSITIVE_INFINITY;var u=a/o;n*=u;for(var l=0,c=0;c<i;c++){var f=e[c],h=r[c]*u,v=f>h?f-h:h-f;if(v>n)return Number.POSITIVE_INFINITY;l+=v}return l/a},t}(),zSe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),d7=function(t){zSe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),s=i,u=!1,l=6,c=i;c<n;c++)if(r.get(c)!==u)o[a]++;else{if(a===l-1){for(var f=e.MAX_AVG_VARIANCE,h=-1,v=e.CODE_START_A;v<=e.CODE_START_C;v++){var g=on.patternMatchVariance(o,e.CODE_PATTERNS[v],e.MAX_INDIVIDUAL_VARIANCE);g<f&&(f=g,h=v)}if(h>=0&&r.isRange(Math.max(0,s-(c-s)/2),s,!1))return Int32Array.from([s,c,h]);s+=o[0]+o[1],o=o.slice(2,o.length),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,u=!u}throw new ge},e.decodeCode=function(r,n,i){on.recordPattern(r,i,n);for(var a=e.MAX_AVG_VARIANCE,o=-1,s=0;s<e.CODE_PATTERNS.length;s++){var u=e.CODE_PATTERNS[s],l=this.patternMatchVariance(n,u,e.MAX_INDIVIDUAL_VARIANCE);l<a&&(a=l,o=s)}if(o>=0)return o;throw new ge},e.prototype.decodeRow=function(r,n,i){var a=i&&i.get(lr.ASSUME_GS1)===!0,o=e.findStartPattern(n),s=o[2],u=0,l=new Uint8Array(20);l[u++]=s;var c;switch(s){case e.CODE_START_A:c=e.CODE_CODE_A;break;case e.CODE_START_B:c=e.CODE_CODE_B;break;case e.CODE_START_C:c=e.CODE_CODE_C;break;default:throw new ke}for(var f=!1,h=!1,v="",g=o[0],m=o[1],_=Int32Array.from([0,0,0,0,0,0]),b=0,E=0,A=s,C=0,O=!0,R=!1,I=!1;!f;){var S=h;switch(h=!1,b=E,E=e.decodeCode(n,_,m),l[u++]=E,E!==e.CODE_STOP&&(O=!0),E!==e.CODE_STOP&&(C++,A+=C*E),g=m,m+=_.reduce(function(te,X){return te+X},0),E){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new ke}switch(c){case e.CODE_CODE_A:if(E<64)I===R?v+=String.fromCharCode(32+E):v+=String.fromCharCode(32+E+128),I=!1;else if(E<96)I===R?v+=String.fromCharCode(E-64):v+=String.fromCharCode(E+64),I=!1;else switch(E!==e.CODE_STOP&&(O=!1),E){case e.CODE_FNC_1:a&&(v.length===0?v+="]C1":v+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!R&&I?(R=!0,I=!1):R&&I?(R=!1,I=!1):I=!0;break;case e.CODE_SHIFT:h=!0,c=e.CODE_CODE_B;break;case e.CODE_CODE_B:c=e.CODE_CODE_B;break;case e.CODE_CODE_C:c=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_B:if(E<96)I===R?v+=String.fromCharCode(32+E):v+=String.fromCharCode(32+E+128),I=!1;else switch(E!==e.CODE_STOP&&(O=!1),E){case e.CODE_FNC_1:a&&(v.length===0?v+="]C1":v+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!R&&I?(R=!0,I=!1):R&&I?(R=!1,I=!1):I=!0;break;case e.CODE_SHIFT:h=!0,c=e.CODE_CODE_A;break;case e.CODE_CODE_A:c=e.CODE_CODE_A;break;case e.CODE_CODE_C:c=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_C:if(E<100)E<10&&(v+="0"),v+=E;else switch(E!==e.CODE_STOP&&(O=!1),E){case e.CODE_FNC_1:a&&(v.length===0?v+="]C1":v+="");break;case e.CODE_CODE_A:c=e.CODE_CODE_A;break;case e.CODE_CODE_B:c=e.CODE_CODE_B;break;case e.CODE_STOP:f=!0;break}break}S&&(c=c===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var T=m-g;if(m=n.getNextUnset(m),!n.isRange(m,Math.min(n.getSize(),m+(m-g)/2),!1))throw new ge;if(A-=C*b,A%103!==b)throw new Wr;var D=v.length;if(D===0)throw new ge;D>0&&O&&(c===e.CODE_CODE_C?v=v.substring(0,D-2):v=v.substring(0,D-1));for(var L=(o[1]+o[0])/2,F=g+T/2,j=l.length,K=new Uint8Array(j),ee=0;ee<j;ee++)K[ee]=l[ee];var W=[new He(L,r),new He(F,r)];return new Jn(v,K,0,W,Ye.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(on),WSe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),hO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},h7=function(t){WSe(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var a,o,s,u,l=this.counters;l.fill(0),this.decodeRowResult="";var c=e.findAsteriskPattern(n,l),f=n.getNextSet(c[1]),h=n.getSize(),v,g;do{e.recordPattern(n,f,l);var m=e.toNarrowWidePattern(l);if(m<0)throw new ge;v=e.patternToChar(m),this.decodeRowResult+=v,g=f;try{for(var _=(a=void 0,hO(l)),b=_.next();!b.done;b=_.next()){var E=b.value;f+=E}}catch(j){a={error:j}}finally{try{b&&!b.done&&(o=_.return)&&o.call(_)}finally{if(a)throw a.error}}f=n.getNextSet(f)}while(v!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var A=0;try{for(var C=hO(l),O=C.next();!O.done;O=C.next()){var E=O.value;A+=E}}catch(j){s={error:j}}finally{try{O&&!O.done&&(u=C.return)&&u.call(C)}finally{if(s)throw s.error}}var R=f-g-A;if(f!==h&&R*2<A)throw new ge;if(this.usingCheckDigit){for(var I=this.decodeRowResult.length-1,S=0,T=0;T<I;T++)S+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(T));if(this.decodeRowResult.charAt(I)!==e.ALPHABET_STRING.charAt(S%43))throw new Wr;this.decodeRowResult=this.decodeRowResult.substring(0,I)}if(this.decodeRowResult.length===0)throw new ge;var D;this.extendedMode?D=e.decodeExtended(this.decodeRowResult):D=this.decodeRowResult;var L=(c[1]+c[0])/2,F=g+A/2;return new Jn(D,null,0,[new He(L,r),new He(F,r)],Ye.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),a=r.getNextSet(0),o=0,s=a,u=!1,l=n.length,c=a;c<i;c++)if(r.get(c)!==u)n[o]++;else{if(o===l-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,s-Math.floor((c-s)/2)),s,!1))return[s,c];s+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,u=!u}throw new ge},e.toNarrowWidePattern=function(r){var n,i,a=r.length,o=0,s;do{var u=2147483647;try{for(var l=(n=void 0,hO(r)),c=l.next();!c.done;c=l.next()){var f=c.value;f<u&&f>o&&(u=f)}}catch(m){n={error:m}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}o=u,s=0;for(var h=0,v=0,g=0;g<a;g++){var f=r[g];f>o&&(v|=1<<a-1-g,s++,h+=f)}if(s===3){for(var g=0;g<a&&s>0;g++){var f=r[g];if(f>o&&(s--,f*2>=h))return-1}return v}}while(s>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new ge},e.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o==="+"||o==="$"||o==="%"||o==="/"){var s=r.charAt(a+1),u="\0";switch(o){case"+":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)+32);else throw new ke;break;case"$":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)-64);else throw new ke;break;case"%":if(s>="A"&&s<="E")u=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")u=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")u=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")u="\0";else if(s==="V")u="@";else if(s==="W")u="`";else if(s==="X"||s==="Y"||s==="Z")u="";else throw new ke;break;case"/":if(s>="A"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")u=":";else throw new ke;break}i+=u,a++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(on),HSe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),pO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},p7=function(t){HSe(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,i){var a,o,s,u,l=this.findAsteriskPattern(n),c=n.getNextSet(l[1]),f=n.getSize(),h=this.counters;h.fill(0),this.decodeRowResult="";var v,g;do{e.recordPattern(n,c,h);var m=this.toPattern(h);if(m<0)throw new ge;v=this.patternToChar(m),this.decodeRowResult+=v,g=c;try{for(var _=(a=void 0,pO(h)),b=_.next();!b.done;b=_.next()){var E=b.value;c+=E}}catch(T){a={error:T}}finally{try{b&&!b.done&&(o=_.return)&&o.call(_)}finally{if(a)throw a.error}}c=n.getNextSet(c)}while(v!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var A=0;try{for(var C=pO(h),O=C.next();!O.done;O=C.next()){var E=O.value;A+=E}}catch(T){s={error:T}}finally{try{O&&!O.done&&(u=C.return)&&u.call(C)}finally{if(s)throw s.error}}if(c===f||!n.get(c))throw new ge;if(this.decodeRowResult.length<2)throw new ge;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var R=this.decodeExtended(this.decodeRowResult),I=(l[1]+l[0])/2,S=g+A/2;return new Jn(R,null,0,[new He(I,r),new He(S,r)],Ye.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),i=r.getNextSet(0);this.counters.fill(0);for(var a=this.counters,o=i,s=!1,u=a.length,l=0,c=i;c<n;c++)if(r.get(c)!==s)a[l]++;else{if(l===u-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([o,c]);o+=a[0]+a[1],a.copyWithin(0,2,2+l-1),a[l-1]=0,a[l]=0,l--}else l++;a[l]=1,s=!s}throw new ge},e.prototype.toPattern=function(r){var n,i,a=0;try{for(var o=pO(r),s=o.next();!s.done;s=o.next()){var u=s.value;a+=u}}catch(g){n={error:g}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}for(var l=0,c=r.length,f=0;f<c;f++){var h=Math.round(r[f]*9/a);if(h<1||h>4)return-1;if((f&1)===0)for(var v=0;v<h;v++)l=l<<1|1;else l<<=h}return l},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new ge},e.prototype.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o>="a"&&o<="d"){if(a>=n-1)throw new ke;var s=r.charAt(a+1),u="\0";switch(o){case"d":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)+32);else throw new ke;break;case"a":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)-64);else throw new ke;break;case"b":if(s>="A"&&s<="E")u=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")u=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")u=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")u="\0";else if(s==="V")u="@";else if(s==="W")u="`";else if(s>="X"&&s<="Z")u="";else throw new ke;break;case"c":if(s>="A"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")u=":";else throw new ke;break}i+=u,a++}else i+=o}return i},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,i){for(var a=1,o=0,s=n-1;s>=0;s--)o+=a*e.ALPHABET_STRING.indexOf(r.charAt(s)),++a>i&&(a=1);if(r.charAt(n)!==e.ALPHABET_STRING[o%47])throw new Wr},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(on),GSe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),KSe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},v7=function(t){GSe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var a,o,s=this.decodeStart(n),u=this.decodeEnd(n),l=new wt;e.decodeMiddle(n,s[1],u[0],l);var c=l.toString(),f=null;i!=null&&(f=i.get(lr.ALLOWED_LENGTHS)),f==null&&(f=e.DEFAULT_ALLOWED_LENGTHS);var h=c.length,v=!1,g=0;try{for(var m=KSe(f),_=m.next();!_.done;_=m.next()){var b=_.value;if(h===b){v=!0;break}b>g&&(g=b)}}catch(C){a={error:C}}finally{try{_&&!_.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}if(!v&&h>g&&(v=!0),!v)throw new ke;var E=[new He(s[1],r),new He(u[0],r)],A=new Jn(c,null,0,E,Ye.ITF,new Date().getTime());return A},e.decodeMiddle=function(r,n,i,a){var o=new Int32Array(10),s=new Int32Array(5),u=new Int32Array(5);for(o.fill(0),s.fill(0),u.fill(0);n<i;){on.recordPattern(r,n,o);for(var l=0;l<5;l++){var c=2*l;s[l]=o[c],u[l]=o[c+1]}var f=e.decodeDigit(s);a.append(f.toString()),f=this.decodeDigit(u),a.append(f.toString()),o.forEach(function(h){n+=h})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var a=n-1;i>0&&a>=0&&!r.get(a);a--)i--;if(i!==0)throw new ge},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new ge;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof ge&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var a=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-a,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var a=i.length,o=new Int32Array(a),s=r.getSize(),u=!1,l=0,c=n;o.fill(0);for(var f=n;f<s;f++)if(r.get(f)!==u)o[l]++;else{if(l===a-1){if(on.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[c,f];c+=o[0]+o[1],ur.arraycopy(o,2,o,0,l-1),o[l-1]=0,o[l]=0,l--}else l++;o[l]=1,u=!u}throw new ge},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,o=0;o<a;o++){var s=e.PATTERNS[o],u=on.patternMatchVariance(r,s,e.MAX_INDIVIDUAL_VARIANCE);u<n?(n=u,i=o):u===n&&(i=-1)}if(i>=0)return i%10;throw new ge},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(on),XSe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),yd=function(t){XSe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,a=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,a,!1,this.START_END_PATTERN,o);var s=i[0];a=i[1];var u=s-(a-s);u>=0&&(n=r.isRange(u,s,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new ke;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new ke;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,a){return this.findGuardPattern(r,n,i,a,new Int32Array(a.length))},e.findGuardPattern=function(r,n,i,a,o){var s=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var u=0,l=n,c=a.length,f=i,h=n;h<s;h++)if(r.get(h)!==f)o[u]++;else{if(u===c-1){if(on.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([l,h]);l+=o[0]+o[1];for(var v=o.slice(2,o.length),g=0;g<u-1;g++)o[g]=v[g];o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,f=!f}throw new ge},e.decodeDigit=function(r,n,i,a){this.recordPattern(r,i,n);for(var o=this.MAX_AVG_VARIANCE,s=-1,u=a.length,l=0;l<u;l++){var c=a[l],f=on.patternMatchVariance(n,c,e.MAX_INDIVIDUAL_VARIANCE);f<o&&(o=f,s=l)}if(s>=0)return s;throw new ge},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(on),YSe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},QSe=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),s=t.parseExtensionString(o),u=[new He((n[0]+n[1])/2,e),new He(a,e)],l=new Jn(o,null,0,u,Ye.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&l.putAllMetadata(s),l},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),u=r[1],l=0,c=0;c<5&&u<s;c++){var f=yd.decodeDigit(e,o,u,yd.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var h=(i=void 0,YSe(o)),v=h.next();!v.done;v=h.next()){var g=v.value;u+=g}}catch(_){i={error:_}}finally{try{v&&!v.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}f>=10&&(l|=1<<4-c),c!==4&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(n.length!==5)throw new ge;var m=this.determineCheckDigit(l);if(t.extensionChecksum(n.toString())!==m)throw new ge;return u},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new ge},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[Dn.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),a=n%100,o=a<10?"0"+a:a.toString();return r+i+"."+o},t}(),ZSe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},JSe=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),s=t.parseExtensionString(o),u=[new He((n[0]+n[1])/2,e),new He(a,e)],l=new Jn(o,null,0,u,Ye.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&l.putAllMetadata(s),l},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),u=r[1],l=0,c=0;c<2&&u<s;c++){var f=yd.decodeDigit(e,o,u,yd.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var h=(i=void 0,ZSe(o)),v=h.next();!v.done;v=h.next()){var g=v.value;u+=g}}catch(m){i={error:m}}finally{try{v&&!v.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}f>=10&&(l|=1<<1-c),c!==1&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(n.length!==2)throw new ge;if(parseInt(n.toString())%4!==l)throw new ge;return u},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[Dn.ISSUE_NUMBER,parseInt(e)]])},t}(),eOe=function(){function t(){}return t.decodeRow=function(e,r,n){var i=yd.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new QSe;return a.decodeRow(e,r,i)}catch{var o=new JSe;return o.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),tOe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),en=function(t){tOe(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],a=new Int32Array(i.length),o=0;o<i.length;o++)a[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[n]=a}return r}return e.prototype.decodeRow=function(r,n,i){var a=e.findStartGuardPattern(n),o=i==null?null:i.get(lr.NEED_RESULT_POINT_CALLBACK);if(o!=null){var s=new He((a[0]+a[1])/2,r);o.foundPossibleResultPoint(s)}var u=this.decodeMiddle(n,a,this.decodeRowStringBuffer),l=u.rowOffset,c=u.resultString;if(o!=null){var f=new He(l,r);o.foundPossibleResultPoint(f)}var h=e.decodeEnd(n,l);if(o!=null){var v=new He((h[0]+h[1])/2,r);o.foundPossibleResultPoint(v)}var g=h[1],m=g+(g-h[0]);if(m>=n.getSize()||!n.isRange(g,m,!1))throw new ge;var _=c.toString();if(_.length<8)throw new ke;if(!e.checkChecksum(_))throw new Wr;var b=(a[1]+a[0])/2,E=(h[1]+h[0])/2,A=this.getBarcodeFormat(),C=[new He(b,r),new He(E,r)],O=new Jn(_,null,0,C,A,new Date().getTime()),R=0;try{var I=eOe.decodeRow(r,n,h[1]);O.putMetadata(Dn.UPC_EAN_EXTENSION,I.getText()),O.putAllMetadata(I.getResultMetadata()),O.addResultPoints(I.getResultPoints()),R=I.getText().length}catch{}var S=i==null?null:i.get(lr.ALLOWED_EAN_EXTENSIONS);if(S!=null){var T=!1;for(var D in S)if(R.toString()===D){T=!0;break}if(!T)throw new ge}return A===Ye.EAN_13||Ye.UPC_A,O},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new ke;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new ke;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(yd),rOe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),g7=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},FC=function(t){rOe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s,u,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=r.getSize(),f=n[1],h=0,v=0;v<6&&f<c;v++){var g=en.decodeDigit(r,l,f,en.L_AND_G_PATTERNS);i+=String.fromCharCode(48+g%10);try{for(var m=(a=void 0,g7(l)),_=m.next();!_.done;_=m.next()){var b=_.value;f+=b}}catch(O){a={error:O}}finally{try{_&&!_.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}g>=10&&(h|=1<<5-v)}i=e.determineFirstDigit(i,h);var E=en.findGuardPattern(r,f,!0,en.MIDDLE_PATTERN,new Int32Array(en.MIDDLE_PATTERN.length).fill(0));f=E[1];for(var v=0;v<6&&f<c;v++){var g=en.decodeDigit(r,l,f,en.L_PATTERNS);i+=String.fromCharCode(48+g);try{for(var A=(s=void 0,g7(l)),C=A.next();!C.done;C=A.next()){var b=C.value;f+=b}}catch(I){s={error:I}}finally{try{C&&!C.done&&(u=A.return)&&u.call(A)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return Ye.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode(48+i)+r,r;throw new ge},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(en),nOe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),m7=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},y7=function(t){nOe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s,u,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=r.getSize(),f=n[1],h=0;h<4&&f<c;h++){var v=en.decodeDigit(r,l,f,en.L_PATTERNS);i+=String.fromCharCode(48+v);try{for(var g=(a=void 0,m7(l)),m=g.next();!m.done;m=g.next()){var _=m.value;f+=_}}catch(C){a={error:C}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}}var b=en.findGuardPattern(r,f,!0,en.MIDDLE_PATTERN,new Int32Array(en.MIDDLE_PATTERN.length).fill(0));f=b[1];for(var h=0;h<4&&f<c;h++){var v=en.decodeDigit(r,l,f,en.L_PATTERNS);i+=String.fromCharCode(48+v);try{for(var E=(s=void 0,m7(l)),A=E.next();!A.done;A=E.next()){var _=A.value;f+=_}}catch(R){s={error:R}}finally{try{A&&!A.done&&(u=E.return)&&u.call(E)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return Ye.EAN_8},e}(en),iOe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_7=function(t){iOe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new FC,r}return e.prototype.getBarcodeFormat=function(){return Ye.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new Jn(n.substring(1),null,null,r.getResultPoints(),Ye.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new ge},e.prototype.reset=function(){this.ean13Reader.reset()},e}(en),aOe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oOe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},w7=function(t){aOe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s=this.decodeMiddleCounters.map(function(_){return _});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var u=r.getSize(),l=n[1],c=0,f=0;f<6&&l<u;f++){var h=e.decodeDigit(r,s,l,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+h%10);try{for(var v=(a=void 0,oOe(s)),g=v.next();!g.done;g=v.next()){var m=g.value;l+=m}}catch(_){a={error:_}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}h>=10&&(c|=1<<5-f)}return e.determineNumSysAndCheckDigit(new wt(i),c),l},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return en.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){r.insert(0,"0"+i),r.append("0"+a);return}throw ge.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Ye.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new wt;i.append(r.charAt(0));var a=n[5];switch(a){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(a),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(a);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(en),sOe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),x7=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vO=function(t){sOe(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(lr.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(Ye.EAN_13)>-1&&a.push(new FC),i.indexOf(Ye.UPC_A)>-1&&a.push(new _7),i.indexOf(Ye.EAN_8)>-1&&a.push(new y7),i.indexOf(Ye.UPC_E)>-1&&a.push(new w7)),a.length===0&&(a.push(new FC),a.push(new _7),a.push(new y7),a.push(new w7)),n.readers=a,n}return e.prototype.decodeRow=function(r,n,i){var a,o;try{for(var s=x7(this.readers),u=s.next();!u.done;u=s.next()){var l=u.value;try{var c=l.decodeRow(r,n,i),f=c.getBarcodeFormat()===Ye.EAN_13&&c.getText().charAt(0)==="0",h=i==null?null:i.get(lr.POSSIBLE_FORMATS),v=h==null||h.includes(Ye.UPC_A);if(f&&v){var g=c.getRawBytes(),m=new Jn(c.getText().substring(1),g,g?g.length:null,c.getResultPoints(),Ye.UPC_A);return m.putAllMetadata(c.getResultMetadata()),m}return c}catch{}}}catch(_){a={error:_}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(a)throw a.error}}throw new ge},e.prototype.reset=function(){var r,n;try{for(var i=x7(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;o.reset()}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e}(on),uOe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lOe=function(t){uOe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,i){var a=this.getValidRowData(n);if(!a)throw new ge;var o=this.codaBarDecodeRow(a.row);if(!o)throw new ge;return new Jn(o,null,0,[new He(a.left,r),new He(a.right,r)],Ye.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),i=n.indexOf(!0);if(i===-1)return null;var a=n.lastIndexOf(!0);if(a<=i)return null;n=n.slice(i,a+1);for(var o=[],s=n[0],u=1,l=1;l<n.length;l++)n[l]===s?u++:(s=n[l],o.push(u),u=1);return o.push(u),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:i,right:a}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],i=Math.ceil(r.reduce(function(u,l){return(u+l)/2},0));r.length>0;){var a=r.splice(0,8).splice(0,7),o=a.map(function(u){return u<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[o])}var s=n.join("");return this.validCodaBarString(s)?s:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e}(on),cOe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fOe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wl=function(t){cOe(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(on.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new ge},e.count=function(r){return kt.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]>a&&(a=n[o],i=o);r[i]++},e.decrement=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]<a&&(a=n[o],i=o);r[i]--},e.isFinderPattern=function(r){var n,i,a=r[0]+r[1],o=a+r[2]+r[3],s=a/o;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var u=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER;try{for(var c=fOe(r),f=c.next();!f.done;f=c.next()){var h=f.value;h>l&&(l=h),h<u&&(u=h)}}catch(v){n={error:v}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return l<10*u}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(on),G1=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),jH=function(){function t(e,r,n,i,a){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new He(n,a)),this.resultPoints.push(new He(i,a))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),dOe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bf=function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,a,o=0;try{for(var s=dOe(e),u=s.next();!u.done;u=s.next()){var l=u.value;o+=l}}catch(E){i={error:E}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}for(var c=0,f=0,h=e.length,v=0;v<h-1;v++){var g=void 0;for(g=1,f|=1<<v;g<e[v];g++,f&=~(1<<v)){var m=t.combins(o-g-1,h-v-2);if(n&&f===0&&o-g-(h-v-1)>=h-v-1&&(m-=t.combins(o-g-(h-v),h-v-2)),h-v-1>1){for(var _=0,b=o-g-(h-v-2);b>r;b--)_+=t.combins(o-g-b-1,h-v-3);m-=_*(h-1-v)}else o-g>r&&m--;c+=m}o-=g}return c},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var a=1,o=1,s=e;s>n;s--)a*=s,o<=i&&(a/=o,o++);for(;o<=i;)a/=o,o++;return a},t}(),hOe=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new wn(n),a=0,o=e[0],s=o.getRightChar().getValue(),u=11;u>=0;--u)(s&1<<u)!==0&&i.set(a),a++;for(var u=1;u<e.length;++u){for(var l=e[u],c=l.getLeftChar().getValue(),f=11;f>=0;--f)(c&1<<f)!==0&&i.set(a),a++;if(l.getRightChar()!==null)for(var h=l.getRightChar().getValue(),f=11;f>=0;--f)(h&1<<f)!==0&&i.set(a),a++}return i},t}(),pl=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),DR=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),pOe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ha=function(t){pOe(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(DR),vOe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vl=function(t){vOe(e,t);function e(r,n,i){var a=t.call(this,r)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=n,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(DR),gOe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cf=function(t){gOe(e,t);function e(r,n,i){var a=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new ke;return a.firstDigit=n,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(DR),Hm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mOe=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,a,o,s,u,l;if(!e)return null;if(e.length<2)throw new ge;var c=e.substring(0,2);try{for(var f=Hm(t.TWO_DIGIT_DATA_LENGTH),h=f.next();!h.done;h=f.next()){var v=h.value;if(v[0]===c)return v[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,v[2],e):t.processFixedAI(2,v[1],e)}}catch(R){r={error:R}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(e.length<3)throw new ge;var g=e.substring(0,3);try{for(var m=Hm(t.THREE_DIGIT_DATA_LENGTH),_=m.next();!_.done;_=m.next()){var v=_.value;if(v[0]===g)return v[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,v[2],e):t.processFixedAI(3,v[1],e)}}catch(R){i={error:R}}finally{try{_&&!_.done&&(a=m.return)&&a.call(m)}finally{if(i)throw i.error}}try{for(var b=Hm(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),E=b.next();!E.done;E=b.next()){var v=E.value;if(v[0]===g)return v[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,v[2],e):t.processFixedAI(4,v[1],e)}}catch(R){o={error:R}}finally{try{E&&!E.done&&(s=b.return)&&s.call(b)}finally{if(o)throw o.error}}if(e.length<4)throw new ge;var A=e.substring(0,4);try{for(var C=Hm(t.FOUR_DIGIT_DATA_LENGTH),O=C.next();!O.done;O=C.next()){var v=O.value;if(v[0]===A)return v[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,v[2],e):t.processFixedAI(4,v[1],e)}}catch(R){u={error:R}}finally{try{O&&!O.done&&(l=C.return)&&l.call(C)}finally{if(u)throw u.error}}throw new ge},t.processFixedAI=function(e,r,n){if(n.length<e)throw new ge;var i=n.substring(0,e);if(n.length<e+r)throw new ge;var a=n.substring(e,e+r),o=n.substring(e+r),s="("+i+")"+a,u=t.parseFieldsInGeneralPurpose(o);return u==null?s:s+u},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),a;n.length<e+r?a=n.length:a=e+r;var o=n.substring(e,a),s=n.substring(a),u="("+i+")"+o,l=t.parseFieldsInGeneralPurpose(s);return l==null?u:u+l},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),by=function(){function t(e){this.buffer=new wt,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var a=this.decodeGeneralPurposeField(n,i),o=mOe.parseFieldsInGeneralPurpose(a.getNewString());if(o!=null&&e.append(o),a.isRemaining()?i=""+a.getRemainingValue():i=null,n===a.getNewPosition())break;n=a.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new cf(this.information.getSize(),cf.FNC1,cf.FNC1):new cf(this.information.getSize(),r-1,cf.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,a=(n-8)%11;return new cf(e+7,i,a)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,a=0;a<n;++a)e.get(r+a)&&(i|=1<<n-a-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new vl(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new vl(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new vl(this.current.getPosition(),this.buffer.toString()):r=new vl(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new pl(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new vl(this.current.getPosition(),this.buffer.toString());return new pl(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new pl(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new vl(this.current.getPosition(),this.buffer.toString());return new pl(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new pl(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new vl(this.current.getPosition(),this.buffer.toString());return new pl(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new pl(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Ha(e+5,Ha.FNC1);if(r>=5&&r<15)return new Ha(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Ha(e+7,""+(n+1));if(n>=90&&n<116)return new Ha(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new ke}return new Ha(e+8,a)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Ha(e+5,Ha.FNC1);if(r>=5&&r<15)return new Ha(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Ha(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new E0("Decoding invalid alphanumeric value: "+n)}return new Ha(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),FH=function(){function t(e){this.information=e,this.generalDecoder=new by(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),yOe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qa=function(t){yOe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*a,10);o/100===0&&r.append("0"),o/10===0&&r.append("0"),r.append(o)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,a=0;a<13;a++){var o=r.charAt(a+n).charCodeAt(0)-48;i+=(a&1)===0?3*o:o}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e}(FH),_Oe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wOe=function(t){_Oe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new wt;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(Qa),xOe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bOe=function(t){xOe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new wt;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(FH),EOe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ey=function(t){EOe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,a);for(var o=this.checkWeight(a),s=1e5,u=0;u<5;++u)o/s===0&&r.append("0"),s/=10;r.append(o)},e}(Qa),AOe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),BH=function(t){AOe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Ey.GTIN_SIZE+e.WEIGHT_SIZE)throw new ge;var r=new wt;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+Ey.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(Ey),SOe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),OOe=function(t){SOe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(BH),TOe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),COe=function(t){TOe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(BH),IOe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),POe=function(t){IOe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Qa.GTIN_SIZE)throw new ge;var r=new wt;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Qa.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Qa.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(Qa),ROe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),DOe=function(t){ROe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Qa.GTIN_SIZE)throw new ge;var r=new wt;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Qa.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Qa.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&r.append("0"),i/10===0&&r.append("0"),r.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Qa.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(Qa),NOe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Js=function(t){NOe(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.dateCode=i,a.firstAIdigits=n,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new ge;var r=new wt;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){r.append("("),r.append(this.dateCode),r.append(")");var a=i%32;i/=32;var o=i%12+1;i/=12;var s=i;s/10===0&&r.append("0"),r.append(s),o/10===0&&r.append("0"),r.append(o),a/10===0&&r.append("0"),r.append(a)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(Ey);function kOe(t){try{if(t.get(1))return new wOe(t);if(!t.get(2))return new bOe(t);var e=by.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new OOe(t);case 5:return new COe(t)}var r=by.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new POe(t);case 13:return new DOe(t)}var n=by.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new Js(t,"310","11");case 57:return new Js(t,"320","11");case 58:return new Js(t,"310","13");case 59:return new Js(t,"320","13");case 60:return new Js(t,"310","15");case 61:return new Js(t,"320","15");case 62:return new Js(t,"310","17");case 63:return new Js(t,"320","17")}}catch(i){throw console.log(i),new E0("unknown decoder: "+t)}}var b7=function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),MOe=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,a){r.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),LOe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),eu=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jOe=function(t){LOe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(s){if(s instanceof ge){if(!this.pairs.length)throw new ge;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(r,!1),a){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new ge},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,a,o=n;o<this.rows.length;o++){var s=this.rows[o];this.pairs.length=0;try{for(var u=(i=void 0,eu(r)),l=u.next();!l.done;l=u.next()){var c=l.value;this.pairs.push(c.getPairs())}}catch(h){i={error:h}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}if(this.pairs.push(s.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(r);f.push(s);try{return this.checkRows(f,o+1)}catch(h){console.log(h)}}}throw new ge},e.isValidSequence=function(r){var n,i;try{for(var a=eu(e.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var s=o.value;if(!(r.length>s.length)){for(var u=!0,l=0;l<r.length;l++)if(r[l].getFinderPattern().getValue()!==s[l]){u=!1;break}if(u)return!0}}}catch(c){n={error:c}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,a=!1,o=!1;i<this.rows.length;){var s=this.rows[i];if(s.getRowNumber()>r){o=s.isEquivalent(this.pairs);break}a=s.isEquivalent(this.pairs),i++}o||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new MOe(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,a,o,s,u,l;try{for(var c=eu(n),f=c.next();!f.done;f=c.next()){var h=f.value;if(h.getPairs().length!==r.length){var v=!0;try{for(var g=(o=void 0,eu(h.getPairs())),m=g.next();!m.done;m=g.next()){var _=m.value,b=!1;try{for(var E=(u=void 0,eu(r)),A=E.next();!A.done;A=E.next()){var C=A.value;if(b7.equals(_,C)){b=!0;break}}}catch(O){u={error:O}}finally{try{A&&!A.done&&(l=E.return)&&l.call(E)}finally{if(u)throw u.error}}b||(v=!1)}}catch(O){o={error:O}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}}}}catch(O){i={error:O}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,a,o,s,u,l;try{for(var c=eu(n),f=c.next();!f.done;f=c.next()){var h=f.value,v=!0;try{for(var g=(o=void 0,eu(r)),m=g.next();!m.done;m=g.next()){var _=m.value,b=!1;try{for(var E=(u=void 0,eu(h.getPairs())),A=E.next();!A.done;A=E.next()){var C=A.value;if(_.equals(C)){b=!0;break}}}catch(O){u={error:O}}finally{try{A&&!A.done&&(l=E.return)&&l.call(E)}finally{if(u)throw u.error}}if(!b){v=!1;break}}}catch(O){o={error:O}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}if(v)return!0}}catch(O){i={error:O}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=hOe.buildBitArray(r),i=kOe(n),a=i.parseInformation(),o=r[0].getFinderPattern().getResultPoints(),s=r[r.length-1].getFinderPattern().getResultPoints(),u=[o[0],o[1],s[0],s[1]];return new Jn(a,null,null,u,Ye.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),o=2,s=1;s<this.pairs.size();++s){var u=this.pairs.get(s);a+=u.getLeftChar().getChecksumPortion(),o++;var l=u.getRightChar();l!=null&&(a+=l.getChecksumPortion(),o++)}a%=211;var c=211*(o-4)+a;return c===n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var a=n.length%2===0;this.startFromEven&&(a=!a);var o,s=!0,u=-1;do this.findNextPair(r,n,u),o=this.parseFoundFinderPattern(r,i,a),o===null?u=e.getNextSecondBar(r,this.startEnd[0]):s=!1;while(s);var l=this.decodeDataCharacter(r,o,a,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new ge;var c;try{c=this.decodeDataCharacter(r,o,a,!1)}catch(f){c=null,console.log(f)}return new b7(l,c,o,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o=r.getSize(),s;if(i>=0)s=i;else if(this.isEmptyPair(n))s=0;else{var u=n[n.length-1];s=u.getFinderPattern().getStartEnd()[1]}var l=n.length%2!==0;this.startFromEven&&(l=!l);for(var c=!1;s<o&&(c=!r.get(s),!!c);)s++;for(var f=0,h=s,v=s;v<o;v++)if(r.get(v)!==c)a[f]++;else{if(f===3){if(l&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=h,this.startEnd[1]=v;return}l&&e.reverseCounters(a),h+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,f--}else f++;a[f]=1,c=!c}throw new ge},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var a=r[i];r[i]=r[n-i-1],r[n-i-1]=a}},e.prototype.parseFoundFinderPattern=function(r,n,i){var a,o,s;if(i){for(var u=this.startEnd[0]-1;u>=0&&!r.get(u);)u--;u++,a=this.startEnd[0]-u,o=u,s=this.startEnd[1]}else o=this.startEnd[0],s=r.getNextUnset(this.startEnd[1]+1),a=s-this.startEnd[1];var l=this.getDecodeFinderCounters();ur.arraycopy(l,0,l,1,l.length-1),l[0]=a;var c;try{c=this.parseFinderValue(l,e.FINDER_PATTERNS)}catch{return null}return new jH(c,[o,s],o,s,n)},e.prototype.decodeDataCharacter=function(r,n,i,a){for(var o=this.getDataCharacterCounters(),s=0;s<o.length;s++)o[s]=0;if(a)e.recordPatternInReverse(r,n.getStartEnd()[0],o);else{e.recordPattern(r,n.getStartEnd()[1],o);for(var u=0,l=o.length-1;u<l;u++,l--){var c=o[u];o[u]=o[l],o[l]=c}}var f=17,h=kt.sum(new Int32Array(o))/f,v=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(h-v)/v>.3)throw new ge;for(var g=this.getOddCounts(),m=this.getEvenCounts(),_=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors(),u=0;u<o.length;u++){var E=1*o[u]/h,A=E+.5;if(A<1){if(E<.3)throw new ge;A=1}else if(A>8){if(E>8.7)throw new ge;A=8}var C=u/2;(u&1)===0?(g[C]=A,_[C]=E-A):(m[C]=A,b[C]=E-A)}this.adjustOddEvenCounts(f);for(var O=4*n.getValue()+(i?0:2)+(a?0:1)-1,R=0,I=0,u=g.length-1;u>=0;u--){if(e.isNotA1left(n,i,a)){var S=e.WEIGHTS[O][2*u];I+=g[u]*S}R+=g[u]}for(var T=0,u=m.length-1;u>=0;u--)if(e.isNotA1left(n,i,a)){var S=e.WEIGHTS[O][2*u+1];T+=m[u]*S}var D=I+T;if((R&1)!==0||R>13||R<4)throw new ge;var L=(13-R)/2,F=e.SYMBOL_WIDEST[L],j=9-F,K=bf.getRSSvalue(g,F,!0),ee=bf.getRSSvalue(m,j,!1),W=e.EVEN_TOTAL_SUBSET[L],te=e.GSUM[L],X=K*W+ee+te;return new G1(X,D)},e.isNotA1left=function(r,n,i){return!(r.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=kt.sum(new Int32Array(this.getOddCounts())),i=kt.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;n>13?o=!0:n<4&&(a=!0);var s=!1,u=!1;i>13?u=!0:i<4&&(s=!0);var l=n+i-r,c=(n&1)===1,f=(i&1)===0;if(l===1)if(c){if(f)throw new ge;o=!0}else{if(!f)throw new ge;u=!0}else if(l===-1)if(c){if(f)throw new ge;a=!0}else{if(!f)throw new ge;s=!0}else if(l===0){if(c){if(!f)throw new ge;n<i?(a=!0,u=!0):(o=!0,s=!0)}else if(f)throw new ge}else throw new ge;if(a){if(o)throw new ge;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(u)throw new ge;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(wl),FOe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),BOe=function(t){FOe(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(G1),$Oe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},E7=function(t){$Oe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var a,o,s,u,l=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,l),n.reverse();var c=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,c),n.reverse();try{for(var f=gO(this.possibleLeftPairs),h=f.next();!h.done;h=f.next()){var v=h.value;if(v.getCount()>1)try{for(var g=(s=void 0,gO(this.possibleRightPairs)),m=g.next();!m.done;m=g.next()){var _=m.value;if(_.getCount()>1&&e.checkChecksum(v,_))return e.constructResult(v,_)}}catch(b){s={error:b}}finally{try{m&&!m.done&&(u=g.return)&&u.call(g)}finally{if(s)throw s.error}}}}catch(b){a={error:b}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(a)throw a.error}}throw new ge},e.addOrTally=function(r,n){var i,a;if(n!=null){var o=!1;try{for(var s=gO(r),u=s.next();!u.done;u=s.next()){var l=u.value;if(l.getValue()===n.getValue()){l.incrementCount(),o=!0;break}}}catch(c){i={error:c}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}o||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),a=new String(i).toString(),o=new wt,s=13-a.length;s>0;s--)o.append("0");o.append(a);for(var u=0,s=0;s<13;s++){var l=o.charAt(s).charCodeAt(0)-48;u+=(s&1)===0?3*l:l}u=10-u%10,u===10&&(u=0),o.append(u.toString());var c=r.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new Jn(o.toString(),null,0,[c[0],c[1],f[0],f[1]],Ye.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,a=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(r,n,i,a){try{var o=this.findFinderPattern(r,n),s=this.parseFoundFinderPattern(r,i,n,o),u=a==null?null:a.get(lr.NEED_RESULT_POINT_CALLBACK);if(u!=null){var l=(o[0]+o[1])/2;n&&(l=r.getSize()-1-l),u.foundPossibleResultPoint(new He(l,i))}var c=this.decodeDataCharacter(r,s,!0),f=this.decodeDataCharacter(r,s,!1);return new BOe(1597*c.getValue()+f.getValue(),c.getChecksumPortion()+4*f.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(i)on.recordPatternInReverse(r,n.getStartEnd()[0],a);else{on.recordPattern(r,n.getStartEnd()[1]+1,a);for(var s=0,u=a.length-1;s<u;s++,u--){var l=a[s];a[s]=a[u],a[u]=l}}for(var c=i?16:15,f=kt.sum(new Int32Array(a))/c,h=this.getOddCounts(),v=this.getEvenCounts(),g=this.getOddRoundingErrors(),m=this.getEvenRoundingErrors(),s=0;s<a.length;s++){var _=a[s]/f,b=Math.floor(_+.5);b<1?b=1:b>8&&(b=8);var E=Math.floor(s/2);(s&1)===0?(h[E]=b,g[E]=_-b):(v[E]=b,m[E]=_-b)}this.adjustOddEvenCounts(i,c);for(var A=0,C=0,s=h.length-1;s>=0;s--)C*=9,C+=h[s],A+=h[s];for(var O=0,R=0,s=v.length-1;s>=0;s--)O*=9,O+=v[s],R+=v[s];var I=C+3*O;if(i){if((A&1)!==0||A>12||A<4)throw new ge;var S=(12-A)/2,T=e.OUTSIDE_ODD_WIDEST[S],D=9-T,L=bf.getRSSvalue(h,T,!1),F=bf.getRSSvalue(v,D,!0),j=e.OUTSIDE_EVEN_TOTAL_SUBSET[S],K=e.OUTSIDE_GSUM[S];return new G1(L*j+F+K,I)}else{if((R&1)!==0||R>10||R<4)throw new ge;var S=(10-R)/2,T=e.INSIDE_ODD_WIDEST[S],D=9-T,L=bf.getRSSvalue(h,T,!0),F=bf.getRSSvalue(v,D,!1),ee=e.INSIDE_ODD_TOTAL_SUBSET[S],K=e.INSIDE_GSUM[S];return new G1(F*ee+L+K,I)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=r.getSize(),o=!1,s=0;s<a&&(o=!r.get(s),n!==o);)s++;for(var u=0,l=s,c=s;c<a;c++)if(r.get(c)!==o)i[u]++;else{if(u===3){if(wl.isFinderPattern(i))return[l,c];l+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,u--}else u++;i[u]=1,o=!o}throw new ge},e.prototype.parseFoundFinderPattern=function(r,n,i,a){for(var o=r.get(a[0]),s=a[0]-1;s>=0&&o!==r.get(s);)s--;s++;var u=a[0]-s,l=this.getDecodeFinderCounters(),c=new Int32Array(l.length);ur.arraycopy(l,0,c,1,l.length-1),c[0]=u;var f=this.parseFinderValue(c,e.FINDER_PATTERNS),h=s,v=a[1];return i&&(h=r.getSize()-1-h,v=r.getSize()-1-v),new jH(f,[s,a[1]],h,v,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=kt.sum(new Int32Array(this.getOddCounts())),a=kt.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1,u=!1,l=!1;r?(i>12?s=!0:i<4&&(o=!0),a>12?l=!0:a<4&&(u=!0)):(i>11?s=!0:i<5&&(o=!0),a>10?l=!0:a<4&&(u=!0));var c=i+a-n,f=(i&1)===(r?1:0),h=(a&1)===1;if(c===1)if(f){if(h)throw new ge;s=!0}else{if(!h)throw new ge;l=!0}else if(c===-1)if(f){if(h)throw new ge;o=!0}else{if(!h)throw new ge;u=!0}else if(c===0){if(f){if(!h)throw new ge;i<a?(o=!0,l=!0):(s=!0,u=!0)}else if(h)throw new ge}else throw new ge;if(o){if(s)throw new ge;wl.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&wl.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(l)throw new ge;wl.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&wl.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(wl),UOe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ef=function(t){UOe(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(lr.POSSIBLE_FORMATS):null,a=r&&r.get(lr.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=r&&r.get(lr.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(Ye.EAN_13)||i.includes(Ye.UPC_A)||i.includes(Ye.EAN_8)||i.includes(Ye.UPC_E))&&n.readers.push(new vO(r)),i.includes(Ye.CODE_39)&&n.readers.push(new h7(a,o)),i.includes(Ye.CODE_93)&&n.readers.push(new p7),i.includes(Ye.CODE_128)&&n.readers.push(new d7),i.includes(Ye.ITF)&&n.readers.push(new v7),i.includes(Ye.CODABAR)&&n.readers.push(new lOe),i.includes(Ye.RSS_14)&&n.readers.push(new E7),i.includes(Ye.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new jOe))),n.readers.length===0&&(n.readers.push(new vO(r)),n.readers.push(new h7),n.readers.push(new p7),n.readers.push(new vO(r)),n.readers.push(new d7),n.readers.push(new v7),n.readers.push(new E7)),n}return e.prototype.decodeRow=function(r,n,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(r,n,i)}catch{}throw new ge},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(on),VOe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){VOe(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new Ef(n),r,n)||this}return e})(Vd);var A7=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ut=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),Ft=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),qOe=function(){function t(e,r,n,i,a,o){var s,u;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=o;var l=0,c=o.getECCodewords(),f=o.getECBlocks();try{for(var h=A7(f),v=h.next();!v.done;v=h.next()){var g=v.value;l+=g.getCount()*(g.getDataCodewords()+c)}}catch(m){s={error:m}}finally{try{v&&!v.done&&(u=h.return)&&u.call(h)}finally{if(s)throw s.error}}this.totalCodewords=l}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if((e&1)!==0||(r&1)!==0)throw new ke;try{for(var a=A7(t.VERSIONS),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===r)return s}}catch(u){n={error:u}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}throw new ke},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new Ut(5,new Ft(1,3))),new t(2,12,12,10,10,new Ut(7,new Ft(1,5))),new t(3,14,14,12,12,new Ut(10,new Ft(1,8))),new t(4,16,16,14,14,new Ut(12,new Ft(1,12))),new t(5,18,18,16,16,new Ut(14,new Ft(1,18))),new t(6,20,20,18,18,new Ut(18,new Ft(1,22))),new t(7,22,22,20,20,new Ut(20,new Ft(1,30))),new t(8,24,24,22,22,new Ut(24,new Ft(1,36))),new t(9,26,26,24,24,new Ut(28,new Ft(1,44))),new t(10,32,32,14,14,new Ut(36,new Ft(1,62))),new t(11,36,36,16,16,new Ut(42,new Ft(1,86))),new t(12,40,40,18,18,new Ut(48,new Ft(1,114))),new t(13,44,44,20,20,new Ut(56,new Ft(1,144))),new t(14,48,48,22,22,new Ut(68,new Ft(1,174))),new t(15,52,52,24,24,new Ut(42,new Ft(2,102))),new t(16,64,64,14,14,new Ut(56,new Ft(2,140))),new t(17,72,72,16,16,new Ut(36,new Ft(4,92))),new t(18,80,80,18,18,new Ut(48,new Ft(4,114))),new t(19,88,88,20,20,new Ut(56,new Ft(4,144))),new t(20,96,96,22,22,new Ut(68,new Ft(4,174))),new t(21,104,104,24,24,new Ut(56,new Ft(6,136))),new t(22,120,120,18,18,new Ut(68,new Ft(6,175))),new t(23,132,132,20,20,new Ut(62,new Ft(8,163))),new t(24,144,144,22,22,new Ut(62,new Ft(8,156),new Ft(2,155))),new t(25,8,18,6,16,new Ut(7,new Ft(1,5))),new t(26,8,32,6,14,new Ut(11,new Ft(1,10))),new t(27,12,26,10,24,new Ut(14,new Ft(1,16))),new t(28,12,36,10,16,new Ut(18,new Ft(1,22))),new t(29,16,36,14,16,new Ut(24,new Ft(1,32))),new t(30,16,48,14,22,new Ut(28,new Ft(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),zOe=function(){function t(e){var r=e.getHeight();if(r<8||r>144||(r&1)!==0)throw new ke;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Fo(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return qOe.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),s=!1,u=!1,l=!1,c=!1;do if(n===a&&i===0&&!s)e[r++]=this.readCorner1(a,o)&255,n-=2,i+=2,s=!0;else if(n===a-2&&i===0&&(o&3)!==0&&!u)e[r++]=this.readCorner2(a,o)&255,n-=2,i+=2,u=!0;else if(n===a+4&&i===2&&(o&7)===0&&!l)e[r++]=this.readCorner3(a,o)&255,n-=2,i+=2,l=!0;else if(n===a-2&&i===0&&(o&7)===4&&!c)e[r++]=this.readCorner4(a,o)&255,n-=2,i+=2,c=!0;else{do n<a&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n-=2,i+=2;while(n>=0&&i<o);n+=1,i+=3;do n>=0&&i<o&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n+=2,i-=2;while(n<a&&i>=0);n+=3,i+=1}while(n<a||i<o);if(r!==this.version.getTotalCodewords())throw new ke;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var a=0;return this.readModule(e-2,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-2,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r,n,i)&&(a|=1),a<<=1,this.readModule(e,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e,r,n,i)&&(a|=1),a},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new Qe("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=r/i|0,s=n/a|0,u=o*i,l=s*a,c=new Fo(l,u),f=0;f<o;++f)for(var h=f*i,v=0;v<s;++v)for(var g=v*a,m=0;m<i;++m)for(var _=f*(i+2)+1+m,b=h+m,E=0;E<a;++E){var A=v*(a+2)+1+E;if(e.get(A,_)){var C=g+E;c.set(C,b)}}return c},t}(),S7=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},WOe=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,a,o,s=r.getECBlocks(),u=0,l=s.getECBlocks();try{for(var c=S7(l),f=c.next();!f.done;f=c.next()){var h=f.value;u+=h.getCount()}}catch(K){n={error:K}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}var v=new Array(u),g=0;try{for(var m=S7(l),_=m.next();!_.done;_=m.next())for(var h=_.value,b=0;b<h.getCount();b++){var E=h.getDataCodewords(),A=s.getECCodewords()+E;v[g++]=new t(E,new Uint8Array(A))}}catch(K){a={error:K}}finally{try{_&&!_.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}for(var C=v[0].codewords.length,O=C-s.getECCodewords(),R=O-1,I=0,b=0;b<R;b++)for(var S=0;S<g;S++)v[S].codewords[b]=e[I++];for(var T=r.getVersionNumber()===24,D=T?8:g,S=0;S<D;S++)v[S].codewords[O-1]=e[I++];for(var L=v[0].codewords.length,b=O;b<L;b++)for(var S=0;S<g;S++){var F=T?(S+8)%g:S,j=T&&F>7?b-1:b;v[F].codewords[j]=e[I++]}if(I!==e.length)throw new Qe;return v},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),$H=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Qe(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,a=this.bytes;if(n>0){var o=8-n,s=e<o?e:o,u=o-s,l=255>>8-s<<u;r=(a[i]&l)>>u,e-=s,n+=s,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|a[i]&255,i++,e-=8;if(e>0){var u=8-e,l=255>>u<<u;r=r<<e|(a[i]&l)>>u,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),Zr;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(Zr||(Zr={}));var HOe=function(){function t(){}return t.decode=function(e){var r=new $H(e),n=new wt,i=new wt,a=new Array,o=Zr.ASCII_ENCODE;do if(o===Zr.ASCII_ENCODE)o=this.decodeAsciiSegment(r,n,i);else{switch(o){case Zr.C40_ENCODE:this.decodeC40Segment(r,n);break;case Zr.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case Zr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case Zr.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case Zr.BASE256_ENCODE:this.decodeBase256Segment(r,n,a);break;default:throw new ke}o=Zr.ASCII_ENCODE}while(o!==Zr.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new Sw(e,n.toString(),a.length===0?null:a,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var a=e.readBits(8);if(a===0)throw new ke;if(a<=128)return i&&(a+=128),r.append(String.fromCharCode(a-1)),Zr.ASCII_ENCODE;if(a===129)return Zr.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&r.append("0"),r.append(""+o)}else switch(a){case 230:return Zr.C40_ENCODE;case 231:return Zr.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return Zr.ANSIX12_ENCODE;case 239:return Zr.TEXT_ENCODE;case 240:return Zr.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new ke;break}}while(e.available()>0);return Zr.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var u=i[s];switch(a){case 0:if(u<3)a=u+1;else if(u<this.C40_BASIC_SET_CHARS.length){var l=this.C40_BASIC_SET_CHARS[u];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l)}else throw new ke;break;case 1:n?(r.append(String.fromCharCode(u+128)),n=!1):r.append(String.fromCharCode(u)),a=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length){var l=this.C40_SHIFT2_SET_CHARS[u];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l)}else switch(u){case 27:r.append("");break;case 30:n=!0;break;default:throw new ke}a=0;break;case 3:n?(r.append(String.fromCharCode(u+224)),n=!1):r.append(String.fromCharCode(u+96)),a=0;break;default:throw new ke}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var u=i[s];switch(a){case 0:if(u<3)a=u+1;else if(u<this.TEXT_BASIC_SET_CHARS.length){var l=this.TEXT_BASIC_SET_CHARS[u];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l)}else throw new ke;break;case 1:n?(r.append(String.fromCharCode(u+128)),n=!1):r.append(String.fromCharCode(u)),a=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length){var l=this.TEXT_SHIFT2_SET_CHARS[u];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l)}else switch(u){case 27:r.append("");break;case 30:n=!0;break;default:throw new ke}a=0;break;case 3:if(u<this.TEXT_SHIFT3_SET_CHARS.length){var l=this.TEXT_SHIFT3_SET_CHARS[u];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l),a=0}else throw new ke;break;default:throw new ke}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var a=0;a<3;a++){var o=n[a];switch(o){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(o<14)r.append(String.fromCharCode(o+44));else if(o<40)r.append(String.fromCharCode(o+51));else throw new ke;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,a=Math.floor(i/1600);n[0]=a,i-=a*1600,a=Math.floor(i/40),n[1]=a,n[2]=i-a*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}(i&32)===0&&(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),o;if(a===0?o=e.available()/8|0:a<250?o=a:o=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new ke;for(var s=new Uint8Array(o),u=0;u<o;u++){if(e.available()<8)throw new ke;s[u]=this.unrandomize255State(e.readBits(8),i++)}n.push(s);try{r.append(wa.decode(s,Pt.ISO88591))}catch(l){throw new E0("Platform does not support required encoding: "+l.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t}(),GOe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},KOe=function(){function t(){this.rsDecoder=new Ow(Si.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new zOe(e),a=i.getVersion(),o=i.readCodewords(),s=WOe.getDataBlocks(o,a),u=0;try{for(var l=GOe(s),c=l.next();!c.done;c=l.next()){var f=c.value;u+=f.getNumDataCodewords()}}catch(A){r={error:A}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}for(var h=new Uint8Array(u),v=s.length,g=0;g<v;g++){var m=s[g],_=m.getCodewords(),b=m.getNumDataCodewords();this.correctErrors(_,b);for(var E=0;E<b;E++)h[E*v+g]=_[E]}return HOe.decode(h)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Wr}for(var i=0;i<r;i++)e[i]=n[i]},t}(),XOe=function(){function t(e){this.image=e,this.rectangleDetector=new jC(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new ge;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],a=r[2],o=r[3],s=this.transitionsBetween(n,o)+1,u=this.transitionsBetween(a,o)+1;(s&1)===1&&(s+=1),(u&1)===1&&(u+=1),4*s<7*u&&4*u<7*s&&(s=u=Math.max(s,u));var l=t.sampleGrid(this.image,n,i,a,o,s,u);return new PR(l,[n,i,a,o])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),a=(r.getY()-e.getY())/(n+1);return new He(e.getX()+i,e.getY()+a)},t.moveAway=function(e,r,n){var i=e.getX(),a=e.getY();return i<r?i-=1:i+=1,a<n?a-=1:a+=1,new He(i,a)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],a=e[2],o=this.transitionsBetween(r,n),s=this.transitionsBetween(n,i),u=this.transitionsBetween(i,a),l=this.transitionsBetween(a,r),c=o,f=[a,r,n,i];return c>s&&(c=s,f[0]=r,f[1]=n,f[2]=i,f[3]=a),c>u&&(c=u,f[0]=n,f[1]=i,f[2]=a,f[3]=r),c>l&&(f[0]=i,f[1]=a,f[2]=r,f[3]=n),f},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),s=t.shiftPoint(n,i,(o+1)*4),u=t.shiftPoint(i,n,(o+1)*4),l=this.transitionsBetween(s,r),c=this.transitionsBetween(u,a);return l<c?(e[0]=r,e[1]=n,e[2]=i,e[3]=a):(e[0]=n,e[1]=i,e[2]=a,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),s=this.transitionsBetween(n,a),u=t.shiftPoint(r,n,(s+1)*4),l=t.shiftPoint(i,n,(o+1)*4);o=this.transitionsBetween(u,a),s=this.transitionsBetween(l,a);var c=new He(a.getX()+(i.getX()-n.getX())/(o+1),a.getY()+(i.getY()-n.getY())/(o+1)),f=new He(a.getX()+(r.getX()-n.getX())/(s+1),a.getY()+(r.getY()-n.getY())/(s+1));if(!this.isValid(c))return this.isValid(f)?f:null;if(!this.isValid(f))return c;var h=this.transitionsBetween(u,c)+this.transitionsBetween(l,c),v=this.transitionsBetween(u,f)+this.transitionsBetween(l,f);return h>v?c:f},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a)+1,s=this.transitionsBetween(i,a)+1,u=t.shiftPoint(r,n,s*4),l=t.shiftPoint(i,n,o*4);o=this.transitionsBetween(u,a)+1,s=this.transitionsBetween(l,a)+1,(o&1)===1&&(o+=1),(s&1)===1&&(s+=1);var c=(r.getX()+n.getX()+i.getX()+a.getX())/4,f=(r.getY()+n.getY()+i.getY()+a.getY())/4;r=t.moveAway(r,c,f),n=t.moveAway(n,c,f),i=t.moveAway(i,c,f),a=t.moveAway(a,c,f);var h,v;return u=t.shiftPoint(r,n,s*4),u=t.shiftPoint(u,a,o*4),h=t.shiftPoint(n,r,s*4),h=t.shiftPoint(h,i,o*4),l=t.shiftPoint(i,a,s*4),l=t.shiftPoint(l,n,o*4),v=t.shiftPoint(a,i,s*4),v=t.shiftPoint(v,r,o*4),[u,h,l,v]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,a,o,s){var u=RR.getInstance();return u.sampleGrid(e,o,s,.5,.5,o-.5,.5,o-.5,s-.5,.5,s-.5,r.getX(),r.getY(),a.getX(),a.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(r.getX()),o=Math.trunc(r.getY()),s=Math.abs(o-i)>Math.abs(a-n);if(s){var u=n;n=i,i=u,u=a,a=o,o=u}for(var l=Math.abs(a-n),c=Math.abs(o-i),f=-l/2,h=i<o?1:-1,v=n<a?1:-1,g=0,m=this.image.get(s?i:n,s?n:i),_=n,b=i;_!==a;_+=v){var E=this.image.get(s?b:_,s?_:b);if(E!==m&&(g++,m=E),f+=c,f>0){if(b===o)break;b+=h,f-=l}}return g},t}(),K1=function(){function t(){this.decoder=new KOe}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(lr.PURE_BARCODE)){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(a),i=t.NO_POINTS}else{var o=new XOe(e.getBlackMatrix()).detect();n=this.decoder.decode(o.getBits()),i=o.getPoints()}var s=n.getRawBytes(),u=new Jn(n.getText(),s,8*s.length,i,Ye.DATA_MATRIX,ur.currentTimeMillis()),l=n.getByteSegments();l!=null&&u.putMetadata(Dn.BYTE_SEGMENTS,l);var c=n.getECLevel();return c!=null&&u.putMetadata(Dn.ERROR_CORRECTION_LEVEL,c),u},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new ge;var i=this.moduleSize(r,e),a=r[1],o=n[1],s=r[0],u=n[0],l=(u-s+1)/i,c=(o-a+1)/i;if(l<=0||c<=0)throw new ge;var f=i/2;a+=f,s+=f;for(var h=new Fo(l,c),v=0;v<c;v++)for(var g=a+v*i,m=0;m<l;m++)e.get(s+m*i,g)&&h.set(m,v);return h},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],a=e[1];i<n&&r.get(i,a);)i++;if(i===n)throw new ge;var o=i-e[0];if(o===0)throw new ge;return o},t.NO_POINTS=[],t}(),YOe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){YOe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new K1,r)||this}return e})(Vd);var Af;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(Af||(Af={}));var QOe=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new jr(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new Qe;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(Af.L,"L",1),t.M=new t(Af.M,"M",0),t.Q=new t(Af.Q,"Q",3),t.H=new t(Af.H,"H",2),t}(),ZOe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},UH=function(){function t(e){this.errorCorrectionLevel=QOe.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return Et.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,a=Number.MAX_SAFE_INTEGER,o=0;try{for(var s=ZOe(t.FORMAT_INFO_DECODE_LOOKUP),u=s.next();!u.done;u=s.next()){var l=u.value,c=l[0];if(c===e||c===r)return new t(l[1]);var f=t.numBitsDiffering(e,c);f<a&&(o=l[1],a=f),e!==r&&(f=t.numBitsDiffering(r,c),f<a&&(o=l[1],a=f))}}catch(h){n={error:h}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a<=3?new t(o):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),JOe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ce=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var a=JOe(i),o=a.next();!o.done;o=a.next()){var s=o.value;n+=s.getCount()}}catch(u){e={error:u}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),H=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),eTe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jl=function(){function t(e,r){for(var n,i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=a;var s=0,u=a[0].getECCodewordsPerBlock(),l=a[0].getECBlocks();try{for(var c=eTe(l),f=c.next();!f.done;f=c.next()){var h=f.value;s+=h.getCount()*(h.getDataCodewords()+u)}}catch(v){n={error:v}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}this.totalCodewords=s}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new ke;try{return this.getVersionForNumber((e-17)/4)}catch{throw new ke}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new Qe;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var a=t.VERSION_DECODE_INFO[i];if(a===e)return t.getVersionForNumber(i+7);var o=UH.numBitsDiffering(e,a);o<r&&(n=i+7,r=o)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new Fo(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var a=this.alignmentPatternCenters[i]-2,o=0;o<n;o++)i===0&&(o===0||o===n-1)||i===n-1&&o===0||r.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new ce(7,new H(1,19)),new ce(10,new H(1,16)),new ce(13,new H(1,13)),new ce(17,new H(1,9))),new t(2,Int32Array.from([6,18]),new ce(10,new H(1,34)),new ce(16,new H(1,28)),new ce(22,new H(1,22)),new ce(28,new H(1,16))),new t(3,Int32Array.from([6,22]),new ce(15,new H(1,55)),new ce(26,new H(1,44)),new ce(18,new H(2,17)),new ce(22,new H(2,13))),new t(4,Int32Array.from([6,26]),new ce(20,new H(1,80)),new ce(18,new H(2,32)),new ce(26,new H(2,24)),new ce(16,new H(4,9))),new t(5,Int32Array.from([6,30]),new ce(26,new H(1,108)),new ce(24,new H(2,43)),new ce(18,new H(2,15),new H(2,16)),new ce(22,new H(2,11),new H(2,12))),new t(6,Int32Array.from([6,34]),new ce(18,new H(2,68)),new ce(16,new H(4,27)),new ce(24,new H(4,19)),new ce(28,new H(4,15))),new t(7,Int32Array.from([6,22,38]),new ce(20,new H(2,78)),new ce(18,new H(4,31)),new ce(18,new H(2,14),new H(4,15)),new ce(26,new H(4,13),new H(1,14))),new t(8,Int32Array.from([6,24,42]),new ce(24,new H(2,97)),new ce(22,new H(2,38),new H(2,39)),new ce(22,new H(4,18),new H(2,19)),new ce(26,new H(4,14),new H(2,15))),new t(9,Int32Array.from([6,26,46]),new ce(30,new H(2,116)),new ce(22,new H(3,36),new H(2,37)),new ce(20,new H(4,16),new H(4,17)),new ce(24,new H(4,12),new H(4,13))),new t(10,Int32Array.from([6,28,50]),new ce(18,new H(2,68),new H(2,69)),new ce(26,new H(4,43),new H(1,44)),new ce(24,new H(6,19),new H(2,20)),new ce(28,new H(6,15),new H(2,16))),new t(11,Int32Array.from([6,30,54]),new ce(20,new H(4,81)),new ce(30,new H(1,50),new H(4,51)),new ce(28,new H(4,22),new H(4,23)),new ce(24,new H(3,12),new H(8,13))),new t(12,Int32Array.from([6,32,58]),new ce(24,new H(2,92),new H(2,93)),new ce(22,new H(6,36),new H(2,37)),new ce(26,new H(4,20),new H(6,21)),new ce(28,new H(7,14),new H(4,15))),new t(13,Int32Array.from([6,34,62]),new ce(26,new H(4,107)),new ce(22,new H(8,37),new H(1,38)),new ce(24,new H(8,20),new H(4,21)),new ce(22,new H(12,11),new H(4,12))),new t(14,Int32Array.from([6,26,46,66]),new ce(30,new H(3,115),new H(1,116)),new ce(24,new H(4,40),new H(5,41)),new ce(20,new H(11,16),new H(5,17)),new ce(24,new H(11,12),new H(5,13))),new t(15,Int32Array.from([6,26,48,70]),new ce(22,new H(5,87),new H(1,88)),new ce(24,new H(5,41),new H(5,42)),new ce(30,new H(5,24),new H(7,25)),new ce(24,new H(11,12),new H(7,13))),new t(16,Int32Array.from([6,26,50,74]),new ce(24,new H(5,98),new H(1,99)),new ce(28,new H(7,45),new H(3,46)),new ce(24,new H(15,19),new H(2,20)),new ce(30,new H(3,15),new H(13,16))),new t(17,Int32Array.from([6,30,54,78]),new ce(28,new H(1,107),new H(5,108)),new ce(28,new H(10,46),new H(1,47)),new ce(28,new H(1,22),new H(15,23)),new ce(28,new H(2,14),new H(17,15))),new t(18,Int32Array.from([6,30,56,82]),new ce(30,new H(5,120),new H(1,121)),new ce(26,new H(9,43),new H(4,44)),new ce(28,new H(17,22),new H(1,23)),new ce(28,new H(2,14),new H(19,15))),new t(19,Int32Array.from([6,30,58,86]),new ce(28,new H(3,113),new H(4,114)),new ce(26,new H(3,44),new H(11,45)),new ce(26,new H(17,21),new H(4,22)),new ce(26,new H(9,13),new H(16,14))),new t(20,Int32Array.from([6,34,62,90]),new ce(28,new H(3,107),new H(5,108)),new ce(26,new H(3,41),new H(13,42)),new ce(30,new H(15,24),new H(5,25)),new ce(28,new H(15,15),new H(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new ce(28,new H(4,116),new H(4,117)),new ce(26,new H(17,42)),new ce(28,new H(17,22),new H(6,23)),new ce(30,new H(19,16),new H(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new ce(28,new H(2,111),new H(7,112)),new ce(28,new H(17,46)),new ce(30,new H(7,24),new H(16,25)),new ce(24,new H(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new ce(30,new H(4,121),new H(5,122)),new ce(28,new H(4,47),new H(14,48)),new ce(30,new H(11,24),new H(14,25)),new ce(30,new H(16,15),new H(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new ce(30,new H(6,117),new H(4,118)),new ce(28,new H(6,45),new H(14,46)),new ce(30,new H(11,24),new H(16,25)),new ce(30,new H(30,16),new H(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new ce(26,new H(8,106),new H(4,107)),new ce(28,new H(8,47),new H(13,48)),new ce(30,new H(7,24),new H(22,25)),new ce(30,new H(22,15),new H(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new ce(28,new H(10,114),new H(2,115)),new ce(28,new H(19,46),new H(4,47)),new ce(28,new H(28,22),new H(6,23)),new ce(30,new H(33,16),new H(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new ce(30,new H(8,122),new H(4,123)),new ce(28,new H(22,45),new H(3,46)),new ce(30,new H(8,23),new H(26,24)),new ce(30,new H(12,15),new H(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new ce(30,new H(3,117),new H(10,118)),new ce(28,new H(3,45),new H(23,46)),new ce(30,new H(4,24),new H(31,25)),new ce(30,new H(11,15),new H(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new ce(30,new H(7,116),new H(7,117)),new ce(28,new H(21,45),new H(7,46)),new ce(30,new H(1,23),new H(37,24)),new ce(30,new H(19,15),new H(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new ce(30,new H(5,115),new H(10,116)),new ce(28,new H(19,47),new H(10,48)),new ce(30,new H(15,24),new H(25,25)),new ce(30,new H(23,15),new H(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new ce(30,new H(13,115),new H(3,116)),new ce(28,new H(2,46),new H(29,47)),new ce(30,new H(42,24),new H(1,25)),new ce(30,new H(23,15),new H(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new ce(30,new H(17,115)),new ce(28,new H(10,46),new H(23,47)),new ce(30,new H(10,24),new H(35,25)),new ce(30,new H(19,15),new H(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new ce(30,new H(17,115),new H(1,116)),new ce(28,new H(14,46),new H(21,47)),new ce(30,new H(29,24),new H(19,25)),new ce(30,new H(11,15),new H(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new ce(30,new H(13,115),new H(6,116)),new ce(28,new H(14,46),new H(23,47)),new ce(30,new H(44,24),new H(7,25)),new ce(30,new H(59,16),new H(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new ce(30,new H(12,121),new H(7,122)),new ce(28,new H(12,47),new H(26,48)),new ce(30,new H(39,24),new H(14,25)),new ce(30,new H(22,15),new H(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new ce(30,new H(6,121),new H(14,122)),new ce(28,new H(6,47),new H(34,48)),new ce(30,new H(46,24),new H(10,25)),new ce(30,new H(2,15),new H(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new ce(30,new H(17,122),new H(4,123)),new ce(28,new H(29,46),new H(14,47)),new ce(30,new H(49,24),new H(10,25)),new ce(30,new H(24,15),new H(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new ce(30,new H(4,122),new H(18,123)),new ce(28,new H(13,46),new H(32,47)),new ce(30,new H(48,24),new H(14,25)),new ce(30,new H(42,15),new H(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new ce(30,new H(20,117),new H(4,118)),new ce(28,new H(40,47),new H(7,48)),new ce(30,new H(43,24),new H(22,25)),new ce(30,new H(10,15),new H(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new ce(30,new H(19,118),new H(6,119)),new ce(28,new H(18,47),new H(31,48)),new ce(30,new H(34,24),new H(34,25)),new ce(30,new H(20,15),new H(61,16)))],t}(),vn;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(vn||(vn={}));var O7=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[vn.DATA_MASK_000,new t(vn.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[vn.DATA_MASK_001,new t(vn.DATA_MASK_001,function(e,r){return(e&1)===0})],[vn.DATA_MASK_010,new t(vn.DATA_MASK_010,function(e,r){return r%3===0})],[vn.DATA_MASK_011,new t(vn.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[vn.DATA_MASK_100,new t(vn.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[vn.DATA_MASK_101,new t(vn.DATA_MASK_101,function(e,r){return e*r%6===0})],[vn.DATA_MASK_110,new t(vn.DATA_MASK_110,function(e,r){return e*r%6<3})],[vn.DATA_MASK_111,new t(vn.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),tTe=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new ke;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),a=0,o=i-7,n=i-1;n>=o;n--)a=this.copyBit(8,n,a);for(var r=i-8;r<i;r++)a=this.copyBit(r,8,a);if(this.parsedFormatInfo=UH.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ke},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return jl.getVersionForNumber(r);for(var n=0,i=e-11,a=5;a>=0;a--)for(var o=e-9;o>=i;o--)n=this.copyBit(o,a,n);var s=jl.decodeVersionInformation(n);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;n=0;for(var o=5;o>=0;o--)for(var a=e-9;a>=i;a--)n=this.copyBit(o,a,n);if(s=jl.decodeVersionInformation(n),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new ke},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=O7.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var a=r.buildFunctionPattern(),o=!0,s=new Uint8Array(r.getTotalCodewords()),u=0,l=0,c=0,f=i-1;f>0;f-=2){f===6&&f--;for(var h=0;h<i;h++)for(var v=o?i-1-h:h,g=0;g<2;g++)a.get(f-g,v)||(c++,l<<=1,this.bitMatrix.get(f-g,v)&&(l|=1),c===8&&(s[u++]=l,c=0,l=0));o=!o}if(u!==r.getTotalCodewords())throw new ke;return s},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=O7.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,a=e.getHeight();i<a;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t}(),T7=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rTe=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,a,o,s;if(e.length!==r.getTotalCodewords())throw new Qe;var u=r.getECBlocksForLevel(n),l=0,c=u.getECBlocks();try{for(var f=T7(c),h=f.next();!h.done;h=f.next()){var v=h.value;l+=v.getCount()}}catch(j){i={error:j}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}var g=new Array(l),m=0;try{for(var _=T7(c),b=_.next();!b.done;b=_.next())for(var v=b.value,E=0;E<v.getCount();E++){var A=v.getDataCodewords(),C=u.getECCodewordsPerBlock()+A;g[m++]=new t(A,new Uint8Array(C))}}catch(j){o={error:j}}finally{try{b&&!b.done&&(s=_.return)&&s.call(_)}finally{if(o)throw o.error}}for(var O=g[0].codewords.length,R=g.length-1;R>=0;){var I=g[R].codewords.length;if(I===O)break;R--}R++;for(var S=O-u.getECCodewordsPerBlock(),T=0,E=0;E<S;E++)for(var D=0;D<m;D++)g[D].codewords[E]=e[T++];for(var D=R;D<m;D++)g[D].codewords[S]=e[T++];for(var L=g[0].codewords.length,E=S;E<L;E++)for(var D=0;D<m;D++){var F=D<R?E:E+1;g[D].codewords[F]=e[T++]}return g},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),pa;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(pa||(pa={}));var hr=function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new Qe;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(pa.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(pa.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(pa.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(pa.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(pa.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(pa.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(pa.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(pa.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(pa.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(pa.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),nTe=function(){function t(){}return t.decode=function(e,r,n,i){var a=new $H(e),o=new wt,s=new Array,u=-1,l=-1;try{var c=null,f=!1,h=void 0;do{if(a.available()<4)h=hr.TERMINATOR;else{var v=a.readBits(4);h=hr.forBits(v)}switch(h){case hr.TERMINATOR:break;case hr.FNC1_FIRST_POSITION:case hr.FNC1_SECOND_POSITION:f=!0;break;case hr.STRUCTURED_APPEND:if(a.available()<16)throw new ke;u=a.readBits(8),l=a.readBits(8);break;case hr.ECI:var g=t.parseECIValue(a);if(c=tn.getCharacterSetECIByValue(g),c===null)throw new ke;break;case hr.HANZI:var m=a.readBits(4),_=a.readBits(h.getCharacterCountBits(r));m===t.GB2312_SUBSET&&t.decodeHanziSegment(a,o,_);break;default:var b=a.readBits(h.getCharacterCountBits(r));switch(h){case hr.NUMERIC:t.decodeNumericSegment(a,o,b);break;case hr.ALPHANUMERIC:t.decodeAlphanumericSegment(a,o,b,f);break;case hr.BYTE:t.decodeByteSegment(a,o,b,c,s,i);break;case hr.KANJI:t.decodeKanjiSegment(a,o,b);break;default:throw new ke}break}}while(h!==hr.TERMINATOR)}catch{throw new ke}return new Sw(e,o.toString(),s.length===0?null:s,n===null?null:n.toString(),u,l)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new ke;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/96<<8&4294967295|o%96;s<959?s+=41377:s+=42657,i[a]=s>>8&255,i[a+1]=s&255,a+=2,n--}try{r.append(wa.decode(i,Pt.GB2312))}catch(u){throw new ke(u)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new ke;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/192<<8&4294967295|o%192;s<7936?s+=33088:s+=49472,i[a]=s>>8,i[a+1]=s,a+=2,n--}try{r.append(wa.decode(i,Pt.SHIFT_JIS))}catch(u){throw new ke(u)}},t.decodeByteSegment=function(e,r,n,i,a,o){if(8*n>e.available())throw new ke;for(var s=new Uint8Array(n),u=0;u<n;u++)s[u]=e.readBits(8);var l;i===null?l=Pt.guessEncoding(s,o):l=i.getName();try{r.append(wa.decode(s,l))}catch(c){throw new ke(c)}a.push(s)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new ke;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var a=r.length();n>1;){if(e.available()<11)throw new ke;var o=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(o/45))),r.append(t.toAlphaNumericChar(o%45)),n-=2}if(n===1){if(e.available()<6)throw new ke;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var s=a;s<r.length();s++)r.charAt(s)==="%"&&(s<r.length()-1&&r.charAt(s+1)==="%"?r.deleteCharAt(s+1):r.setCharAt(s,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new ke;var i=e.readBits(10);if(i>=1e3)throw new ke;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new ke;var a=e.readBits(7);if(a>=100)throw new ke;r.append(t.toAlphaNumericChar(Math.floor(a/10))),r.append(t.toAlphaNumericChar(a%10))}else if(n===1){if(e.available()<4)throw new ke;var o=e.readBits(4);if(o>=10)throw new ke;r.append(t.toAlphaNumericChar(o))}},t.parseECIValue=function(e){var r=e.readBits(8);if((r&128)===0)return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new ke},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),VH=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),C7=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},iTe=function(){function t(){this.rsDecoder=new Ow(Si.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(Fo.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new tTe(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(o){i=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var a=this.decodeBitMatrixParser(n,r);return a.setOther(new VH(!0)),a}catch(o){throw i!==null?i:o}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,a,o,s=e.readVersion(),u=e.readFormatInformation().getErrorCorrectionLevel(),l=e.readCodewords(),c=rTe.getDataBlocks(l,s,u),f=0;try{for(var h=C7(c),v=h.next();!v.done;v=h.next()){var g=v.value;f+=g.getNumDataCodewords()}}catch(R){n={error:R}}finally{try{v&&!v.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}var m=new Uint8Array(f),_=0;try{for(var b=C7(c),E=b.next();!E.done;E=b.next()){var g=E.value,A=g.getCodewords(),C=g.getNumDataCodewords();this.correctErrors(A,C);for(var O=0;O<C;O++)m[_++]=A[O]}}catch(R){a={error:R}}finally{try{E&&!E.done&&(o=b.return)&&o.call(b)}finally{if(a)throw a.error}}return nTe.decode(m,s,u,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Wr}for(var i=0;i<r;i++)e[i]=n[i]},t}(),aTe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oTe=function(t){aTe(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=(this.getX()+n)/2,o=(this.getY()+r)/2,s=(this.estimatedModuleSize+i)/2;return new e(a,o,s)},e}(He),sTe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uTe=function(){function t(e,r,n,i,a,o,s){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=a,this.moduleSize=o,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,a=this.startY+r/2,o=new Int32Array(3),s=this.image,u=0;u<r;u++){var l=a+((u&1)===0?Math.floor((u+1)/2):-Math.floor((u+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var c=e;c<i&&!s.get(c,l);)c++;for(var f=0;c<i;){if(s.get(c,l))if(f===1)o[1]++;else if(f===2){if(this.foundPatternCross(o)){var h=this.handlePossibleCenter(o,l,c);if(h!==null)return h}o[0]=o[2],o[1]=1,o[2]=0,f=1}else o[++f]++;else f===1&&f++,o[f]++;c++}if(this.foundPatternCross(o)){var h=this.handlePossibleCenter(o,l,i);if(h!==null)return h}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ge},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var a=this.image,o=a.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var u=e;u>=0&&a.get(r,u)&&s[1]<=n;)s[1]++,u--;if(u<0||s[1]>n)return NaN;for(;u>=0&&!a.get(r,u)&&s[0]<=n;)s[0]++,u--;if(s[0]>n)return NaN;for(u=e+1;u<o&&a.get(r,u)&&s[1]<=n;)s[1]++,u++;if(u===o||s[1]>n)return NaN;for(;u<o&&!a.get(r,u)&&s[2]<=n;)s[2]++,u++;if(s[2]>n)return NaN;var l=s[0]+s[1]+s[2];return 5*Math.abs(l-i)>=2*i?NaN:this.foundPatternCross(s)?t.centerFromEnd(s,u):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,a,o=e[0]+e[1]+e[2],s=t.centerFromEnd(e,n),u=this.crossCheckVertical(r,s,2*e[1],o);if(!isNaN(u)){var l=(e[0]+e[1]+e[2])/3;try{for(var c=sTe(this.possibleCenters),f=c.next();!f.done;f=c.next()){var h=f.value;if(h.aboutEquals(l,u,s))return h.combineEstimate(u,s,l)}}catch(g){i={error:g}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}var v=new oTe(s,u,l);this.possibleCenters.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return null},t}(),lTe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cTe=function(t){lTe(e,t);function e(r,n,i,a){var o=t.call(this,r,n)||this;return o.estimatedModuleSize=i,o.count=a,a===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=this.count+1,o=(this.count*this.getX()+n)/a,s=(this.count*this.getY()+r)/a,u=(this.count*this.estimatedModuleSize+i)/a;return new e(o,s,u,a)},e}(He),fTe=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),Qh=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dTe=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(lr.TRY_HARDER)!==void 0,n=e!=null&&e.get(lr.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),o=i.getWidth(),s=Math.floor(3*a/(4*t.MAX_MODULES));(s<t.MIN_SKIP||r)&&(s=t.MIN_SKIP);for(var u=!1,l=new Int32Array(5),c=s-1;c<a&&!u;c+=s){l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0;for(var f=0,h=0;h<o;h++)if(i.get(h,c))(f&1)===1&&f++,l[f]++;else if((f&1)===0)if(f===4)if(t.foundPatternCross(l)){var v=this.handlePossibleCenter(l,c,h,n);if(v===!0)if(s=2,this.hasSkipped===!0)u=this.haveMultiplyConfirmedCenters();else{var g=this.findRowSkip();g>l[2]&&(c+=g-l[2]-s,h=o-1)}else{l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,f=3;continue}f=0,l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0}else l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,f=3;else l[++f]++;else l[f]++;if(t.foundPatternCross(l)){var v=this.handlePossibleCenter(l,c,o,n);v===!0&&(s=l[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}}var m=this.selectBestPatterns();return He.orderBestPatterns(m),new fTe(m)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var a=r/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var a=this.getCrossCheckStateCount(),o=0,s=this.image;e>=o&&r>=o&&s.get(r-o,e-o);)a[2]++,o++;if(e<o||r<o)return!1;for(;e>=o&&r>=o&&!s.get(r-o,e-o)&&a[1]<=n;)a[1]++,o++;if(e<o||r<o||a[1]>n)return!1;for(;e>=o&&r>=o&&s.get(r-o,e-o)&&a[0]<=n;)a[0]++,o++;if(a[0]>n)return!1;var u=s.getHeight(),l=s.getWidth();for(o=1;e+o<u&&r+o<l&&s.get(r+o,e+o);)a[2]++,o++;if(e+o>=u||r+o>=l)return!1;for(;e+o<u&&r+o<l&&!s.get(r+o,e+o)&&a[3]<n;)a[3]++,o++;if(e+o>=u||r+o>=l||a[3]>=n)return!1;for(;e+o<u&&r+o<l&&s.get(r+o,e+o)&&a[4]<n;)a[4]++,o++;if(a[4]>=n)return!1;var c=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(c-i)<2*i&&t.foundPatternCross(a)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var a=this.image,o=a.getHeight(),s=this.getCrossCheckStateCount(),u=e;u>=0&&a.get(r,u);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!a.get(r,u)&&s[1]<=n;)s[1]++,u--;if(u<0||s[1]>n)return NaN;for(;u>=0&&a.get(r,u)&&s[0]<=n;)s[0]++,u--;if(s[0]>n)return NaN;for(u=e+1;u<o&&a.get(r,u);)s[2]++,u++;if(u===o)return NaN;for(;u<o&&!a.get(r,u)&&s[3]<n;)s[3]++,u++;if(u===o||s[3]>=n)return NaN;for(;u<o&&a.get(r,u)&&s[4]<n;)s[4]++,u++;if(s[4]>=n)return NaN;var l=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(l-i)>=2*i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,u):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var a=this.image,o=a.getWidth(),s=this.getCrossCheckStateCount(),u=e;u>=0&&a.get(u,r);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!a.get(u,r)&&s[1]<=n;)s[1]++,u--;if(u<0||s[1]>n)return NaN;for(;u>=0&&a.get(u,r)&&s[0]<=n;)s[0]++,u--;if(s[0]>n)return NaN;for(u=e+1;u<o&&a.get(u,r);)s[2]++,u++;if(u===o)return NaN;for(;u<o&&!a.get(u,r)&&s[3]<n;)s[3]++,u++;if(u===o||s[3]>=n)return NaN;for(;u<o&&a.get(u,r)&&s[4]<n;)s[4]++,u++;if(s[4]>=n)return NaN;var l=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(l-i)>=i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,u):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=t.centerFromEnd(e,n),s=this.crossCheckVertical(r,Math.floor(o),e[2],a);if(!isNaN(s)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(s),e[2],a),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(o),e[2],a)))){for(var u=a/7,l=!1,c=this.possibleCenters,f=0,h=c.length;f<h;f++){var v=c[f];if(v.aboutEquals(u,s,o)){c[f]=v.combineEstimate(s,o,u),l=!0;break}}if(!l){var g=new cTe(o,s,u);c.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var a=Qh(this.possibleCenters),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.getCount()>=t.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,a=0,o=0,s=this.possibleCenters.length;try{for(var u=Qh(this.possibleCenters),l=u.next();!l.done;l=u.next()){var c=l.value;c.getCount()>=t.CENTER_QUORUM&&(a++,o+=c.getEstimatedModuleSize())}}catch(m){e={error:m}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}if(a<3)return!1;var f=o/s,h=0;try{for(var v=Qh(this.possibleCenters),g=v.next();!g.done;g=v.next()){var c=g.value;h+=Math.abs(c.getEstimatedModuleSize()-f)}}catch(m){n={error:m}}finally{try{g&&!g.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}return h<=.05*o},t.prototype.selectBestPatterns=function(){var e,r,n,i,a=this.possibleCenters.length;if(a<3)throw new ge;var o=this.possibleCenters,s;if(a>3){var u=0,l=0;try{for(var c=Qh(this.possibleCenters),f=c.next();!f.done;f=c.next()){var h=f.value,v=h.getEstimatedModuleSize();u+=v,l+=v*v}}catch(O){e={error:O}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}s=u/a;var g=Math.sqrt(l/a-s*s);o.sort(function(O,R){var I=Math.abs(R.getEstimatedModuleSize()-s),S=Math.abs(O.getEstimatedModuleSize()-s);return I<S?-1:I>S?1:0});for(var m=Math.max(.2*s,g),_=0;_<o.length&&o.length>3;_++){var b=o[_];Math.abs(b.getEstimatedModuleSize()-s)>m&&(o.splice(_,1),_--)}}if(o.length>3){var u=0;try{for(var E=Qh(o),A=E.next();!A.done;A=E.next()){var C=A.value;u+=C.getEstimatedModuleSize()}}catch(R){n={error:R}}finally{try{A&&!A.done&&(i=E.return)&&i.call(E)}finally{if(n)throw n.error}}s=u/o.length,o.sort(function(R,I){if(I.getCount()===R.getCount()){var S=Math.abs(I.getEstimatedModuleSize()-s),T=Math.abs(R.getEstimatedModuleSize()-s);return S<T?1:S>T?-1:0}else return I.getCount()-R.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),hTe=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(lr.NEED_RESULT_POINT_CALLBACK);var r=new dTe(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(r,n,i);if(a<1)throw new ge("No pattern found in proccess finder.");var o=t.computeDimension(r,n,i,a),s=jl.getProvisionalVersionForDimension(o),u=s.getDimensionForVersion()-7,l=null;if(s.getAlignmentPatternCenters().length>0)for(var c=n.getX()-r.getX()+i.getX(),f=n.getY()-r.getY()+i.getY(),h=1-3/u,v=Math.floor(r.getX()+h*(c-r.getX())),g=Math.floor(r.getY()+h*(f-r.getY())),m=4;m<=16;m<<=1)try{l=this.findAlignmentInRegion(a,v,g,m);break}catch(A){if(!(A instanceof ge))throw A}var _=t.createTransform(r,n,i,l,o),b=t.sampleGrid(this.image,_,o),E;return l===null?E=[i,r,n]:E=[i,r,n,l],new PR(b,E)},t.createTransform=function(e,r,n,i,a){var o=a-3.5,s,u,l,c;return i!==null?(s=i.getX(),u=i.getY(),l=o-3,c=l):(s=r.getX()-e.getX()+n.getX(),u=r.getY()-e.getY()+n.getY(),l=o,c=o),LH.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,l,c,3.5,o,e.getX(),e.getY(),r.getX(),r.getY(),s,u,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=RR.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var a=kt.round(He.distance(e,r)/i),o=kt.round(He.distance(e,n)/i),s=Math.floor((a+o)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new ge("Dimensions could be not found.")}return s},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var a=this.sizeOfBlackWhiteBlackRun(e,r,n,i),o=1,s=e-(n-e);s<0?(o=e/(e-s),s=0):s>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var u=Math.floor(r-(i-r)*o);return o=1,u<0?(o=r/(r-u),u=0):u>=this.image.getHeight()&&(o=(this.image.getHeight()-1-r)/(u-r),u=this.image.getHeight()-1),s=Math.floor(e+(s-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,r,s,u),a-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var a=Math.abs(i-r)>Math.abs(n-e);if(a){var o=e;e=r,r=o,o=n,n=i,i=o}for(var s=Math.abs(n-e),u=Math.abs(i-r),l=-s/2,c=e<n?1:-1,f=r<i?1:-1,h=0,v=n+c,g=e,m=r;g!==v;g+=c){var _=a?m:g,b=a?g:m;if(h===1===this.image.get(_,b)){if(h===2)return kt.distance(g,m,e,r);h++}if(l+=u,l>0){if(m===i)break;m+=f,l-=s}}return h===2?kt.distance(n+c,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var a=Math.floor(i*e),o=Math.max(0,r-a),s=Math.min(this.image.getWidth()-1,r+a);if(s-o<e*3)throw new ge("Alignment top exceeds estimated module size.");var u=Math.max(0,n-a),l=Math.min(this.image.getHeight()-1,n+a);if(l-u<e*3)throw new ge("Alignment bottom exceeds estimated module size.");var c=new uTe(this.image,o,u,s-o,l-u,e,this.resultPointCallback);return c.find()},t}(),X1=function(){function t(){this.decoder=new iTe}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(lr.PURE_BARCODE)!==void 0){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(a,r),i=t.NO_POINTS}else{var o=new hTe(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(o.getBits(),r),i=o.getPoints()}n.getOther()instanceof VH&&n.getOther().applyMirroredCorrection(i);var s=new Jn(n.getText(),n.getRawBytes(),void 0,i,Ye.QR_CODE,void 0),u=n.getByteSegments();u!==null&&s.putMetadata(Dn.BYTE_SEGMENTS,u);var l=n.getECLevel();return l!==null&&s.putMetadata(Dn.ERROR_CORRECTION_LEVEL,l),n.hasStructuredAppend()&&(s.putMetadata(Dn.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),s.putMetadata(Dn.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),s},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new ge;var i=this.moduleSize(r,e),a=r[1],o=n[1],s=r[0],u=n[0];if(s>=u||a>=o)throw new ge;if(o-a!==u-s&&(u=s+(o-a),u>=e.getWidth()))throw new ge;var l=Math.round((u-s+1)/i),c=Math.round((o-a+1)/i);if(l<=0||c<=0)throw new ge;if(c!==l)throw new ge;var f=Math.floor(i/2);a+=f,s+=f;var h=s+Math.floor((l-1)*i)-u;if(h>0){if(h>f)throw new ge;s-=h}var v=a+Math.floor((c-1)*i)-o;if(v>0){if(v>f)throw new ge;a-=v}for(var g=new Fo(l,c),m=0;m<c;m++)for(var _=a+Math.floor(m*i),b=0;b<l;b++)e.get(s+Math.floor(b*i),_)&&g.set(b,m);return g},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),a=e[0],o=e[1],s=!0,u=0;a<i&&o<n;){if(s!==r.get(a,o)){if(++u===5)break;s=!s}a++,o++}if(a===i||o===n)throw new ge;return(a-e[0])/7},t.NO_POINTS=new Array,t}(),pTe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Dt=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return kt.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var o=pTe(e),s=o.next();!s.done;s=o.next()){var u=s.value;i[a++]=u}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=nn.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),vTe=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),gTe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mTe=function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),a=t.detect(n,i);return a.length||(i=i.clone(),i.rotate180(),a=t.detect(n,i)),new vTe(i,a)},t.detect=function(e,r){for(var n,i,a=new Array,o=0,s=0,u=!1;o<r.getHeight();){var l=t.findVertices(r,o,s);if(l[0]==null&&l[3]==null){if(!u)break;u=!1,s=0;try{for(var c=(n=void 0,gTe(a)),f=c.next();!f.done;f=c.next()){var h=f.value;h[1]!=null&&(o=Math.trunc(Math.max(o,h[1].getY()))),h[3]!=null&&(o=Math.max(o,Math.trunc(h[3].getY())))}}catch(v){n={error:v}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}o+=t.ROW_STEP;continue}if(u=!0,a.push(l),!e)break;l[2]!=null?(s=Math.trunc(l[2].getX()),o=Math.trunc(l[2].getY())):(s=Math.trunc(l[4].getX()),o=Math.trunc(l[4].getY()))}return a},t.findVertices=function(e,r,n){var i=e.getHeight(),a=e.getWidth(),o=new Array(8);return t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),o[4]!=null&&(n=Math.trunc(o[4].getX()),r=Math.trunc(o[4].getY())),t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),o},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,a,o){for(var s=new Array(4),u=!1,l=new Int32Array(o.length);i<r;i+=t.ROW_STEP){var c=t.findGuardPattern(e,a,i,n,!1,o,l);if(c!=null){for(;i>0;){var f=t.findGuardPattern(e,a,--i,n,!1,o,l);if(f!=null)c=f;else{i++;break}}s[0]=new He(c[0],i),s[1]=new He(c[1],i),u=!0;break}}var h=i+1;if(u){for(var v=0,f=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);h<r;h++){var c=t.findGuardPattern(e,f[0],h,n,!1,o,l);if(c!=null&&Math.abs(f[0]-c[0])<t.MAX_PATTERN_DRIFT&&Math.abs(f[1]-c[1])<t.MAX_PATTERN_DRIFT)f=c,v=0;else{if(v>t.SKIPPED_ROW_COUNT_MAX)break;v++}}h-=v+1,s[2]=new He(f[0],h),s[3]=new He(f[1],h)}return h-i<t.BARCODE_MIN_HEIGHT&&nn.fill(s,null),s},t.findGuardPattern=function(e,r,n,i,a,o,s){nn.fillWithin(s,0,s.length,0);for(var u=r,l=0;e.get(u,n)&&u>0&&l++<t.MAX_PIXEL_DRIFT;)u--;for(var c=u,f=0,h=o.length,v=a;c<i;c++){var g=e.get(c,n);if(g!==v)s[f]++;else{if(f===h-1){if(t.patternMatchVariance(s,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([u,c]);u+=s[0]+s[1],ur.arraycopy(s,2,s,0,f-1),s[f-1]=0,s[f]=0,f--}else f++;s[f]=1,v=!v}}return f===h-1&&t.patternMatchVariance(s,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([u,c-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=r[s];if(a<o)return 1/0;var u=a/o;n*=u;for(var l=0,c=0;c<i;c++){var f=e[c],h=r[c]*u,v=f>h?f-h:h-f;if(v>n)return 1/0;l+=v}return l/a},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),yTe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cl=function(){function t(e,r){if(r.length===0)throw new Qe;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),ur.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=yTe(this.coefficients),o=a.next();!o.done;o=a.next()){var s=o.value;i=this.field.add(i,s)}}catch(f){r={error:f}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}for(var u=this.coefficients[0],l=this.coefficients.length,c=1;c<l;c++)u=this.field.add(this.field.multiply(e,u),this.coefficients[c]);return u},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new Qe("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;ur.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=this.field.add(r[s-o],n[s]);return new t(this.field,a)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Qe("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Qe("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=0;s<n;s++)for(var u=r[s],l=0;l<a;l++)o[s+l]=this.field.add(o[s+l],this.field.multiply(u,i[l]));return new t(this.field,o)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Qe;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),a=0;a<n;a++)i[a]=this.field.multiply(this.coefficients[a],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new wt,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),_Te=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Qe;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new MH;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),wTe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xTe=function(t){wTe(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var a=1,o=0;o<r;o++)i.expTable[o]=a,a=a*n%r;for(var o=0;o<r-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new Cl(i,new Int32Array([0])),i.one=new Cl(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Qe;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new Cl(this,i)},e.PDF417_GF=new e(Dt.NUMBER_OF_CODEWORDS,3),e}(_Te),bTe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ETe=function(){function t(){this.field=xTe.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,a,o=new Cl(this.field,e),s=new Int32Array(r),u=!1,l=r;l>0;l--){var c=o.evaluateAt(this.field.exp(l));s[r-l]=c,c!==0&&(u=!0)}if(!u)return 0;var f=this.field.getOne();if(n!=null)try{for(var h=bTe(n),v=h.next();!v.done;v=h.next()){var g=v.value,m=this.field.exp(e.length-1-g),_=new Cl(this.field,new Int32Array([this.field.subtract(0,m),1]));f=f.multiply(_)}}catch(S){i={error:S}}finally{try{v&&!v.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}for(var b=new Cl(this.field,s),E=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),b,r),A=E[0],C=E[1],O=this.findErrorLocations(A),R=this.findErrorMagnitudes(C,A,O),l=0;l<O.length;l++){var I=e.length-1-this.field.log(O[l]);if(I<0)throw Wr.getChecksumInstance();e[I]=this.field.subtract(e[I],R[l])}return O.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=e,o=r,s=this.field.getZero(),u=this.field.getOne();o.getDegree()>=Math.round(n/2);){var l=a,c=s;if(a=o,s=u,a.isZero())throw Wr.getChecksumInstance();o=l;for(var f=this.field.getZero(),h=a.getCoefficient(a.getDegree()),v=this.field.inverse(h);o.getDegree()>=a.getDegree()&&!o.isZero();){var g=o.getDegree()-a.getDegree(),m=this.field.multiply(o.getCoefficient(o.getDegree()),v);f=f.add(this.field.buildMonomial(g,m)),o=o.subtract(a.multiplyByMonomial(g,m))}u=f.multiply(s).subtract(c).negative()}var _=u.getCoefficient(0);if(_===0)throw Wr.getChecksumInstance();var b=this.field.inverse(_),E=u.multiply(b),A=o.multiply(b);return[E,A]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,a=1;a<this.field.getSize()&&i<r;a++)e.evaluateAt(a)===0&&(n[i]=this.field.inverse(a),i++);if(i!==r)throw Wr.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),a=new Int32Array(i),o=1;o<=i;o++)a[i-o]=this.field.multiply(o,r.getCoefficient(o));for(var s=new Cl(this.field,a),u=n.length,l=new Int32Array(u),o=0;o<u;o++){var c=this.field.inverse(n[o]),f=this.field.subtract(0,e.evaluateAt(c)),h=this.field.inverse(s.evaluateAt(c));l[o]=this.field.multiply(f,h)}return l},t}(),BC=function(){function t(e,r,n,i,a){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,a)}return t.prototype.constructor_1=function(e,r,n,i,a){var o=r==null||n==null,s=i==null||a==null;if(o&&s)throw new ge;o?(r=new He(0,i.getY()),n=new He(0,a.getY())):s&&(i=new He(e.getWidth()-1,r.getY()),a=new He(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,a=this.bottomLeft,o=this.topRight,s=this.bottomRight;if(e>0){var u=n?this.topLeft:this.topRight,l=Math.trunc(u.getY()-e);l<0&&(l=0);var c=new He(u.getX(),l);n?i=c:o=c}if(r>0){var f=n?this.bottomLeft:this.bottomRight,h=Math.trunc(f.getY()+r);h>=this.image.getHeight()&&(h=this.image.getHeight()-1);var v=new He(f.getX(),h);n?a=v:s=v}return new t(this.image,i,a,o,s)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),ATe=function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),NR=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(o,s,u,l,c,f){if(o==="%%")return"%";if(r[++n]!==void 0){o=l?parseInt(l.substr(1)):void 0;var h=c?parseInt(c.substr(1)):void 0,v;switch(f){case"s":v=r[n];break;case"c":v=r[n][0];break;case"f":v=parseFloat(r[n]).toFixed(o);break;case"p":v=parseFloat(r[n]).toPrecision(o);break;case"e":v=parseFloat(r[n]).toExponential(o);break;case"x":v=parseInt(r[n]).toString(h||16);break;case"d":v=parseFloat(parseInt(r[n],h||10).toPrecision(o)).toFixed(0);break}v=typeof v=="object"?JSON.stringify(v):(+v).toString(h);for(var g=parseInt(u),m=u&&u[0]+""=="0"?"0":" ";v.length<g;)v=s!==void 0?v+m:m+v;return v}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),STe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qH=function(){function t(e){this.boundingBox=new BC(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new NR,i=0;try{for(var a=STe(this.codewords),o=a.next();!o.done;o=a.next()){var s=o.value;if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}}catch(u){e={error:u}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),OTe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TTe=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},dp=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,a=function(f,h){var v={getKey:function(){return f},getValue:function(){return h}};v.getValue()>n?(n=v.getValue(),i=[],i.push(v.getKey())):v.getValue()===n&&i.push(v.getKey())};try{for(var o=OTe(this.values.entries()),s=o.next();!s.done;s=o.next()){var u=TTe(s.value,2),l=u[0],c=u[1];a(l,c)}}catch(f){e={error:f}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return Dt.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),CTe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},I7=function(t){CTe(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=mO(this.getCodewords()),a=i.next();!a.done;a=i.next()){var o=a.value;o?.setRowNumberAsRowIndicatorColumn()}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),l=-1,c=1,f=0,h=s;h<u;h++)if(n[h]!=null){var v=n[h],g=v.getRowNumber()-l;if(g===0)f++;else if(g===1)c=Math.max(c,f),f=1,l=v.getRowNumber();else if(g<0||v.getRowNumber()>=r.getRowCount()||g>h)n[h]=null;else{var m=void 0;c>2?m=(c-2)*g:m=g;for(var _=m>=h,b=1;b<=m&&!_;b++)_=n[h-b]!=null;_?n[h]=null:(l=v.getRowNumber(),f=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var o=mO(this.getCodewords()),s=o.next();!s.done;s=o.next()){var u=s.value;if(u!=null){var l=u.getRowNumber();if(l>=a.length)continue;a[l]++}}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),u=this.getCodewords(),l=-1,c=o;c<s;c++)if(u[c]!=null){var f=u[c];f.setRowNumberAsRowIndicatorColumn();var h=f.getRowNumber()-l;h===0||(h===1?l=f.getRowNumber():f.getRowNumber()>=r.getRowCount()?u[c]=null:l=f.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),a=new dp,o=new dp,s=new dp,u=new dp;try{for(var l=mO(i),c=l.next();!c.done;c=l.next()){var f=c.value;if(f!=null){f.setRowNumberAsRowIndicatorColumn();var h=f.getValue()%30,v=f.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:o.setValue(h*3+1);break;case 1:u.setValue(h/3),s.setValue(h%3);break;case 2:a.setValue(h+1);break}}}}catch(m){r={error:m}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}if(a.getValue().length===0||o.getValue().length===0||s.getValue().length===0||u.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+s.getValue()[0]<Dt.MIN_ROWS_IN_BARCODE||o.getValue()[0]+s.getValue()[0]>Dt.MAX_ROWS_IN_BARCODE)return null;var g=new ATe(a.getValue()[0],o.getValue()[0],s.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(i,g),g},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var a=r[i];if(r[i]!=null){var o=a.getValue()%30,s=a.getRowNumber();if(s>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:o+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(qH),ITe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},PTe=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=Dt.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[n];a!=null&&(a.setRowNumber(e[n].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=this.barcodeColumnCount+1;o>0&&a<this.ADJUST_ROW_NUMBER_SKIP;o--){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=t.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=1;o<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;o++){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=t.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,a;if(this.detectionResultColumns[e-1]!=null){var o=n[r],s=this.detectionResultColumns[e-1].getCodewords(),u=s;this.detectionResultColumns[e+1]!=null&&(u=this.detectionResultColumns[e+1].getCodewords());var l=new Array(14);l[2]=s[r],l[3]=u[r],r>0&&(l[0]=n[r-1],l[4]=s[r-1],l[5]=u[r-1]),r>1&&(l[8]=n[r-2],l[10]=s[r-2],l[11]=u[r-2]),r<n.length-1&&(l[1]=n[r+1],l[6]=s[r+1],l[7]=u[r+1]),r<n.length-2&&(l[9]=n[r+2],l[12]=s[r+2],l[13]=u[r+2]);try{for(var c=ITe(l),f=c.next();!f.done;f=c.next()){var h=f.value;if(t.adjustRowNumber(o,h))return}}catch(v){i={error:v}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new NR,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[n];if(a==null){r.format("    |   ");continue}r.format(" %3d|%3d",a.getRowNumber(),a.getValue())}r.format("%n")}return r.toString()},t}(),RTe=function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),DTe=function(){function t(){}return t.initialize=function(){for(var e=0;e<Dt.SYMBOL_TABLE.length;e++)for(var r=Dt.SYMBOL_TABLE[e],n=r&1,i=0;i<Dt.BARS_IN_MODULE;i++){for(var a=0;(r&1)===n;)a+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(Dt.BARS_IN_MODULE)),t.RATIOS_TABLE[e][Dt.BARS_IN_MODULE-i-1]=Math.fround(a/Dt.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=kt.sum(e),n=new Int32Array(Dt.BARS_IN_MODULE),i=0,a=0,o=0;o<Dt.MODULES_IN_CODEWORD;o++){var s=r/(2*Dt.MODULES_IN_CODEWORD)+o*r/Dt.MODULES_IN_CODEWORD;a+e[i]<=s&&(a+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return Dt.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=kt.sum(e),n=new Array(Dt.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var a=LC.MAX_VALUE,o=-1;this.bSymbolTableReady||t.initialize();for(var s=0;s<t.RATIOS_TABLE.length;s++){for(var u=0,l=t.RATIOS_TABLE[s],c=0;c<Dt.BARS_IN_MODULE;c++){var f=Math.fround(l[c]-n[c]);if(u+=Math.fround(f*f),u>=a)break}u<a&&(a=u,o=Dt.SYMBOL_TABLE[s])}return o},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(Dt.SYMBOL_TABLE.length).map(function(e){return new Array(Dt.BARS_IN_MODULE)}),t}(),NTe=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),P7=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),kTe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),MTe=function(t){kTe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(Di),LTe=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new MTe;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new IR;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),jTe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),FTe=function(t){jTe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Di),BTe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$Te=function(t){BTe(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new Qe("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new FTe;i=Et.MAX_VALUE}this.buf=nn.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new IR;this.ensureCapacity(this.count+i),ur.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return nn.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(LTe),Xt;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Xt||(Xt={}));function zH(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var Gm;function ru(t){if(typeof Gm>"u"&&(Gm=zH()),Gm===null)throw new Error("BigInt is not supported!");return Gm(t)}function UTe(){var t=[];t[0]=ru(1);var e=ru(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var VTe=function(){function t(){}return t.decode=function(e,r){var n=new wt(""),i=tn.ISO8859_1;n.enableDecoding(i);for(var a=1,o=e[a++],s=new NTe;a<e[0];){switch(o){case t.TEXT_COMPACTION_MODE_LATCH:a=t.textCompaction(e,a,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:a=t.byteCompaction(o,e,i,a,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[a++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:a=t.numericCompaction(e,a,n);break;case t.ECI_CHARSET:tn.getCharacterSetECIByValue(e[a++]);break;case t.ECI_GENERAL_PURPOSE:a+=2;break;case t.ECI_USER_DEFINED:a++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=t.decodeMacroBlock(e,a,s);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new ke;default:a--,a=t.textCompaction(e,a,n);break}if(a<e.length)o=e[a++];else throw ke.getFormatInstance()}if(n.length()===0)throw ke.getFormatInstance();var u=new Sw(null,n.toString(),null,r);return u.setOther(s),u},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw ke.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<t.NUMBER_OF_SEQUENCE_CODEWORDS;a++,r++)i[a]=e[r];n.setSegmentIndex(Et.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new wt;r=t.textCompaction(e,r,o),n.setFileId(o.toString());var s=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var u=new wt;r=t.textCompaction(e,r+1,u),n.setFileName(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var l=new wt;r=t.textCompaction(e,r+1,l),n.setSender(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var c=new wt;r=t.textCompaction(e,r+1,c),n.setAddressee(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new wt;r=t.numericCompaction(e,r+1,f),n.setSegmentCount(Et.parseInt(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var h=new wt;r=t.numericCompaction(e,r+1,h),n.setTimestamp(P7.parseLong(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var v=new wt;r=t.numericCompaction(e,r+1,v),n.setChecksum(Et.parseInt(v.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var g=new wt;r=t.numericCompaction(e,r+1,g),n.setFileSize(P7.parseLong(g.toString()));break;default:throw ke.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw ke.getFormatInstance()}if(s!==-1){var m=r-s;n.isLastSegment()&&m--,n.setOptionalData(nn.copyOfRange(e,s,s+m))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),a=new Int32Array((e[0]-r)*2),o=0,s=!1;r<e[0]&&!s;){var u=e[r++];if(u<t.TEXT_COMPACTION_MODE_LATCH)i[o]=u/30,i[o+1]=u%30,o+=2;else switch(u){case t.TEXT_COMPACTION_MODE_LATCH:i[o++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,s=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[r++],a[o]=u,o++;break}}return t.decodeTextCompaction(i,a,o,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var a=Xt.ALPHA,o=Xt.ALPHA,s=0;s<n;){var u=e[s],l="";switch(a){case Xt.ALPHA:if(u<26)l=String.fromCharCode(65+u);else switch(u){case 26:l=" ";break;case t.LL:a=Xt.LOWER;break;case t.ML:a=Xt.MIXED;break;case t.PS:o=a,a=Xt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Xt.ALPHA;break}break;case Xt.LOWER:if(u<26)l=String.fromCharCode(97+u);else switch(u){case 26:l=" ";break;case t.AS:o=a,a=Xt.ALPHA_SHIFT;break;case t.ML:a=Xt.MIXED;break;case t.PS:o=a,a=Xt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Xt.ALPHA;break}break;case Xt.MIXED:if(u<t.PL)l=t.MIXED_CHARS[u];else switch(u){case t.PL:a=Xt.PUNCT;break;case 26:l=" ";break;case t.LL:a=Xt.LOWER;break;case t.AL:a=Xt.ALPHA;break;case t.PS:o=a,a=Xt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Xt.ALPHA;break}break;case Xt.PUNCT:if(u<t.PAL)l=t.PUNCT_CHARS[u];else switch(u){case t.PAL:a=Xt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Xt.ALPHA;break}break;case Xt.ALPHA_SHIFT:if(a=o,u<26)l=String.fromCharCode(65+u);else switch(u){case 26:l=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:a=Xt.ALPHA;break}break;case Xt.PUNCT_SHIFT:if(a=o,u<t.PAL)l=t.PUNCT_CHARS[u];else switch(u){case t.PAL:a=Xt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Xt.ALPHA;break}break}l!==""&&i.append(l),s++}},t.byteCompaction=function(e,r,n,i,a){var o=new $Te,s=0,u=0,l=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var c=new Int32Array(6),f=r[i++];i<r[0]&&!l;)switch(c[s++]=f,u=900*u+f,f=r[i++],f){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,l=!0;break;default:if(s%5===0&&s>0){for(var h=0;h<6;++h)o.write(Number(ru(u)>>ru(8*(5-h))));u=0,s=0}break}i===r[0]&&f<t.TEXT_COMPACTION_MODE_LATCH&&(c[s++]=f);for(var v=0;v<s;v++)o.write(c[v]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!l;){var g=r[i++];if(g<t.TEXT_COMPACTION_MODE_LATCH)s++,u=900*u+g;else switch(g){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,l=!0;break}if(s%5===0&&s>0){for(var h=0;h<6;++h)o.write(Number(ru(u)>>ru(8*(5-h))));u=0,s=0}}break}return a.append(wa.decode(o.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,a=!1,o=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!a;){var s=e[r++];if(r===e[0]&&(a=!0),s<t.TEXT_COMPACTION_MODE_LATCH)o[i]=s,i++;else switch(s){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,a=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||s===t.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(n.append(t.decodeBase900toBase10(o,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=ru(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*ru(e[i]);var a=n.toString();if(a.charAt(0)!=="1")throw new ke;return a.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=zH()?UTe():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),Zh=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qTe=function(){function t(){}return t.decode=function(e,r,n,i,a,o,s){for(var u=new BC(e,r,n,i,a),l=null,c=null,f,h=!0;;h=!1){if(r!=null&&(l=t.getRowIndicatorColumn(e,u,r,!0,o,s)),i!=null&&(c=t.getRowIndicatorColumn(e,u,i,!1,o,s)),f=t.merge(l,c),f==null)throw ge.getNotFoundInstance();var v=f.getBoundingBox();if(h&&v!=null&&(v.getMinY()<u.getMinY()||v.getMaxY()>u.getMaxY()))u=v;else break}f.setBoundingBox(u);var g=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,l),f.setDetectionResultColumn(g,c);for(var m=l!=null,_=1;_<=g;_++){var b=m?_:g-_;if(f.getDetectionResultColumn(b)===void 0){var E=void 0;b===0||b===g?E=new I7(u,b===0):E=new qH(u),f.setDetectionResultColumn(b,E);for(var A=-1,C=A,O=u.getMinY();O<=u.getMaxY();O++){if(A=t.getStartColumn(f,b,O,m),A<0||A>u.getMaxX()){if(C===-1)continue;A=C}var R=t.detectCodeword(e,u.getMinX(),u.getMaxX(),m,A,O,o,s);R!=null&&(E.setCodeword(O,R),C=A,o=Math.min(o,R.getWidth()),s=Math.max(s,R.getWidth()))}}}return t.createDecoderResult(f)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=BC.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new PTe(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=t.getMax(i),o=0;try{for(var s=Zh(i),u=s.next();!u.done;u=s.next()){var l=u.value;if(o+=a-l,l>0)break}}catch(v){r={error:v}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}for(var c=e.getCodewords(),f=0;o>0&&c[f]==null;f++)o--;for(var h=0,f=i.length-1;f>=0&&(h+=a-i[f],!(i[f]>0));f--);for(var f=c.length-1;h>0&&c[f]==null;f--)h--;return e.getBoundingBox().addMissingRows(o,h,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var a=Zh(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=Math.max(i,s)}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,a,o){for(var s=new I7(r,i),u=0;u<2;u++)for(var l=u===0?1:-1,c=Math.trunc(Math.trunc(n.getX())),f=Math.trunc(Math.trunc(n.getY()));f<=r.getMaxY()&&f>=r.getMinY();f+=l){var h=t.detectCodeword(e,0,e.getWidth(),i,c,f,a,o);h!=null&&(s.setCodeword(f,h),i?c=h.getStartX():c=h.getEndX())}return s},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>Dt.MAX_CODEWORDS_IN_BARCODE)throw ge.getNotFoundInstance();n.setValue(a)}else i[0]!==a&&n.setValue(a)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var u=0;u<e.getBarcodeColumnCount();u++){var l=r[s][u+1].getValue(),c=s*e.getBarcodeColumnCount()+u;l.length===0?n.push(c):l.length===1?i[c]=l[0]:(o.push(c),a.push(l))}for(var f=new Array(a.length),h=0;h<f.length;h++)f[h]=a[h];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,Dt.toIntArray(n),Dt.toIntArray(o),f)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,a){for(var o=new Int32Array(i.length),s=100;s-- >0;){for(var u=0;u<o.length;u++)r[i[u]]=a[u][o[u]];try{return t.decodeCodewords(r,e,n)}catch(c){var l=c instanceof Wr;if(!l)throw c}if(o.length===0)throw Wr.getChecksumInstance();for(var u=0;u<o.length;u++)if(o[u]<a[u].length-1){o[u]++;break}else if(o[u]=0,u===o.length-1)throw Wr.getChecksumInstance()}throw Wr.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,a,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<o.length;s++)for(var u=0;u<o[s].length;u++)o[s][u]=new dp;var l=0;try{for(var c=Zh(e.getDetectionResultColumns()),f=c.next();!f.done;f=c.next()){var h=f.value;if(h!=null)try{for(var v=(i=void 0,Zh(h.getCodewords())),g=v.next();!g.done;g=v.next()){var m=g.value;if(m!=null){var _=m.getRowNumber();if(_>=0){if(_>=o.length)continue;o[_][l].setValue(m.getValue())}}}}catch(b){i={error:b}}finally{try{g&&!g.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}l++}}catch(b){r={error:b}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}return o},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var a,o,s=i?1:-1,u=null;if(t.isValidBarcodeColumn(e,r-s)&&(u=e.getDetectionResultColumn(r-s).getCodeword(n)),u!=null)return i?u.getEndX():u.getStartX();if(u=e.getDetectionResultColumn(r).getCodewordNearby(n),u!=null)return i?u.getStartX():u.getEndX();if(t.isValidBarcodeColumn(e,r-s)&&(u=e.getDetectionResultColumn(r-s).getCodewordNearby(n)),u!=null)return i?u.getEndX():u.getStartX();for(var l=0;t.isValidBarcodeColumn(e,r-s);){r-=s;try{for(var c=(a=void 0,Zh(e.getDetectionResultColumn(r).getCodewords())),f=c.next();!f.done;f=c.next()){var h=f.value;if(h!=null)return(i?h.getEndX():h.getStartX())+s*l*(h.getEndX()-h.getStartX())}}catch(v){a={error:v}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}l++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,a,o,s,u){a=t.adjustCodewordStartColumn(e,r,n,i,a,o);var l=t.getModuleBitCount(e,r,n,i,a,o);if(l==null)return null;var c,f=kt.sum(l);if(i)c=a+f;else{for(var h=0;h<l.length/2;h++){var v=l[h];l[h]=l[l.length-1-h],l[l.length-1-h]=v}c=a,a=c-f}if(!t.checkCodewordSkew(f,s,u))return null;var g=DTe.getDecodedValue(l),m=Dt.getCodeword(g);return m===-1?null:new RTe(a,c,t.getCodewordBucketNumber(g),m)},t.getModuleBitCount=function(e,r,n,i,a,o){for(var s=a,u=new Int32Array(8),l=0,c=i?1:-1,f=i;(i?s<n:s>=r)&&l<u.length;)e.get(s,o)===f?(u[l]++,s+=c):(l++,f=!f);return l===u.length||s===(i?n:r)&&l===u.length-1?u:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,a,o){for(var s=a,u=i?-1:1,l=0;l<2;l++){for(;(i?s>=r:s<n)&&i===e.get(s,o);){if(Math.abs(a-s)>t.CODEWORD_SKEW_SIZE)return a;s+=u}u=-u,i=!i}return s},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw ke.getFormatInstance();var i=1<<r+1,a=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var o=VTe.decode(e,""+r);return o.setErrorsCorrected(a),o.setErasures(n.length),o},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw Wr.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw ke.getFormatInstance();var n=e[0];if(n>e.length)throw ke.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw ke.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new NR,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var a=e[n][i];a.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new ETe,t}(),zTe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Y1=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw ge.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof ke||n instanceof Wr?ge.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,a,o=new Array,s=mTe.detectMultiple(e,r,n);try{for(var u=zTe(s.getPoints()),l=u.next();!l.done;l=u.next()){var c=l.value,f=qTe.decode(s.getBits(),c[4],c[5],c[6],c[7],t.getMinCodewordWidth(c),t.getMaxCodewordWidth(c)),h=new Jn(f.getText(),f.getRawBytes(),void 0,c,Ye.PDF_417);h.putMetadata(Dn.ERROR_CORRECTION_LEVEL,f.getECLevel());var v=f.getOther();v!=null&&h.putMetadata(Dn.PDF417_EXTRA_METADATA,v),o.push(h)}}catch(g){i={error:g}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return o.map(function(g){return g})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?Et.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*Dt.MODULES_IN_CODEWORD/Dt.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*Dt.MODULES_IN_CODEWORD/Dt.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*Dt.MODULES_IN_CODEWORD/Dt.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*Dt.MODULES_IN_CODEWORD/Dt.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),WTe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),R7=function(t){WTe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(Di),D7=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},WH=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(lr.TRY_HARDER)!==void 0,n=e==null?null:e.get(lr.POSSIBLE_FORMATS),i=new Array;if(n!=null){var a=n.some(function(o){return o===Ye.UPC_A||o===Ye.UPC_E||o===Ye.EAN_13||o===Ye.EAN_8||o===Ye.CODABAR||o===Ye.CODE_39||o===Ye.CODE_93||o===Ye.CODE_128||o===Ye.ITF||o===Ye.RSS_14||o===Ye.RSS_EXPANDED});a&&!r&&i.push(new Ef(e)),n.includes(Ye.QR_CODE)&&i.push(new X1),n.includes(Ye.DATA_MATRIX)&&i.push(new K1),n.includes(Ye.AZTEC)&&i.push(new H1),n.includes(Ye.PDF_417)&&i.push(new Y1),a&&r&&i.push(new Ef(e))}i.length===0&&(r||i.push(new Ef(e)),i.push(new X1),i.push(new K1),i.push(new H1),i.push(new Y1),r&&i.push(new Ef(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=D7(this.readers),i=n.next();!i.done;i=n.next()){var a=i.value;a.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new R7("No readers where selected, nothing can be read.");try{for(var i=D7(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(s){if(s instanceof R7)continue}}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new ge("No MultiFormat Readers were able to detect the code.")},t}(),HTe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){HTe(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,a=new WH;return a.setHints(r),i=t.call(this,a,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e})(Vd);var GTe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){GTe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Y1,r)||this}return e})(Vd);var KTe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){KTe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new X1,r)||this}return e})(Vd);var $C;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})($C||($C={}));const Km=$C;var HH=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new _u(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,a=r.length;a<=e;a++){var o=n.multiply(new _u(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));r.push(o),n=o}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new Qe("No error correction bytes");var n=e.length-r;if(n<=0)throw new Qe("No data bytes provided");var i=this.buildGenerator(r),a=new Int32Array(n);ur.arraycopy(e,0,a,0,n);var o=new _u(this.field,a);o=o.multiplyByMonomial(r,1);for(var s=o.divide(i)[1],u=s.getCoefficients(),l=r-u.length,c=0;c<l;c++)e[n+c]=0;ur.arraycopy(u,0,e,n+l,u.length)},t}(),hp=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a-1;o++)for(var s=n[o],u=0;u<i-1;u++){var l=s[u];l===s[u+1]&&l===n[o+1][u]&&l===n[o+1][u+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=0;s<i;s++){var u=n[o];s+6<i&&u[s]===1&&u[s+1]===0&&u[s+2]===1&&u[s+3]===1&&u[s+4]===1&&u[s+5]===0&&u[s+6]===1&&(t.isWhiteHorizontal(u,s-4,s)||t.isWhiteHorizontal(u,s+7,s+11))&&r++,o+6<a&&n[o][s]===1&&n[o+1][s]===0&&n[o+2][s]===1&&n[o+3][s]===1&&n[o+4][s]===1&&n[o+5][s]===0&&n[o+6][s]===1&&(t.isWhiteVertical(n,s,o-4,o)||t.isWhiteVertical(n,s,o+7,o+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var a=n;a<i;a++)if(e[a][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=n[o],u=0;u<i;u++)s[u]===1&&r++;var l=e.getHeight()*e.getWidth(),c=Math.floor(Math.abs(r*2-l)*10/l);return c*t.N4},t.getDataMaskBit=function(e,r,n){var i,a;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:a=n*r,i=(a&1)+a%3;break;case 6:a=n*r,i=(a&1)+a%3&1;break;case 7:a=n*r,i=a%3+(n+r&1)&1;break;default:throw new Qe("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),a=r?e.getWidth():e.getHeight(),o=e.getArray(),s=0;s<i;s++){for(var u=0,l=-1,c=0;c<a;c++){var f=r?o[s][c]:o[c][s];f===l?u++:(u>=5&&(n+=t.N1+(u-5)),u=1,l=f)}u>=5&&(n+=t.N1+(u-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),XTe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},YTe=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=XTe(this.bytes),a=i.next();!a.done;a=i.next()){var o=a.value;nn.fill(o,e)}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var a=this.bytes[n],o=r.bytes[n],s=0,u=this.width;s<u;++s)if(a[s]!==o[s])return!1;return!0},t.prototype.toString=function(){for(var e=new wt,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],a=0,o=this.width;a<o;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),UC=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new wt;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),QTe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dr=function(t){QTe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(Di),N7=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,a){t.clearMatrix(a),t.embedBasicPatterns(n,a),t.embedTypeInfo(r,i,a),t.maybeEmbedVersionInfo(n,a),t.embedDataBits(e,i,a)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new wn;t.makeTypeInfoBits(e,r,i);for(var a=0,o=i.getSize();a<o;++a){var s=i.get(i.getSize()-1-a),u=t.TYPE_INFO_COORDINATES[a],l=u[0],c=u[1];if(n.setBoolean(l,c,s),a<8){var f=n.getWidth()-a-1,h=8;n.setBoolean(f,h,s)}else{var f=8,h=n.getHeight()-7+(a-8);n.setBoolean(f,h,s)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new wn;t.makeVersionInfoBits(e,n);for(var i=17,a=0;a<6;++a)for(var o=0;o<3;++o){var s=n.get(i);i--,r.setBoolean(a,r.getHeight()-11+o,s),r.setBoolean(r.getHeight()-11+o,a,s)}}},t.embedDataBits=function(e,r,n){for(var i=0,a=-1,o=n.getWidth()-1,s=n.getHeight()-1;o>0;){for(o===6&&(o-=1);s>=0&&s<n.getHeight();){for(var u=0;u<2;++u){var l=o-u;if(t.isEmpty(n.get(l,s))){var c=void 0;i<e.getSize()?(c=e.get(i),++i):c=!1,r!==255&&hp.getDataMaskBit(r,l,s)&&(c=!c),n.setBoolean(l,s,c)}}s+=a}a=-a,s+=a,o-=2}if(i!==e.getSize())throw new dr("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-Et.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new Qe("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!UC.isValidMaskPattern(r))throw new dr("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var a=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(a,10);var o=new wn;if(o.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(o),n.getSize()!==15)throw new dr("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new dr("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new dr;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new dr;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new dr;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var a=t.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var a=t.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],a=0,o=i.length;a!==o;a++){var s=i[a];if(s>=0)for(var u=0;u!==o;u++){var l=i[u];l>=0&&t.isEmpty(r.get(l,s))&&t.embedPositionAdjustmentPattern(l-2,s-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),ZTe=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),k7=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return hp.applyMaskPenaltyRule1(e)+hp.applyMaskPenaltyRule2(e)+hp.applyMaskPenaltyRule3(e)+hp.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,a=n!==null&&n.get(Km.CHARACTER_SET)!==void 0;a&&(i=n.get(Km.CHARACTER_SET).toString());var o=this.chooseMode(e,i),s=new wn;if(o===hr.BYTE&&(a||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var u=tn.getCharacterSetECIByName(i);u!==void 0&&this.appendECI(u,s)}this.appendModeInfo(o,s);var l=new wn;this.appendBytes(e,o,l,i);var c;if(n!==null&&n.get(Km.QR_VERSION)!==void 0){var f=Number.parseInt(n.get(Km.QR_VERSION).toString(),10);c=jl.getVersionForNumber(f);var h=this.calculateBitsNeeded(o,s,l,c);if(!this.willFit(h,c,r))throw new dr("Data too big for requested version")}else c=this.recommendVersion(r,o,s,l);var v=new wn;v.appendBitArray(s);var g=o===hr.BYTE?l.getSizeInBytes():e.length;this.appendLengthInfo(g,c,o,v),v.appendBitArray(l);var m=c.getECBlocksForLevel(r),_=c.getTotalCodewords()-m.getTotalECCodewords();this.terminateBits(_,v);var b=this.interleaveWithECBytes(v,c.getTotalCodewords(),_,m.getNumBlocks()),E=new UC;E.setECLevel(r),E.setMode(o),E.setVersion(c);var A=c.getDimensionForVersion(),C=new YTe(A,A),O=this.chooseMaskPattern(b,r,c,C);return E.setMaskPattern(O),N7.buildMatrix(b,r,c,O,C),E.setMatrix(C),E},t.recommendVersion=function(e,r,n,i){var a=this.calculateBitsNeeded(r,n,i,jl.getVersionForNumber(1)),o=this.chooseVersion(a,e),s=this.calculateBitsNeeded(r,n,i,o);return this.chooseVersion(s,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),tn.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return hr.KANJI;for(var n=!1,i=!1,a=0,o=e.length;a<o;++a){var s=e.charAt(a);if(t.isDigit(s))n=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)i=!0;else return hr.BYTE}return i?hr.ALPHANUMERIC:n?hr.NUMERIC:hr.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=wa.encode(e,tn.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var a=r[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var a=Number.MAX_SAFE_INTEGER,o=-1,s=0;s<UC.NUM_MASK_PATTERNS;s++){N7.buildMatrix(e,r,n,s,i);var u=this.calculateMaskPenalty(i);u<a&&(a=u,o=s)}return o},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=jl.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new dr("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),a=r.getECBlocksForLevel(n),o=a.getTotalECCodewords(),s=i-o,u=(e+7)/8;return s>=u},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new dr("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var a=r.getSize()&7;if(a>0)for(var i=a;i<8;i++)r.appendBit(!1);for(var o=e-r.getSizeInBytes(),i=0;i<o;++i)r.appendBits((i&1)===0?236:17,8);if(r.getSize()!==n)throw new dr("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,a,o){if(i>=n)throw new dr("Block ID too large");var s=e%n,u=n-s,l=Math.floor(e/n),c=l+1,f=Math.floor(r/n),h=f+1,v=l-f,g=c-h;if(v!==g)throw new dr("EC bytes mismatch");if(n!==u+s)throw new dr("RS blocks mismatch");if(e!==(f+v)*u+(h+g)*s)throw new dr("Total bytes mismatch");i<u?(a[0]=f,o[0]=v):(a[0]=h,o[0]=g)},t.interleaveWithECBytes=function(e,r,n,i){var a,o,s,u;if(e.getSizeInBytes()!==n)throw new dr("Number of bits and data bytes does not match");for(var l=0,c=0,f=0,h=new Array,v=0;v<i;++v){var g=new Int32Array(1),m=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,v,g,m);var _=g[0],b=new Uint8Array(_);e.toBytes(8*l,b,0,_);var E=t.generateECBytes(b,m[0]);h.push(new ZTe(b,E)),c=Math.max(c,_),f=Math.max(f,E.length),l+=g[0]}if(n!==l)throw new dr("Data bytes does not match offset");for(var A=new wn,v=0;v<c;++v)try{for(var C=(a=void 0,k7(h)),O=C.next();!O.done;O=C.next()){var R=O.value,b=R.getDataBytes();v<b.length&&A.appendBits(b[v],8)}}catch(D){a={error:D}}finally{try{O&&!O.done&&(o=C.return)&&o.call(C)}finally{if(a)throw a.error}}for(var v=0;v<f;++v)try{for(var I=(s=void 0,k7(h)),S=I.next();!S.done;S=I.next()){var R=S.value,E=R.getErrorCorrectionBytes();v<E.length&&A.appendBits(E[v],8)}}catch(D){s={error:D}}finally{try{S&&!S.done&&(u=I.return)&&u.call(I)}finally{if(s)throw s.error}}if(r!==A.getSizeInBytes())throw new dr("Interleaving error: "+r+" and "+A.getSizeInBytes()+" differ.");return A},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),a=0;a<n;a++)i[a]=e[a]&255;new HH(Si.QR_CODE_FIELD_256).encode(i,r);for(var o=new Uint8Array(r),a=0;a<r;a++)o[a]=i[n+a];return o},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var a=n.getCharacterCountBits(r);if(e>=1<<a)throw new dr(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},t.appendBytes=function(e,r,n,i){switch(r){case hr.NUMERIC:t.appendNumericBytes(e,n);break;case hr.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case hr.BYTE:t.append8BitBytes(e,n,i);break;case hr.KANJI:t.appendKanjiBytes(e,n);break;default:throw new dr("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getDigit(e.charAt(i));if(i+2<n){var o=t.getDigit(e.charAt(i+1)),s=t.getDigit(e.charAt(i+2));r.appendBits(a*100+o*10+s,10),i+=3}else if(i+1<n){var o=t.getDigit(e.charAt(i+1));r.appendBits(a*10+o,7),i+=2}else r.appendBits(a,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new dr;if(i+1<n){var o=t.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new dr;r.appendBits(a*45+o,11),i+=2}else r.appendBits(a,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=wa.encode(e,n)}catch(u){throw new dr(u)}for(var a=0,o=i.length;a!==o;a++){var s=i[a];r.appendBits(s,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=wa.encode(e,tn.SJIS)}catch(f){throw new dr(f)}for(var i=n.length,a=0;a<i;a+=2){var o=n[a]&255,s=n[a+1]&255,u=o<<8&4294967295|s,l=-1;if(u>=33088&&u<=40956?l=u-33088:u>=57408&&u<=60351&&(l=u-49472),l===-1)throw new dr("Invalid byte sequence");var c=(l>>8)*192+(l&255);r.appendBits(c,13)}},t.appendECI=function(e,r){r.appendBits(hr.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=tn.UTF8.getName(),t})();var JTe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){JTe(e,t);function e(r,n,i,a,o,s,u,l){var c=t.call(this,s,u)||this;if(c.yuvData=r,c.dataWidth=n,c.dataHeight=i,c.left=a,c.top=o,a+s>n||o+u>i)throw new Qe("Crop rectangle does not fit within image data.");return l&&c.reverseHorizontal(s,u),c}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Qe("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return ur.arraycopy(this.yuvData,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return ur.arraycopy(this.yuvData,o,a,0,i),a;for(var s=0;s<n;s++){var u=s*r;ur.arraycopy(this.yuvData,o,a,u,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,a,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),a=this.yuvData,o=this.top*this.dataWidth+this.left,s=0;s<n;s++){for(var u=s*r,l=0;l<r;l++){var c=a[o+l*e.THUMBNAIL_SCALE_FACTOR]&255;i[u+l]=4278190080|c*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,a=0,o=this.top*this.dataWidth+this.left;a<n;a++,o+=this.dataWidth)for(var s=o+r/2,u=o,l=o+r-1;u<s;u++,l--){var c=i[u];i[u]=i[l],i[l]=c}},e.prototype.invert=function(){return new Aw(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(b0);var eCe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){eCe(e,t);function e(r,n,i,a,o,s,u){var l=t.call(this,n,i)||this;if(l.dataWidth=a,l.dataHeight=o,l.left=s,l.top=u,r.BYTES_PER_ELEMENT===4){for(var c=n*i,f=new Uint8ClampedArray(c),h=0;h<c;h++){var v=r[h],g=v>>16&255,m=v>>7&510,_=v&255;f[h]=(g+m+_)/4&255}l.luminances=f}else l.luminances=r;if(a===void 0&&(l.dataWidth=n),o===void 0&&(l.dataHeight=i),s===void 0&&(l.left=0),u===void 0&&(l.top=0),l.left+n>l.dataWidth||l.top+i>l.dataHeight)throw new Qe("Crop rectangle does not fit within image data.");return l}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Qe("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return ur.arraycopy(this.luminances,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return ur.arraycopy(this.luminances,o,a,0,i),a;for(var s=0;s<n;s++){var u=s*r;ur.arraycopy(this.luminances,o,a,u,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new Aw(this)},e})(b0);var tCe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rCe=function(t){tCe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e}(tn),nCe=function(){function t(){}return t.ISO_8859_1=tn.ISO8859_1,t}(),VC,iCe=301,aCe=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=iCe);return{LOG:t,ALOG:e}};VC=aCe([],[]),VC.LOG;VC.ALOG;var M7;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(M7||(M7={}));var L7=129,GH=230,oCe=231,sCe=235,uCe=236,lCe=237,cCe=238,fCe=239,dCe=240,yO=254,hCe=254,j7="[)>05",F7="[)>06",B7="",Ht=0,Cn=1,ui=2,Jr=3,gn=4,qn=5,pCe=function(){function t(){}return t.prototype.getEncodingMode=function(){return Ht},t.prototype.encode=function(e){var r=Za.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=Za.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case qn:e.writeCodeword(oCe),e.signalEncoderChange(qn);return;case Cn:e.writeCodeword(GH),e.signalEncoderChange(Cn);return;case Jr:e.writeCodeword(cCe),e.signalEncoderChange(Jr);break;case ui:e.writeCodeword(fCe),e.signalEncoderChange(ui);break;case gn:e.writeCodeword(dCe),e.signalEncoderChange(gn);break;default:throw new Error("Illegal mode: "+i)}else Za.isExtendedASCII(n)?(e.writeCodeword(sCe),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(Za.isDigit(e)&&Za.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t}(),vCe=function(){function t(){}return t.prototype.getEncodingMode=function(){return qn},t.prototype.encode=function(e){var r=new wt;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var i=Za.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(Ht);break}}var a=r.length()-1,o=1,s=e.getCodewordCount()+a+o;e.updateSymbolInfo(s);var u=e.getSymbolInfo().getDataCapacity()-s>0;if(e.hasMoreCharacters()||u)if(a<=249)r.setCharAt(0,Pt.getCharAt(a));else if(a<=1555)r.setCharAt(0,Pt.getCharAt(Math.floor(a/250)+249)),r.insert(1,Pt.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var l=0,n=r.length();l<n;l++)e.writeCodeword(this.randomize255State(r.charAt(l).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,i=e+n;return i<=255?i:i-256},t}(),kR=function(){function t(){}return t.prototype.getEncodingMode=function(){return Cn},t.prototype.encodeMaximal=function(e){for(var r=new wt,n=0,i=e.pos,a=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,n=this.encodeChar(o,r),r.length()%3===0&&(i=e.pos,a=r.length())}if(a!==r.length()){var s=Math.floor(r.length()/3*2),u=Math.floor(e.getCodewordCount()+s+1);e.updateSymbolInfo(u);var l=e.getSymbolInfo().getDataCapacity()-u,c=Math.floor(r.length()%3);(c===2&&l!==2||c===1&&(n>3||l!==1))&&(e.pos=i)}r.length()>0&&e.writeCodeword(GH),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new wt;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,r),a=Math.floor(r.length()/3)*2,o=e.getCodewordCount()+a;e.updateSymbolInfo(o);var s=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var u=new wt;for(r.length()%3===2&&s!==2&&(i=this.backtrackOneCharacter(e,r,u,i));r.length()%3===1&&(i>3||s!==1);)i=this.backtrackOneCharacter(e,r,u,i);break}var l=r.length();if(l%3===0){var c=Za.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(c!==this.getEncodingMode()){e.signalEncoderChange(Ht);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,i){var a=r.length(),o=r.toString().substring(0,a-i);r.setLengthToZero(),r.append(o),e.pos--;var s=e.getCurrentChar();return i=this.encodeChar(s,n),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),i=r.length()%3,a=e.getCodewordCount()+n;e.updateSymbolInfo(a);var o=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(yO)}else if(o===1&&i===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(yO),e.pos--}else if(i===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(o>0||e.hasMoreCharacters())&&e.writeCodeword(yO)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Ht)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,i=r%256,a=new wt;return a.append(n),a.append(i),a.toString()},t}(),gCe=function(){function t(){}return t.prototype.getEncodingMode=function(){return gn},t.prototype.encode=function(e){for(var r=new wt;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var i=r.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var a=r.toString().substring(4);r.setLengthToZero(),r.append(a);var o=Za.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(Ht);break}}}r.append(Pt.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var o=n-1,s=this.encodeToCodewords(r.toString()),u=!e.hasMoreCharacters(),l=u&&o<=2;if(o<=2){e.updateSymbolInfo(e.getCodewordCount()+o);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(l=!1,e.updateSymbolInfo(e.getCodewordCount()+s.length))}l?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(s)}finally{e.signalEncoderChange(Ht)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(Pt.getCharAt(e-64)):Za.illegalCharacter(Pt.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=r>=2?e.charAt(1).charCodeAt(0):0,a=r>=3?e.charAt(2).charCodeAt(0):0,o=r>=4?e.charAt(3).charCodeAt(0):0,s=(n<<18)+(i<<12)+(a<<6)+o,u=s>>16&255,l=s>>8&255,c=s&255,f=new wt;return f.append(u),r>=2&&f.append(l),r>=3&&f.append(c),f.toString()},t}(),mCe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),yCe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Bt=function(){function t(e,r,n,i,a,o,s,u){s===void 0&&(s=0),u===void 0&&(u=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=o,this.rsBlockData=s,this.rsBlockError=u}return t.lookup=function(e,r,n,i,a){var o,s;r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var u=yCe(wCe),l=u.next();!l.done;l=u.next()){var c=l.value;if(!(r===1&&c.rectangular)&&!(r===2&&!c.rectangular)&&!(n!=null&&(c.getSymbolWidth()<n.getWidth()||c.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(c.getSymbolWidth()>i.getWidth()||c.getSymbolHeight()>i.getHeight()))&&e<=c.dataCapacity)return c}}catch(f){o={error:f}}finally{try{l&&!l.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}(),_Ce=function(t){mCe(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e}(Bt),wCe=[new Bt(!1,3,5,8,8,1),new Bt(!1,5,7,10,10,1),new Bt(!0,5,7,16,6,1),new Bt(!1,8,10,12,12,1),new Bt(!0,10,11,14,6,2),new Bt(!1,12,12,14,14,1),new Bt(!0,16,14,24,10,1),new Bt(!1,18,14,16,16,1),new Bt(!1,22,18,18,18,1),new Bt(!0,22,18,16,10,2),new Bt(!1,30,20,20,20,1),new Bt(!0,32,24,16,14,2),new Bt(!1,36,24,22,22,1),new Bt(!1,44,28,24,24,1),new Bt(!0,49,28,22,14,2),new Bt(!1,62,36,14,14,4),new Bt(!1,86,42,16,16,4),new Bt(!1,114,48,18,18,4),new Bt(!1,144,56,20,20,4),new Bt(!1,174,68,22,22,4),new Bt(!1,204,84,24,24,4,102,42),new Bt(!1,280,112,14,14,16,140,56),new Bt(!1,368,144,16,16,16,92,36),new Bt(!1,456,192,18,18,16,114,48),new Bt(!1,576,224,20,20,16,144,56),new Bt(!1,696,272,22,22,16,174,68),new Bt(!1,816,336,24,24,16,136,56),new Bt(!1,1050,408,18,18,36,175,68),new Bt(!1,1304,496,20,20,36,163,62),new _Ce],xCe=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(s){return s.charCodeAt(0)}),n=new wt,i=0,a=r.length;i<a;i++){var o=String.fromCharCode(r[i]&255);if(o==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(o)}this.msg=n.toString(),this.shape=0,this.codewords=new wt,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Bt.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),bCe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ECe=function(t){bCe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Jr},e.prototype.encode=function(r){for(var n=new wt;r.hasMoreCharacters();){var i=r.getCurrentChar();r.pos++,this.encodeChar(i,n);var a=n.length();if(a%3===0){this.writeNextTriplet(r,n);var o=Za.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){r.signalEncoderChange(Ht);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):Za.illegalCharacter(Pt.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var i=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),a=n.length();r.pos-=a,(r.getRemainingCharacters()>1||i>1||r.getRemainingCharacters()!==i)&&r.writeCodeword(hCe),r.getNewEncoding()<0&&r.signalEncoderChange(Ht)},e}(kR),ACe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),SCe=function(t){ACe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return ui},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(r-128,n),i},e}(kR),Za=function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=L7+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,i,a){r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!1);var o=new kR,s=[new pCe,o,new SCe,new ECe,new gCe,new vCe],u=new xCe(e);u.setSymbolShape(r),u.setSizeConstraints(n,i),e.startsWith(j7)&&e.endsWith(B7)?(u.writeCodeword(uCe),u.setSkipAtEnd(2),u.pos+=j7.length):e.startsWith(F7)&&e.endsWith(B7)&&(u.writeCodeword(lCe),u.setSkipAtEnd(2),u.pos+=F7.length);var l=Ht;for(a&&(o.encodeMaximal(u),l=u.getNewEncoding(),u.resetEncoderSignal());u.hasMoreCharacters();)s[l].encode(u),u.getNewEncoding()>=0&&(l=u.getNewEncoding(),u.resetEncoderSignal());var c=u.getCodewordCount();u.updateSymbolInfo();var f=u.getSymbolInfo().getDataCapacity();c<f&&l!==Ht&&l!==qn&&l!==gn&&u.writeCodeword("");var h=u.getCodewords();for(h.length()<f&&h.append(L7);h.length()<f;)h.append(this.randomize253State(h.length()+1));return u.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var i=this.lookAheadTestIntern(e,r,n);if(n===Jr&&i===Jr){for(var a=Math.min(r+3,e.length),o=r;o<a;o++)if(!this.isNativeX12(e.charCodeAt(o)))return Ht}else if(n===gn&&i===gn){for(var a=Math.min(r+4,e.length),o=r;o<a;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return Ht}return i},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var i;n===Ht?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var a=0,o=new Uint8Array(6),s=[];;){if(r+a===e.length){nn.fill(o,0),nn.fill(s,0);var u=this.findMinimums(i,s,Et.MAX_VALUE,o),l=this.getMinimumCount(o);if(s[Ht]===u)return Ht;if(l===1){if(o[qn]>0)return qn;if(o[gn]>0)return gn;if(o[ui]>0)return ui;if(o[Jr]>0)return Jr}return Cn}var c=e.charCodeAt(r+a);if(a++,this.isDigit(c)?i[Ht]+=.5:this.isExtendedASCII(c)?(i[Ht]=Math.ceil(i[Ht]),i[Ht]+=2):(i[Ht]=Math.ceil(i[Ht]),i[Ht]++),this.isNativeC40(c)?i[Cn]+=2/3:this.isExtendedASCII(c)?i[Cn]+=8/3:i[Cn]+=4/3,this.isNativeText(c)?i[ui]+=2/3:this.isExtendedASCII(c)?i[ui]+=8/3:i[ui]+=4/3,this.isNativeX12(c)?i[Jr]+=2/3:this.isExtendedASCII(c)?i[Jr]+=13/3:i[Jr]+=10/3,this.isNativeEDIFACT(c)?i[gn]+=3/4:this.isExtendedASCII(c)?i[gn]+=17/4:i[gn]+=13/4,this.isSpecialB256(c)?i[qn]+=4:i[qn]++,a>=4){if(nn.fill(o,0),nn.fill(s,0),this.findMinimums(i,s,Et.MAX_VALUE,o),s[Ht]<this.min(s[qn],s[Cn],s[ui],s[Jr],s[gn]))return Ht;if(s[qn]<s[Ht]||s[qn]+1<this.min(s[Cn],s[ui],s[Jr],s[gn]))return qn;if(s[gn]+1<this.min(s[qn],s[Cn],s[ui],s[Jr],s[Ht]))return gn;if(s[ui]+1<this.min(s[qn],s[Cn],s[gn],s[Jr],s[Ht]))return ui;if(s[Jr]+1<this.min(s[qn],s[Cn],s[gn],s[ui],s[Ht]))return Jr;if(s[Cn]+1<this.min(s[Ht],s[qn],s[gn],s[ui])){if(s[Cn]<s[Jr])return Cn;if(s[Cn]===s[Jr]){for(var f=r+a+1;f<e.length;){var h=e.charCodeAt(f);if(this.isX12TermSep(h))return Jr;if(!this.isNativeX12(h))break;f++}return Cn}}}}},t.min=function(e,r,n,i,a){var o=Math.min(e,Math.min(r,Math.min(n,i)));return a===void 0?o:Math.min(o,a)},t.findMinimums=function(e,r,n,i){for(var a=0;a<6;a++){var o=r[a]=Math.ceil(e[a]);n>o&&(n=o,nn.fill(i,0)),n===o&&(i[a]=i[a]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,i=r;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-r},t.illegalCharacter=function(e){var r=Et.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t}(),_O=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$7=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return wa.encode(e,this.charset)!=null}catch{return!1}},t}(),OCe=function(){function t(e,r,n){var i,a,o,s,u,l;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(T){return new $7(rCe.forName(T))}),this.encoders=[];var c=[];c.push(new $7(nCe.ISO_8859_1));for(var f=r!=null&&r.name.startsWith("UTF"),h=0;h<e.length;h++){var v=!1;try{for(var g=(i=void 0,_O(c)),m=g.next();!m.done;m=g.next()){var _=m.value,b=e.charAt(h),E=b.charCodeAt(0);if(E===n||_.canEncode(b)){v=!0;break}}}catch(T){i={error:T}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}if(!v)try{for(var A=(o=void 0,_O(this.ENCODERS)),C=A.next();!C.done;C=A.next()){var _=C.value;if(_.canEncode(e.charAt(h))){c.push(_),v=!0;break}}}catch(T){o={error:T}}finally{try{C&&!C.done&&(s=A.return)&&s.call(A)}finally{if(o)throw o.error}}v||(f=!0)}if(c.length===1&&!f)this.encoders=[c[0]];else{this.encoders=[];var O=0;try{for(var R=_O(c),I=R.next();!I.done;I=R.next()){var _=I.value;this.encoders[O++]=_}}catch(T){u={error:T}}finally{try{I&&!I.done&&(l=R.return)&&l.call(R)}finally{if(u)throw u.error}}}var S=-1;if(r!=null){for(var h=0;h<this.encoders.length;h++)if(this.encoders[h]!=null&&r.name===this.encoders[h].name){S=h;break}}this.priorityEncoderIndex=S}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return wa.encode(Pt.getCharAt(e),this.encoders[r].name)},t}(),TCe=3,CCe=function(){function t(e,r,n){this.fnc1=n;var i=new OCe(e,r,n);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var o=e.charAt(a).charCodeAt(0);this.bytes[a]=o===n?1e3:o}else this.bytes=this.encodeMinimally(e,i,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new wt,i=e;i<r;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,i,a,o){var s=e.charAt(i).charCodeAt(0),u=0,l=r.length();r.getPriorityEncoderIndex()>=0&&(s===o||r.canEncode(s,r.getPriorityEncoderIndex()))&&(u=r.getPriorityEncoderIndex(),l=u+1);for(var c=u;c<l;c++)(s===o||r.canEncode(s,c))&&this.addEdge(n,i+1,new U7(s,r,c,a,o))},t.prototype.encodeMinimally=function(e,r,n){var i=e.length,a=new U7[i+1][r.length()];this.addEdges(e,r,a,0,null,n);for(var o=1;o<=i;o++){for(var s=0;s<r.length();s++)a[o][s]!=null&&o<i&&this.addEdges(e,r,a,o,a[o][s],n);for(var s=0;s<r.length();s++)a[o-1][s]=null}for(var u=-1,l=Et.MAX_VALUE,s=0;s<r.length();s++)if(a[i][s]!=null){var c=a[i][s];c.cachedTotalSize<l&&(l=c.cachedTotalSize,u=s)}if(u<0)throw new Error('Failed to encode "'+e+'"');for(var f=[],h=a[i][u];h!=null;){if(h.isFNC1())f.unshift(1e3);else for(var v=r.encode(h.c,h.encoderIndex),o=v.length-1;o>=0;o--)f.unshift(v[o]&255);var g=h.previous===null?0:h.previous.encoderIndex;g!==h.encoderIndex&&f.unshift(256+r.getECIValue(h.encoderIndex)),h=h.previous}for(var m=[],o=0;o<m.length;o++)m[o]=f[o];return m},t}(),U7=function(){function t(e,r,n,i,a){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var o=this.isFNC1()?1:r.encode(e,n).length,s=i===null?0:i.encoderIndex;s!==n&&(o+=TCe),i!=null&&(o+=i.cachedTotalSize),this.cachedTotalSize=o}return t.prototype.isFNC1=function(){return this.c===1e3},t}(),ICe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var V7;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(V7||(V7={}));(function(t){ICe(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n,i)||this;return s.shape=a,s.macroId=o,s}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(CCe);var PCe=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),q7=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),RCe=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),DCe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),MR=function(t){DCe(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.value=n,a.bitCount=i,a}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+Et.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(RCe),NCe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kCe=function(t){NCe(e,t);function e(r,n,i){var a=t.call(this,r,0,0)||this;return a.binaryShiftStart=n,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(MR);function MCe(t,e,r){return new kCe(t,e,r)}function Jh(t,e,r){return new MR(t,e,r)}var LCe=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],wu=0,Q1=1,ya=2,KH=3,Eo=4,jCe=new MR(null,0,0),wO=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],FCe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function BCe(t){var e,r;try{for(var n=FCe(t),i=n.next();!i.done;i=n.next()){var a=i.value;nn.fill(a,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[wu][Eo]=0,t[Q1][Eo]=0,t[Q1][wu]=28,t[KH][Eo]=0,t[ya][Eo]=0,t[ya][wu]=15,t}var XH=BCe(nn.createInt32Array(6,6)),$Ce=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},UCe=function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var a=wO[this.mode][e];i=Jh(i,a&65535,a>>16),n+=a>>16}var o=e===ya?4:5;return i=Jh(i,r,o),new t(i,e,0,n+o)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===ya?4:5;return n=Jh(n,XH[this.mode][e],i),n=Jh(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===Eo||this.mode===ya){var a=wO[n][wu];r=Jh(r,a&65535,a>>16),i+=a>>16,n=wu}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new t(r,n,this.binaryShiftByteCount+1,i+o);return s.binaryShiftByteCount===2078&&(s=s.endBinaryShift(e+1)),s},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=MCe(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(wO[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var o=new wn;try{for(var s=$Ce(i),u=s.next();!u.done;u=s.next()){var l=u.value;l.appendTo(o,e)}}catch(c){r={error:c}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},t.prototype.toString=function(){return Pt.format("%s bits=%d bytes=%d",LCe[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(jCe,wu,0,0),t}();function VCe(t){var e=Pt.getCharCode(" "),r=Pt.getCharCode("."),n=Pt.getCharCode(",");t[wu][e]=1;for(var i=Pt.getCharCode("Z"),a=Pt.getCharCode("A"),o=a;o<=i;o++)t[wu][o]=o-a+2;t[Q1][e]=1;for(var s=Pt.getCharCode("z"),u=Pt.getCharCode("a"),o=u;o<=s;o++)t[Q1][o]=o-u+2;t[ya][e]=1;for(var l=Pt.getCharCode("9"),c=Pt.getCharCode("0"),o=c;o<=l;o++)t[ya][o]=o-c+2;t[ya][n]=12,t[ya][r]=13;for(var f=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],h=0;h<f.length;h++)t[KH][Pt.getCharCode(f[h])]=h;for(var v=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],h=0;h<v.length;h++)Pt.getCharCode(v[h])>0&&(t[Eo][Pt.getCharCode(v[h])]=h);return t}var xO=VCe(nn.createInt32Array(5,256)),Xm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qCe=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=Pt.getCharCode(" "),r=Pt.getCharCode(`
`),n=q7.singletonList(UCe.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case Pt.getCharCode("\r"):a=o===r?2:0;break;case Pt.getCharCode("."):a=o===e?3:0;break;case Pt.getCharCode(","):a=o===e?4:0;break;case Pt.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(n=t.updateStateListForPair(n,i,a),i++):n=this.updateStateListForChar(n,i)}var s=q7.min(n,function(u,l){return u.getBitCount()-l.getBitCount()});return s.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,a=[];try{for(var o=Xm(e),s=o.next();!s.done;s=o.next()){var u=s.value;this.updateStateForChar(u,r,a)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return t.simplifyStates(a)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,a=xO[e.getMode()][i]>0,o=null,s=0;s<=Eo;s++){var u=xO[s][i];if(u>0){if(o==null&&(o=e.endBinaryShift(r)),!a||s===e.getMode()||s===ya){var l=o.latchAndAppend(s,u);n.push(l)}if(!a&&XH[e.getMode()][s]>=0){var c=o.shiftAndAppend(s,u);n.push(c)}}}if(e.getBinaryShiftByteCount()>0||xO[e.getMode()][i]===0){var f=e.addBinaryShiftChar(r);n.push(f)}},t.updateStateListForPair=function(e,r,n){var i,a,o=[];try{for(var s=Xm(e),u=s.next();!u.done;u=s.next()){var l=u.value;this.updateStateForPair(l,r,n,o)}}catch(c){i={error:c}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return this.simplifyStates(o)},t.updateStateForPair=function(e,r,n,i){var a=e.endBinaryShift(r);if(i.push(a.latchAndAppend(Eo,n)),e.getMode()!==Eo&&i.push(a.shiftAndAppend(Eo,n)),n===3||n===4){var o=a.latchAndAppend(ya,16-n).latchAndAppend(ya,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(s)}},t.simplifyStates=function(e){var r,n,i,a,o=[];try{for(var s=Xm(e),u=s.next();!u.done;u=s.next()){var l=u.value,c=!0,f=function(_){if(_.isBetterThanOrEqualTo(l))return c=!1,"break";l.isBetterThanOrEqualTo(_)&&(o=o.filter(function(b){return b!==_}))};try{for(var h=(i=void 0,Xm(o)),v=h.next();!v.done;v=h.next()){var g=v.value,m=f(g);if(m==="break")break}}catch(_){i={error:_}}finally{try{v&&!v.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}c&&o.push(l)}}catch(_){r={error:_}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},t}(),zCe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new qCe(e).encode(),a=Et.truncDivision(i.getSize()*r,100)+11,o=i.getSize()+a,s,u,l,c,f;if(n!==t.DEFAULT_AZTEC_LAYERS){if(s=n<0,u=Math.abs(n),u>(s?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new Qe(Pt.format("Illegal value %s for layers",n));l=t.totalBitsInLayer(u,s),c=t.WORD_SIZE[u];var h=l-l%c;if(f=t.stuffBits(i,c),f.getSize()+a>h)throw new Qe("Data to large for user specified layer");if(s&&f.getSize()>c*64)throw new Qe("Data to large for user specified layer")}else{c=0,f=null;for(var v=0;;v++){if(v>t.MAX_NB_BITS)throw new Qe("Data too large for an Aztec code");if(s=v<=3,u=s?v+1:v,l=t.totalBitsInLayer(u,s),!(o>l)){(f==null||c!==t.WORD_SIZE[u])&&(c=t.WORD_SIZE[u],f=t.stuffBits(i,c));var h=l-l%c;if(!(s&&f.getSize()>c*64)&&f.getSize()+a<=h)break}}}var g=t.generateCheckWords(f,l,c),m=f.getSize()/c,_=t.generateModeMessage(s,u,m),b=(s?11:14)+u*4,E=new Int32Array(b),A;if(s){A=b;for(var v=0;v<E.length;v++)E[v]=v}else{A=b+1+2*Et.truncDivision(Et.truncDivision(b,2)-1,15);for(var C=Et.truncDivision(b,2),O=Et.truncDivision(A,2),v=0;v<C;v++){var R=v+Et.truncDivision(v,15);E[C-v-1]=O-R-1,E[C+v]=O+R+1}}for(var I=new Fo(A),v=0,S=0;v<u;v++){for(var T=(u-v)*4+(s?9:12),D=0;D<T;D++)for(var L=D*2,F=0;F<2;F++)g.get(S+L+F)&&I.set(E[v*2+F],E[v*2+D]),g.get(S+T*2+L+F)&&I.set(E[v*2+D],E[b-1-v*2-F]),g.get(S+T*4+L+F)&&I.set(E[b-1-v*2-F],E[b-1-v*2-D]),g.get(S+T*6+L+F)&&I.set(E[b-1-v*2-D],E[v*2+F]);S+=T*8}if(t.drawModeMessage(I,s,A,_),s)t.drawBullsEye(I,Et.truncDivision(A,2),5);else{t.drawBullsEye(I,Et.truncDivision(A,2),7);for(var v=0,D=0;v<Et.truncDivision(b,2)-1;v+=15,D+=16)for(var F=Et.truncDivision(A,2)&1;F<A;F+=2)I.set(Et.truncDivision(A,2)-D,F),I.set(Et.truncDivision(A,2)+D,F),I.set(F,Et.truncDivision(A,2)-D),I.set(F,Et.truncDivision(A,2)+D)}var j=new PCe;return j.setCompact(s),j.setSize(A),j.setLayers(u),j.setCodeWords(m),j.setMatrix(I),j},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var a=r-i;a<=r+i;a++)e.set(a,r-i),e.set(a,r+i),e.set(r-i,a),e.set(r+i,a);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new wn;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var a=Et.truncDivision(n,2);if(r)for(var o=0;o<7;o++){var s=a-3+o;i.get(o)&&e.set(s,a-5),i.get(o+7)&&e.set(a+5,s),i.get(20-o)&&e.set(s,a+5),i.get(27-o)&&e.set(a-5,s)}else for(var o=0;o<10;o++){var s=a-5+o+Et.truncDivision(o,5);i.get(o)&&e.set(s,a-7),i.get(o+10)&&e.set(a+7,s),i.get(29-o)&&e.set(s,a+7),i.get(39-o)&&e.set(a-7,s)}},t.generateCheckWords=function(e,r,n){var i,a,o=e.getSize()/n,s=new HH(t.getGF(n)),u=Et.truncDivision(r,n),l=t.bitsToWords(e,n,u);s.encode(l,u-o);var c=r%n,f=new wn;f.appendBits(0,c);try{for(var h=zCe(Array.from(l)),v=h.next();!v.done;v=h.next()){var g=v.value;f.appendBits(g,n)}}catch(m){i={error:m}}finally{try{v&&!v.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return f},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),a,o;for(a=0,o=e.getSize()/r;a<o;a++){for(var s=0,u=0;u<r;u++)s|=e.get(a*r+u)?1<<r-u-1:0;i[a]=s}return i},t.getGF=function(e){switch(e){case 4:return Si.AZTEC_PARAM;case 6:return Si.AZTEC_DATA_6;case 8:return Si.AZTEC_DATA_8;case 10:return Si.AZTEC_DATA_10;case 12:return Si.AZTEC_DATA_12;default:throw new Qe("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new wn,i=e.getSize(),a=(1<<r)-2,o=0;o<i;o+=r){for(var s=0,u=0;u<r;u++)(o+u>=i||e.get(o+u))&&(s|=1<<r-1-u);(s&a)===a?(n.appendBits(s&a,r),o--):(s&a)===0?(n.appendBits(s|1,r),o--):n.appendBits(s,r)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();var WCe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),HCe=function(t){WCe(e,t);function e(r){var n=t.call(this,r.width,r.height)||this;return n.canvas=r,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(r),n}return e.makeBufferFromCanvasImageData=function(r){var n;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}if(!n)throw new Error("Couldn't get canvas context.");var i=n.getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height)},e.toGrayscaleBuffer=function(r,n,i){for(var a=new Uint8ClampedArray(n*i),o=0,s=0,u=r.length;o<u;o+=4,s++){var l=void 0,c=r[o+3];if(c===0)l=255;else{var f=r[o],h=r[o+1],v=r[o+2];l=306*f+601*h+117*v+512>>10}a[s]=l}return a},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Qe("Requested row is outside the image: "+r);var i=this.getWidth(),a=r*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return t.prototype.crop.call(this,r,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new Aw(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement();if(!n)throw new Error("Could not create a Canvas element.");var i=r*e.DEGREE_TO_RADIANS,a=this.canvas.width,o=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(i))*a+Math.abs(Math.sin(i))*o),u=Math.ceil(Math.abs(Math.sin(i))*a+Math.abs(Math.cos(i))*o);n.width=s,n.height=u;var l=n.getContext("2d");if(!l)throw new Error("Could not create a Canvas Context element.");return l.translate(s/2,u/2),l.rotate(i),l.drawImage(this.canvas,a/-2,o/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.DEGREE_TO_RADIANS=Math.PI/180,e}(b0);function YH(){return typeof navigator<"u"}function GCe(){return YH()&&!!navigator.mediaDevices}function KCe(){return!!(GCe()&&navigator.mediaDevices.enumerateDevices)}var Sf=function(){return Sf=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Sf.apply(this,arguments)},br=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})},Er=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},bO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},XCe={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},qd=function(){function t(e,r,n){r===void 0&&(r=new Map),n===void 0&&(n={}),this.reader=e,this.hints=r,this.options=Sf(Sf({},XCe),n)}return Object.defineProperty(t.prototype,"possibleFormats",{set:function(e){this.hints.set(lr.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),t.addVideoSource=function(e,r){try{e.srcObject=r}catch{console.error("got interrupted by new loading request")}},t.mediaStreamSetTorch=function(e,r){return br(this,void 0,void 0,function(){return Er(this,function(n){switch(n.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:r?"flash":"off",torch:!!r}]})];case 1:return n.sent(),[2]}})})},t.mediaStreamIsTorchCompatible=function(e){var r,n,i=e.getVideoTracks();try{for(var a=bO(i),o=a.next();!o.done;o=a.next()){var s=o.value;if(t.mediaStreamIsTorchCompatibleTrack(s))return!0}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return!1},t.mediaStreamIsTorchCompatibleTrack=function(e){try{var r=e.getCapabilities();return"torch"in r}catch(n){return console.error(n),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},t.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},t.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new jr("element with id '".concat(e,"' not found"));if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new jr("element with id '".concat(e,"' must be an ").concat(r," element"));return n},t.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return t.getMediaElement(e,"video");if(!e&&typeof document<"u"){var r=document.createElement("video");return r.width=200,r.height=200,r}throw new Error("Couldn't get videoElement from videoSource!")},t.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return t.getMediaElement(e,"img");if(typeof e>"u"){var r=document.createElement("img");return r.width=200,r.height=200,r}throw new Error("Couldn't get imageElement from imageSource!")},t.prepareVideoElement=function(e){var r=t.createVideoElement(e);return r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.createBinaryBitmapFromCanvas=function(e){var r=new HCe(e),n=new kH(r);return new NH(n)},t.drawImageOnCanvas=function(e,r){e.drawImage(r,0,0)},t.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},t.createCaptureCanvas=function(e){if(!e)throw new jr("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var r=document.createElement("canvas"),n=t.getMediaElementDimensions(e),i=n.width,a=n.height;return r.style.width=i+"px",r.style.height=a+"px",r.width=i,r.height=a,r},t.tryPlayVideo=function(e){return br(this,void 0,void 0,function(){var r;return Er(this,function(n){switch(n.label){case 0:if(e?.ended)return console.error("Trying to play video that has ended."),[2,!1];if(t.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[2,!0];case 3:return r=n.sent(),console.warn("It was not possible to play the video.",r),[2,!1];case 4:return[2]}})})},t.createCanvasFromMediaElement=function(e){var r=t.createCaptureCanvas(e),n=r.getContext("2d");if(!n)throw new Error("Couldn't find Canvas 2D Context.");return t.drawImageOnCanvas(n,e),r},t.createBinaryBitmapFromMediaElem=function(e){var r=t.createCanvasFromMediaElement(e);return t.createBinaryBitmapFromCanvas(r)},t.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},t.listVideoInputDevices=function(){return br(this,void 0,void 0,function(){var e,r,n,i,a,o,s,u,l,c,f,h;return Er(this,function(v){switch(v.label){case 0:if(!YH())throw new Error("Can't enumerate devices, navigator is not present.");if(!KCe())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=v.sent(),r=[];try{for(n=bO(e),i=n.next();!i.done;i=n.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(s=a.deviceId||a.id,u=a.label||"Video device ".concat(r.length+1),l=a.groupId,c={deviceId:s,label:u,kind:o,groupId:l},r.push(c))}catch(g){f={error:g}}finally{try{i&&!i.done&&(h=n.return)&&h.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},t.findDeviceById=function(e){return br(this,void 0,void 0,function(){var r;return Er(this,function(n){switch(n.label){case 0:return[4,t.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2]}})})},t.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},t.releaseAllStreams=function(){t.streamTracker.length!==0&&t.streamTracker.forEach(function(e){e.getTracks().forEach(function(r){return r.stop()})}),t.streamTracker=[]},t.playVideoOnLoadAsync=function(e,r){return br(this,void 0,void 0,function(){var n;return Er(this,function(i){switch(i.label){case 0:return[4,t.tryPlayVideo(e)];case 1:return n=i.sent(),n?[2,!0]:[2,new Promise(function(a,o){var s=setTimeout(function(){t.isVideoPlaying(e)||(o(!1),e.removeEventListener("canplay",u))},r),u=function(){t.tryPlayVideo(e).then(function(l){clearTimeout(s),e.removeEventListener("canplay",u),a(l)})};e.addEventListener("canplay",u)})]}})})},t.attachStreamToVideo=function(e,r,n){return n===void 0&&(n=5e3),br(this,void 0,void 0,function(){var i;return Er(this,function(a){switch(a.label){case 0:return i=t.prepareVideoElement(r),t.addVideoSource(i,e),[4,t.playVideoOnLoadAsync(i,n)];case 1:return a.sent(),[2,i]}})})},t._waitImageLoad=function(e){return new Promise(function(r,n){var i=1e4,a=setTimeout(function(){t.isImageLoaded(e)||(e.removeEventListener("load",o),n())},i),o=function(){clearTimeout(a),e.removeEventListener("load",o),r()};e.addEventListener("load",o)})},t.checkCallbackFnOrThrow=function(e){if(!e)throw new jr("`callbackFn` is a required parameter, you cannot capture results without it.")},t.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(r){return r.stop()}),e=void 0},t.prototype.decode=function(e){var r=t.createCanvasFromMediaElement(e);return this.decodeFromCanvas(r)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},t.prototype.decodeFromCanvas=function(e){var r=t.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(r)},t.prototype.decodeFromImageElement=function(e){return br(this,void 0,void 0,function(){var r;return Er(this,function(n){switch(n.label){case 0:if(!e)throw new jr("An image element must be provided.");return r=t.prepareImageElement(e),[4,this._decodeOnLoadImage(r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeFromImageUrl=function(e){return br(this,void 0,void 0,function(){var r;return Er(this,function(n){switch(n.label){case 0:if(!e)throw new jr("An URL must be provided.");r=t.prepareImageElement(),r.src=e,n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.decodeFromImageElement(r)];case 2:return[2,n.sent()];case 3:return t.destroyImageElement(r),[7];case 4:return[2]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return br(this,void 0,void 0,function(){var i,a;return Er(this,function(o){switch(o.label){case 0:return t.checkCallbackFnOrThrow(n),[4,this.getUserMedia(e)];case 1:i=o.sent(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.decodeFromStream(i,r,n)];case 3:return[2,o.sent()];case 4:throw a=o.sent(),t.disposeMediaStream(i),a;case 5:return[2]}})})},t.prototype.decodeFromStream=function(e,r,n){return br(this,void 0,void 0,function(){var i,a,o,s,u,l,c,f,h,v=this;return Er(this,function(g){switch(g.label){case 0:return t.checkCallbackFnOrThrow(n),i=this.options.tryPlayVideoTimeout,[4,t.attachStreamToVideo(e,r,i)];case 1:return a=g.sent(),o=function(){t.disposeMediaStream(e),t.cleanVideoSource(a)},s=this.scan(a,n,o),u=e.getVideoTracks(),l=Sf(Sf({},s),{stop:function(){s.stop()},streamVideoConstraintsApply:function(m,_){return br(this,void 0,void 0,function(){var b,E,A,C,O,R,I;return Er(this,function(S){switch(S.label){case 0:b=_?u.filter(_):u,S.label=1;case 1:S.trys.push([1,6,7,8]),E=bO(b),A=E.next(),S.label=2;case 2:return A.done?[3,5]:(C=A.value,[4,C.applyConstraints(m)]);case 3:S.sent(),S.label=4;case 4:return A=E.next(),[3,2];case 5:return[3,8];case 6:return O=S.sent(),R={error:O},[3,8];case 7:try{A&&!A.done&&(I=E.return)&&I.call(E)}finally{if(R)throw R.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(m){return u.find(m).getConstraints()},streamVideoSettingsGet:function(m){return u.find(m).getSettings()},streamVideoCapabilitiesGet:function(m){return u.find(m).getCapabilities()}}),c=t.mediaStreamIsTorchCompatible(e),c&&(f=u?.find(function(m){return t.mediaStreamIsTorchCompatibleTrack(m)}),h=function(m){return br(v,void 0,void 0,function(){return Er(this,function(_){switch(_.label){case 0:return[4,t.mediaStreamSetTorch(f,m)];case 1:return _.sent(),[2]}})})},l.switchTorch=h,l.stop=function(){return br(v,void 0,void 0,function(){return Er(this,function(m){switch(m.label){case 0:return s.stop(),[4,h(!1)];case 1:return m.sent(),[2]}})})}),[2,l]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return br(this,void 0,void 0,function(){var i,a;return Er(this,function(o){switch(o.label){case 0:return t.checkCallbackFnOrThrow(n),e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromVideoElement=function(e,r){return br(this,void 0,void 0,function(){var n,i;return Er(this,function(a){switch(a.label){case 0:if(t.checkCallbackFnOrThrow(r),!e)throw new jr("A video element must be provided.");return n=t.prepareVideoElement(e),i=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,i)];case 1:return a.sent(),[2,this.scan(n,r)]}})})},t.prototype.decodeFromVideoUrl=function(e,r){return br(this,void 0,void 0,function(){var n,i,a,o;return Er(this,function(s){switch(s.label){case 0:if(t.checkCallbackFnOrThrow(r),!e)throw new jr("An URL must be provided.");return n=t.prepareVideoElement(),n.src=e,i=function(){t.cleanVideoSource(n)},a=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,a)];case 1:return s.sent(),o=this.scan(n,r,i),[2,o]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return br(this,void 0,void 0,function(){var n;return Er(this,function(i){switch(i.label){case 0:return[4,this.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return br(this,void 0,void 0,function(){var n,i,a;return Er(this,function(o){switch(o.label){case 0:return n=!!r,[4,t.attachStreamToVideo(e,r)];case 1:i=o.sent(),o.label=2;case 2:return o.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return a=o.sent(),[2,a];case 4:return n||t.cleanVideoSource(i),[7];case 5:return[2]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return br(this,void 0,void 0,function(){var n,i;return Er(this,function(a){switch(a.label){case 0:return e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromVideoElement=function(e){return br(this,void 0,void 0,function(){var r,n;return Er(this,function(i){switch(i.label){case 0:if(!e)throw new jr("A video element must be provided.");return r=t.prepareVideoElement(e),n=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(r,n)];case 1:return i.sent(),[4,this.scanOneResult(r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromVideoUrl=function(e){return br(this,void 0,void 0,function(){var r,n;return Er(this,function(i){switch(i.label){case 0:if(!e)throw new jr("An URL must be provided.");r=t.prepareVideoElement(),r.src=e,n=this.decodeOnceFromVideoElement(r),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,n];case 2:return[2,i.sent()];case 3:return t.cleanVideoSource(r),[7];case 4:return[2]}})})},t.prototype.scanOneResult=function(e,r,n,i){var a=this;return r===void 0&&(r=!0),n===void 0&&(n=!0),i===void 0&&(i=!0),new Promise(function(o,s){a.scan(e,function(u,l,c){if(u){o(u),c.stop();return}if(l){if(l instanceof ge&&r||l instanceof Wr&&n||l instanceof ke&&i)return;c.stop(),s(l)}})})},t.prototype.scan=function(e,r,n){var i=this;t.checkCallbackFnOrThrow(r);var a=t.createCaptureCanvas(e),o;try{o=a.getContext("2d",{willReadFrequently:!0})}catch{o=a.getContext("2d")}if(!o)throw new Error("Couldn't create canvas for visual element scan.");var s=function(){o=void 0,a=void 0},u=!1,l,c=function(){u=!0,clearTimeout(l),s(),n&&n()},f={stop:c},h=function(){if(!u)try{t.drawImageOnCanvas(o,e);var v=i.decodeFromCanvas(a);r(v,void 0,f),l=setTimeout(h,i.options.delayBetweenScanSuccess)}catch(b){r(void 0,b,f);var g=b instanceof Wr,m=b instanceof ke,_=b instanceof ge;if(g||m||_){l=setTimeout(h,i.options.delayBetweenScanAttempts);return}s(),n&&n(b)}};return h(),f},t.prototype._decodeOnLoadImage=function(e){return br(this,void 0,void 0,function(){var r;return Er(this,function(n){switch(n.label){case 0:return r=t.isImageLoaded(e),r?[3,2]:[4,t._waitImageLoad(e)];case 1:n.sent(),n.label=2;case 2:return[2,this.decode(e)]}})})},t.prototype.getUserMedia=function(e){return br(this,void 0,void 0,function(){var r;return Er(this,function(n){switch(n.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=n.sent(),t.streamTracker.push(r),[2,r]}})})},t.streamTracker=[],t}(),YCe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){YCe(e,t);function e(r,n){return t.call(this,new H1,r,n)||this}return e})(qd);var QCe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){QCe(e,t);function e(r,n){return t.call(this,new Ef(r),r,n)||this}return e})(qd);var ZCe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){ZCe(e,t);function e(r,n){return t.call(this,new K1,r,n)||this}return e})(qd);var JCe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),eIe=function(t){JCe(e,t);function e(r,n){var i=this,a=new WH;return a.setHints(r),i=t.call(this,a,r,n)||this,i.reader=a,i}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(r){this.hints.set(lr.POSSIBLE_FORMATS,r),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e.prototype.setHints=function(r){this.hints=r,this.reader.setHints(this.hints)},e}(qd),tIe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){tIe(e,t);function e(r,n){return t.call(this,new Y1,r,n)||this}return e})(qd);var rIe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){rIe(e,t);function e(r,n){return t.call(this,new X1,r,n)||this}return e})(qd);function nIe({onClose:t}){const e=z.useRef(null),r=z.useRef(null),n=UK();return z.useEffect(()=>(r.current=new eIe,r.current.decodeOnceFromVideoDevice(void 0,e.current).then(i=>{const a=i?.text;a&&(t(),n(`/grow/${a}`))}).catch(i=>{console.error("Scan error",i),t()}),()=>{try{r.current?.stopContinuousDecode?.()}catch(i){console.warn("Scanner cleanup failed",i)}}),[n,t]),k.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-60 flex items-center justify-center",children:k.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-xl shadow max-w-sm w-full space-y-4 relative",children:[k.jsx("button",{onClick:t,className:"absolute top-2 right-3 text-zinc-500 hover:text-red-500 text-lg",children:""}),k.jsx("h2",{className:"text-lg font-bold text-center text-zinc-800 dark:text-white",children:" Scan Grow Barcode"}),k.jsx("video",{ref:e,className:"w-full rounded shadow"}),k.jsx("p",{className:"text-center text-xs text-zinc-500 dark:text-zinc-400",children:"Point at a barcode to view grow details."})]})})}const z7=["Inoculated","Colonizing","Colonized","Fruiting","Harvested"];function iIe(){const{growId:t}=qK(),[e,r]=z.useState(null),[n,i]=z.useState(""),[a,o]=z.useState({}),[s,u]=z.useState([]);z.useEffect(()=>{l()},[t]);const l=async()=>{const g=ut.currentUser;if(!g||!t)return;const m=await Vp(er(Ke,"users",g.uid,"grows",t));m.exists()&&(r({id:m.id,...m.data()}),c(g.uid))},c=async g=>{const m=BI(Qt(Ke,`users/${g}/grows/${t}/environmentLogs`),qI("timestamp","desc")),_=await Ci(m);u(_.docs.map(b=>({id:b.id,...b.data()})))},f=async g=>{const m=ut.currentUser;if(!m||!e)return;const _=er(Ke,"users",m.uid,"grows",e.id);await Zi(_,g),r(b=>({...b,...g}))},h=async()=>{if(!n.trim())return;const g=[...e.notes||[],{text:n.trim(),date:new Date().toISOString()}];await f({notes:g}),i("")},v=async()=>{const g=ut.currentUser;if(!g||!a.stage||!a.temperature||!a.humidity)return;const m={...a,temperature:parseFloat(a.temperature),humidity:parseFloat(a.humidity),timestamp:new Date};await Ji(Qt(Ke,`users/${g.uid}/grows/${e.id}/environmentLogs`),m),o({}),c(g.uid)};return e?k.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[k.jsxs("h1",{className:"text-2xl font-bold",children:[" ",e.strain||"Unnamed","  ",e.stage]}),k.jsx("div",{className:"flex flex-wrap gap-2",children:z7.map(g=>k.jsx("button",{onClick:()=>f({stage:g}),className:`px-3 py-1 rounded-full ${e.stage===g?"bg-blue-600 text-white":"bg-zinc-200 dark:bg-zinc-700"}`,children:g},g))}),k.jsxs("div",{children:[k.jsx("h2",{className:"text-lg font-semibold",children:" Notes"}),k.jsx("textarea",{value:n,onChange:g=>i(g.target.value),className:"w-full p-2 border rounded dark:bg-zinc-800 dark:text-white",placeholder:"Add note..."}),k.jsx("button",{onClick:h,className:"mt-2 bg-blue-600 text-white px-4 py-1 rounded",children:" Add Note"}),k.jsx("ul",{className:"mt-3 space-y-2 text-sm",children:(e.notes||[]).map((g,m)=>k.jsxs("li",{className:"border-t pt-2",children:[g.text,k.jsx("div",{className:"text-xs text-zinc-500",children:new Date(g.date).toLocaleString()})]},m))})]}),k.jsxs("div",{children:[k.jsx("h2",{className:"text-lg font-semibold",children:" Environment Log"}),k.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[k.jsxs("select",{value:a.stage||"",onChange:g=>o({...a,stage:g.target.value}),className:"p-2 border rounded",children:[k.jsx("option",{value:"",children:"Stage"}),z7.map(g=>k.jsx("option",{value:g,children:g},g))]}),k.jsx("input",{type:"number",placeholder:"Temp (F)",value:a.temperature||"",onChange:g=>o({...a,temperature:g.target.value}),className:"p-2 border rounded"}),k.jsx("input",{type:"number",placeholder:"Humidity (%)",value:a.humidity||"",onChange:g=>o({...a,humidity:g.target.value}),className:"p-2 border rounded"}),k.jsx("input",{type:"text",placeholder:"Notes",value:a.notes||"",onChange:g=>o({...a,notes:g.target.value}),className:"p-2 border rounded"})]}),k.jsx("button",{onClick:v,className:"mt-2 px-4 py-1 bg-green-600 text-white rounded",children:" Save Log"}),s.length>0&&k.jsx("div",{className:"mt-4 space-y-2 text-sm",children:s.map(g=>k.jsxs("div",{className:"p-2 bg-zinc-100 dark:bg-zinc-800 rounded",children:[k.jsxs("div",{className:"flex justify-between font-semibold",children:[k.jsx("span",{children:g.stage}),k.jsx("span",{children:new Date(g.timestamp.toDate()).toLocaleString()})]}),k.jsxs("div",{children:["Temp: ",g.temperature,"F | RH: ",g.humidity,"%"]}),g.notes&&k.jsx("div",{className:"italic text-xs",children:g.notes})]},g.id))})]})]}):k.jsx("div",{className:"p-6",children:"Loading grow..."})}const aIe=localStorage.getItem("theme");aIe==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");function oIe(){const[t,e]=z.useState(null),[r,n]=z.useState([]),[i,a]=z.useState(null),[o,s]=z.useState(""),[u,l]=z.useState("dashboard"),[c,f]=z.useState(!1),[h,v]=z.useState(!1),[g,m]=z.useState([]),[_,b]=z.useState([]),[E,A]=z.useState(!1);z.useEffect(()=>{const T=tI(ut,async D=>{e(D),D?await C(D.uid):(n([]),m([]),b([]),v(!0))});return()=>T()},[]);const C=async T=>{const D=Qt(Ke,"users",T,"grows"),L=Qt(Ke,"users",T,"supplies"),F=Qt(Ke,"users",T,"recipes"),[j,K,ee]=await Promise.all([Ci(D),Ci(L),Ci(F)]),W=K.docs.map(ae=>({id:ae.id,...ae.data()})),te=ee.docs.map(ae=>({id:ae.id,...ae.data()})),X=j.docs.map(ae=>{const xe={id:ae.id,...ae.data()},Oe=te.find(Te=>Te.id===xe.recipeId);return xe.recipeItems=Oe?.items?.map(Te=>{const Be=W.find(Ae=>Ae.id===Te.supplyId);return{...Te,name:Be?.name||"Unknown",unit:Be?.unit||"",cost:Be?.cost||0}})||[],xe});n(X),m(W),b(te);const Q=er(Ke,"users",T,"settings","onboarding"),se=await Vp(Q);(!se.exists()||!se.data().seen)&&f(!0);const q=er(Ke,"users",T,"settings","preferences"),Y=await Vp(q);if(Y.exists()){const ae=Y.data();ae.theme==="dark"||ae.darkMode?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"));const xe=`theme-${ae.theme||"default"}`;document.body.classList.remove("theme-default","theme-high-contrast","theme-pastel"),document.body.classList.add(xe),document.documentElement.style.fontSize=ae.fontSize==="small"?"14px":ae.fontSize==="large"?"18px":"16px",document.body.classList.toggle("dyslexia-font",ae.dyslexicFont),document.body.classList.toggle("reduce-motion",ae.reduceMotion)}v(!0)},O=async()=>{await qB(ut),e(null)},R=async(T,D)=>{const L=ut.currentUser;if(!L)return;const F=r.find(ee=>ee.id===T);if(!F)return;const j={...F.stageDates||{},[D]:new Date().toISOString()},K=er(Ke,`users/${L.uid}/grows`,T);await Zi(K,{stage:D,stageDates:j,updatedAt:qp()}),n(ee=>ee.map(W=>W.id===T?{...W,stage:D,stageDates:j}:W))},I=async()=>{const T=ut.currentUser;if(!T)return;const D=er(Ke,"users",T.uid,"settings","onboarding");await QO(D,{seen:!0},{merge:!0}),f(!1)},S=o?r.filter(T=>T.strain?.toLowerCase().includes(o.toLowerCase())):r;return h?t?k.jsxs(k.Fragment,{children:[E&&k.jsx(nIe,{onClose:()=>A(!1)}),k.jsxs(aX,{children:[k.jsx(AO,{path:"/grow/:growId",element:k.jsx(iIe,{})}),k.jsx(AO,{path:"/",element:k.jsxs("div",{className:"min-h-screen overflow-y-auto p-4 bg-white text-gray-900 dark:bg-gray-900 dark:text-white transition-colors duration-300",children:[c&&k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:k.jsxs("div",{className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white p-6 rounded shadow-lg max-w-lg w-full space-y-4",children:[k.jsx("h2",{className:"text-2xl font-bold",children:" Welcome to Chaotic Mycology!"}),k.jsx("p",{children:"This app helps you track your mushroom grows from spore to harvest."}),k.jsxs("ul",{className:"list-disc list-inside text-sm space-y-1",children:[k.jsx("li",{children:" Add and edit your grows"}),k.jsx("li",{children:" View stage progress and timelines"}),k.jsx("li",{children:" Upload photos and track yield"}),k.jsx("li",{children:" Track cost of goods and recipes"}),k.jsx("li",{children:" Visualize analytics and export logbooks"})]}),k.jsx("button",{onClick:I,className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition",children:"Let's Get Started!"})]})}),k.jsxs("div",{className:"flex justify-between items-center mb-6",children:[k.jsxs("div",{className:"flex items-center gap-4 w-full justify-center",children:[k.jsx("img",{src:"/logo.png",alt:"Logo",className:"h-32 w-32 sm:h-40 sm:w-40 rounded-full shadow-md"}),k.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-center",children:"Chaotic Mycology"}),k.jsx("img",{src:"/logo.png",alt:"Logo",className:"h-32 w-32 sm:h-40 sm:w-40 rounded-full shadow-md"})]}),k.jsx("button",{onClick:O,className:"absolute right-4 top-4 text-sm text-red-500 hover:underline",children:"Logout"})]}),k.jsxs("div",{className:"flex justify-center mb-6 flex-wrap gap-2",children:[[{id:"dashboard",label:"Dashboard"},{id:"timeline",label:"Timeline"},{id:"analytics",label:"Analytics"},{id:"calendar",label:"Calendar"},{id:"tasks",label:"Tasks"},{id:"cog",label:"COG"},{id:"recipes",label:"Recipes"},{id:"strains",label:"Strains"},{id:"labels",label:"Labels"},{id:"settings",label:"Settings"}].map(({id:T,label:D})=>k.jsx("button",{className:`px-4 py-2 rounded-lg transition-colors duration-200 ${u===T?"bg-blue-600 text-white shadow":"bg-white text-blue-600 border border-blue-600 hover:bg-blue-100 dark:bg-gray-800 dark:text-blue-300 dark:border-blue-300"}`,onClick:()=>l(T),children:D},T)),k.jsx("button",{onClick:()=>A(!0),className:"px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700",children:" Scan Grow"})]}),k.jsxs("div",{className:"space-y-6 pb-10",children:[u==="dashboard"&&k.jsxs(k.Fragment,{children:[k.jsx(mAe,{grows:r,recipes:_,supplies:g}),i?k.jsx(zU,{grows:r,setGrows:n,editingGrow:i,setEditingGrow:a}):k.jsx("div",{className:"flex justify-end",children:k.jsx("button",{onClick:()=>a({}),className:"px-4 py-2 bg-blue-600 text-white rounded shadow hover:bg-blue-700",children:"Add New Grow"})}),k.jsx(Vne,{filter:o,setFilter:s}),k.jsx(Une,{grows:S,setGrows:n,setEditingGrow:a}),k.jsx(qne,{grows:r,setGrows:n}),k.jsx(Kne,{grows:r}),k.jsx(Xne,{grows:r,setGrows:n})]}),u==="timeline"&&k.jsx(sAe,{grows:r,setGrows:n,updateGrowStage:R}),u==="analytics"&&k.jsx(U_e,{grows:r,supplies:g}),u==="calendar"&&k.jsx(iAe,{grows:r}),u==="tasks"&&k.jsx(oAe,{selectedGrowId:null}),u==="cog"&&k.jsx(vAe,{}),u==="recipes"&&k.jsx(gAe,{}),u==="strains"&&k.jsx(yAe,{}),u==="labels"&&k.jsx(uSe,{grows:r}),u==="settings"&&k.jsx(aAe,{})]})]})})]})]}):k.jsx(Bne,{setUser:e}):k.jsx(lSe,{})}const sIe=z.createContext();function uIe({children:t}){const[e,r]=z.useState(null),[n,i]=z.useState(!0),a=(l,c)=>UB(ut,l,c),o=(l,c)=>VB(ut,l,c),s=()=>qB(ut);z.useEffect(()=>tI(ut,c=>{r(c),i(!1)}),[]);const u={user:e,signup:a,login:o,logout:s};return k.jsx(sIe.Provider,{value:u,children:!n&&t})}cK.createRoot(document.getElementById("root")).render(k.jsx($.StrictMode,{children:k.jsx(uX,{children:k.jsx(uIe,{children:k.jsx(oIe,{})})})}));
