<!doctype html>
<html lang="en">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Auth Diagnostic</title>
  <style>
    :root { color-scheme: dark; }
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif; margin: 0; background:#0b0f17; color:#e5e7eb }
    .wrap { max-width: 820px; margin: 32px auto; padding: 16px; }
    h1 { font-size: 20px; margin: 0 0 12px; }
    button { padding: 8px 12px; border-radius: 10px; border: 0; background:#16a34a; color:#fff; cursor:pointer }
    button:disabled { opacity:.6; cursor:not-allowed }
    .row { display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin: 10px 0 }
    .muted { color:#a1a1aa }
    .box { background:#0f172a; border:1px solid #1f2937; border-radius: 12px; padding: 12px; margin: 12px 0 }
    input { background:#111827; border:1px solid #1f2937; color:#e5e7eb; padding:8px 10px; border-radius:10px; width:260px }
    code, pre { background:#111827; padding:4px 8px; border-radius:6px }
    .ok { color:#22c55e } .bad { color:#ef4444 } .warn { color:#f59e0b }
    .tag { background:#1f2937; border-radius:999px; padding:2px 8px; font-size:12px }
  </style>
  <div class="wrap">
    <h1>Auth Diagnostic</h1>
    <div id="status" class="box"></div>

    <div class="box">
      <div class="row">
        <button id="btnPing">Ping Auth Emulator</button>
        <span class="muted">Checks <code>http://127.0.0.1:9099</code> from this tab.</span>
      </div>
      <div class="row">
        <button id="btnAnon">Sign in Anonymously</button>
        <span class="muted">Verifies basic auth calls work.</span>
      </div>
      <div class="row">
        <input id="email" type="email" placeholder="email@example.com" />
        <input id="pass" type="password" placeholder="password" />
      </div>
      <div class="row">
        <button id="btnSignup">Create user (Email/Pass)</button>
        <button id="btnSignin">Sign in (Email/Pass)</button>
      </div>
    </div>

    <div class="box">
      <b>Result</b>
      <pre id="out">Ready.</pre>
    </div>
  </div>

  <!-- Import our module via Vite -->
  <script type="module" src="/src/dev/diag-auth.js"></script>
</html>
