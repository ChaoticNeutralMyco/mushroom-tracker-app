/* desktop.css â€” desktop-only grow list & cards polish
   - Compact row layout + subtle separators
   - Emphasize current stage
   - Smaller "Store / Edit" buttons
   - Keeps cost + actions on the right
*/

@media (min-width: 1024px) {

  /* ===== A) (Legacy) Hide any leftover header rows/bands ===== */
  :where(.grow-list, .grows-list, .grow-table, .dashboard-grows, .grows)
    :is(table thead, thead, [role="rowgroup"], [role="columnheader"],
        .list-header, .header-row, .table-head, .columns-head,
        [data-role="minihead"], [data-row="header"],
        .text-xs.uppercase) {
    display: none !important;
    visibility: hidden !important;
  }

  /* ===== B) Card/list layout normalizer ===== */
  :where(.grow-card, .grow-row, .grow-item) {
    position: relative;
    display: flex;
    flex-direction: column;
  }

  /* Keep footer/actions tidy at the bottom */
  :where(.grow-card, .grow-row, .grow-item) :is(.actions, .footer-actions, .card-actions, .footer, .card-footer) {
    display: flex !important;
    flex-wrap: nowrap;
    align-items: center;
    justify-content: flex-end;
    gap: 0.5rem;
    margin-top: 0.5rem;
  }

  /* Right-aligned cost, stable digits */
  :where(.grow-card, .grow-row, .grow-item) :is(.cost, .price, [data-field="cost"], [class*="cost"]) {
    margin-left: auto !important;
    text-align: right !important;
    font-variant-numeric: tabular-nums;
    white-space: nowrap;
    font-weight: 600;
  }

  /* ===== C) Compact rows + subtle separators (GrowList.jsx wrapper uses .divide-y) ===== */
  :where(.grow-list, .grows-list, .grow-table, .dashboard-grows, .grows) [role="table"] > .divide-y > [role="row"],
  :where(.grow-list, .grows-list, .grow-table, .dashboard-grows, .grows) .divide-y > [role="row"],
  :where(.grow-list, .grows-list, .grow-table, .dashboard-grows, .grows) [role="row"] {
    gap: 0.5rem !important;           /* tighter than gap-3 */
    padding: 0.25rem 0.75rem !important; /* tighter than px-3 with less y */
    min-height: 52px;
  }

  /* Subtle separators (dash for a lighter look) */
  :where(.grow-list, .grows-list, .grow-table, .dashboard-grows, .grows) .divide-y > [role="row"] {
    border-bottom: 1px dashed rgba(0, 0, 0, 0.06);
  }
  :where(.dark) :where(.grow-list, .grows-list, .grow-table, .dashboard-grows, .grows) .divide-y > [role="row"] {
    border-bottom: 1px dashed rgba(255, 255, 255, 0.08);
  }
  :where(.grow-list, .grows-list, .grow-table, .dashboard-grows, .grows) .divide-y > [role="row"]:last-child {
    border-bottom: 0;
  }

  /* ===== D) Emphasize current stage (col 3 in the row grid) ===== */
  /* Row columns order in GrowList.jsx: [abbr/strain][type+inoc][stage/status][cost][actions] */
  :where(.grow-list, .grows-list, .dashboard-grows, .grows)
    [role="row"] > .col-span-2:nth-child(3) .text-sm {
    display: inline-block;
    padding: 2px 10px;
    border-radius: 9999px;
    font-weight: 600;
    line-height: 1.25;
    background: rgba(99, 102, 241, 0.10);   /* indigo-ish tint */
    color: rgb(67, 56, 202);
  }
  :where(.dark)
    :where(.grow-list, .grows-list, .dashboard-grows, .grows)
    [role="row"] > .col-span-2:nth-child(3) .text-sm {
    background: rgba(99, 102, 241, 0.18);
    color: rgb(165, 180, 252);
  }

  /* Tone down the "Status:" helper line beneath */
  :where(.grow-list, .grows-list, .dashboard-grows, .grows)
    [role="row"] > .col-span-2:nth-child(3) .text-xs {
    opacity: 0.8;
  }

  /* ===== E) Smaller Store/Edit buttons (row-only, so global chips/buttons unaffected) ===== */
  :where(.grow-list, .grows-list, .dashboard-grows, .grows) [role="row"] :is(.chip, .btn-outline, .edit-btn, [data-action="store"], [data-action="edit"]) {
    font-size: 0.75rem;        /* text-xs */
    padding: 0.25rem 0.5rem;   /* compact */
    border-radius: 0.5rem;
    height: auto;
    line-height: 1.15;
  }

  /* Tiny spacing fix so cost never collides with buttons */
  :where(.grow-list, .grows-list, .dashboard-grows, .grows) [role="row"] .cost + * {
    margin-left: 0.5rem;
  }
}
